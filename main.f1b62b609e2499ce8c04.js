(self.webpackChunktask_new_redactor=self.webpackChunktask_new_redactor||[]).push([[179],{8255:qe=>{function ye(V){return Promise.resolve().then(()=>{var l=new Error("Cannot find module '"+V+"'");throw l.code="MODULE_NOT_FOUND",l})}ye.keys=()=>[],ye.resolve=ye,ye.id=8255,qe.exports=ye},7716:(qe,ye,V)=>{"use strict";V.d(ye,{deG:()=>Xh,tb:()=>VT,AFp:()=>M0,ip1:()=>E0,CZH:()=>ih,hGG:()=>N0,z2F:()=>ym,sBO:()=>Aw,Sil:()=>mm,_Vd:()=>Kd,EJc:()=>gm,SBq:()=>xs,qLn:()=>Ja,vpe:()=>ga,gxx:()=>Bd,tBr:()=>qa,XFs:()=>Ye,OlP:()=>_n,zs3:()=>zn,ZZ4:()=>Yg,aQg:()=>jf,soG:()=>pm,YKP:()=>Uy,v3s:()=>Kk,h0i:()=>fc,PXZ:()=>MU,R0b:()=>rs,FiY:()=>Wa,Lbi:()=>D0,g9A:()=>LT,n_E:()=>cm,Qsj:()=>mF,FYo:()=>Wg,JOm:()=>b,Tiy:()=>Iw,q3G:()=>jn,tp0:()=>br,EAV:()=>_b,Rgc:()=>Qg,dDg:()=>T0,DyG:()=>Jo,q4F:()=>Mu,GfV:()=>dl,s_b:()=>zf,ifc:()=>Re,eFA:()=>KT,G48:()=>hb,Gpc:()=>H,f3M:()=>zp,X6Q:()=>_m,_c5:()=>rR,VLi:()=>Hk,c2e:()=>lb,zSh:()=>Ud,wAp:()=>dt,vHH:()=>Ne,EiD:()=>Id,mCW:()=>Ya,qzn:()=>au,JVY:()=>O_,pB0:()=>Ed,eBb:()=>Yp,L6k:()=>Zp,LAX:()=>oa,cg1:()=>oO,Tjo:()=>tR,kL8:()=>Ax,yhl:()=>cf,dqk:()=>_t,sIi:()=>Ig,CqO:()=>kg,QGY:()=>Fg,F4k:()=>Ey,RDi:()=>qs,AaK:()=>Z,z3N:()=>ia,qOj:()=>LC,TTD:()=>mr,_Bn:()=>Mw,xp6:()=>xo,uIk:()=>BC,Gre:()=>bx,ekj:()=>qd,Suo:()=>l0,Xpm:()=>Fr,lG2:()=>Yu,Yz7:()=>dn,cJS:()=>wn,oAB:()=>js,Yjl:()=>Mi,Y36:()=>xg,_UZ:()=>qA,GkF:()=>lw,BQk:()=>GD,ynx:()=>zD,qZA:()=>aw,TgZ:()=>jD,EpF:()=>$D,n5z:()=>Yc,Ikx:()=>rO,LFG:()=>yn,$8M:()=>Qh,NdJ:()=>Rg,CRH:()=>c0,kcU:()=>Np,O4$:()=>ld,oxw:()=>Dy,Hsn:()=>WD,F$t:()=>co,Q6J:()=>ow,VKq:()=>sT,WLB:()=>aT,iGM:()=>um,MAs:()=>wy,evT:()=>Os,CHM:()=>Uc,oJD:()=>Jp,LSH:()=>Xp,kYT:()=>Sc,Udp:()=>$d,WFA:()=>Ng,d8E:()=>iO,YNc:()=>GC,_uU:()=>ux,Oqu:()=>nO,hij:()=>fw,Gf:()=>rb});var l=V(9765),ne=V(5319),B=V(8891),ae=V(6682),re=V(8819);function ee(o){for(let s in o)if(o[s]===ee)return s;throw Error("Could not find renamed property on target object.")}function K(o,s){for(const c in s)s.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=s[c])}function Z(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(Z).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const c=s.indexOf("\n");return-1===c?s:s.substring(0,c)}function Q(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const U=ee({__forward_ref__:ee});function H(o){return o.__forward_ref__=H,o.toString=function(){return Z(this())},o}function $(o){return ue(o)?o():o}function ue(o){return"function"==typeof o&&o.hasOwnProperty(U)&&o.__forward_ref__===H}class Ne extends Error{constructor(s,c){super(function(o,s){return`${o?`NG0${o}: `:""}${s}`}(s,c)),this.code=s}}function se(o){return"string"==typeof o?o:null==o?"":String(o)}function Me(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():se(o)}function Nt(o,s){const c=s?` in ${s}`:"";throw new Ne("201",`No provider for ${Me(o)} found${c}`)}function jt(o,s){null==o&&function(o,s,c,u){throw new Error(`ASSERTION ERROR: ${o}`+(null==u?"":` [Expected=> ${c} ${u} ${s} <=Actual]`))}(s,o,null,"!=")}function dn(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function wn(o){return{providers:o.providers||[],imports:o.imports||[]}}function tr(o){return Ut(o,wo)||Ut(o,fr)}function Ut(o,s){return o.hasOwnProperty(s)?o[s]:null}function Zi(o){return o&&(o.hasOwnProperty(De)||o.hasOwnProperty(Zn))?o[De]:null}const wo=ee({\u0275prov:ee}),De=ee({\u0275inj:ee}),fr=ee({ngInjectableDef:ee}),Zn=ee({ngInjectorDef:ee});var Ye=(()=>((Ye=Ye||{})[Ye.Default=0]="Default",Ye[Ye.Host=1]="Host",Ye[Ye.Self=2]="Self",Ye[Ye.SkipSelf=4]="SkipSelf",Ye[Ye.Optional=8]="Optional",Ye))();let Gt;function $r(o){const s=Gt;return Gt=o,s}function rt(o,s,c){const u=tr(o);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:c&Ye.Optional?null:void 0!==s?s:void Nt(Z(o),"Injector")}function It(o){return{toString:o}.toString()}var St=(()=>((St=St||{})[St.OnPush=0]="OnPush",St[St.Default=1]="Default",St))(),Re=(()=>((Re=Re||{})[Re.Emulated=0]="Emulated",Re[Re.None=2]="None",Re[Re.ShadowDom=3]="ShadowDom",Re))();const nt="undefined"!=typeof globalThis&&globalThis,Wu="undefined"!=typeof window&&window,fs="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,_t=nt||"undefined"!=typeof global&&global||Wu||fs,Y={},G=[],X=ee({\u0275cmp:ee}),ve=ee({\u0275dir:ee}),le=ee({\u0275pipe:ee}),je=ee({\u0275mod:ee}),yt=ee({\u0275loc:ee}),Ht=ee({\u0275fac:ee}),Fn=ee({__NG_ELEMENT_ID__:ee});let kn=0;function Fr(o){return It(()=>{const c={},u={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===St.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||G,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Re.Emulated,id:"c",styles:o.styles||G,_:null,setInput:null,schemas:o.schemas||null,tView:null},h=o.directives,p=o.features,y=o.pipes;return u.id+=kn++,u.inputs=zs(o.inputs,c),u.outputs=zs(o.outputs),p&&p.forEach(v=>v(u)),u.directiveDefs=h?()=>("function"==typeof h?h():h).map(Dr):null,u.pipeDefs=y?()=>("function"==typeof y?y():y).map(Hs):null,u})}function Dr(o){return nr(o)||function(o){return o[ve]||null}(o)}function Hs(o){return function(o){return o[le]||null}(o)}const Ic={};function js(o){return It(()=>{const s={type:o.type,bootstrap:o.bootstrap||G,declarations:o.declarations||G,imports:o.imports||G,exports:o.exports||G,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(Ic[o.id]=o.type),s})}function Sc(o,s){return It(()=>{const c=Di(o,!0);c.declarations=s.declarations||G,c.imports=s.imports||G,c.exports=s.exports||G})}function zs(o,s){if(null==o)return Y;const c={};for(const u in o)if(o.hasOwnProperty(u)){let h=o[u],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),c[h]=u,s&&(s[h]=p)}return c}const Yu=Fr;function Mi(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function nr(o){return o[X]||null}function Di(o,s){const c=o[je]||null;if(!c&&!0===s)throw new Error(`Type ${Z(o)} does not have '\u0275mod' property.`);return c}function pn(o){return Array.isArray(o)&&"object"==typeof o[1]}function Or(o){return Array.isArray(o)&&!0===o[1]}function Ph(o){return 0!=(8&o.flags)}function Pa(o){return 2==(2&o.flags)}function Pc(o){return 1==(1&o.flags)}function Qi(o){return null!==o.template}function Ji(o){return 0!=(512&o[2])}function Do(o,s){return o.hasOwnProperty(Ht)?o[Ht]:null}class Sl{constructor(s,c,u){this.previousValue=s,this.currentValue=c,this.firstChange=u}isFirstChange(){return this.firstChange}}function mr(){return Pl}function Pl(o){return o.type.prototype.ngOnChanges&&(o.setInput=Lr),p_}function p_(){const o=xc(this),s=null==o?void 0:o.current;if(s){const c=o.previous;if(c===Y)o.previous=s;else for(let u in s)c[u]=s[u];o.current=null,this.ngOnChanges(s)}}function Lr(o,s,c,u){const h=xc(o)||function(o,s){return o[Oo]=s}(o,{previous:Y,current:null}),p=h.current||(h.current={}),y=h.previous,v=this.declaredInputs[c],E=y[v];p[v]=new Sl(E&&E.currentValue,s,y===Y),o[u]=s}mr.ngInherit=!0;const Oo="__ngSimpleChanges__";function xc(o){return o[Oo]||null}const Al="http://www.w3.org/2000/svg";let xa;function qs(o){xa=o}function gs(){return void 0!==xa?xa:"undefined"!=typeof document?document:void 0}function en(o){return!!o.listen}const To={createRenderer:(o,s)=>gs()};function Yt(o){for(;Array.isArray(o);)o=o[0];return o}function Ws(o,s){return Yt(s[o])}function hi(o,s){return Yt(s[o.index])}function ms(o,s){return o.data[s]}function Tr(o,s){const c=s[o];return pn(c)?c:c[0]}function Nc(o){return 4==(4&o[2])}function Lc(o){return 128==(128&o[2])}function Nn(o,s){return null==s?null:o[s]}function xl(o){o[18]=0}function Fl(o,s){o[5]+=s;let c=o,u=o[3];for(;null!==u&&(1===s&&1===c[5]||-1===s&&0===c[5]);)u[5]+=s,c=u,u=u[3]}const lt={lFrame:sd(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function kl(){return lt.bindingsEnabled}function Ce(){return lt.lFrame.lView}function Mt(){return lt.lFrame.tView}function Uc(o){return lt.lFrame.contextLView=o,o[8]}function an(){let o=Hc();for(;null!==o&&64===o.type;)o=o.parent;return o}function Hc(){return lt.lFrame.currentTNode}function Vr(o,s){const c=lt.lFrame;c.currentTNode=o,c.isParent=s}function ka(){return lt.lFrame.isParent}function Rl(){lt.lFrame.isParent=!1}function Ra(){return lt.isInCheckNoChangesMode}function Na(o){lt.isInCheckNoChangesMode=o}function Ln(){const o=lt.lFrame;let s=o.bindingRootIndex;return-1===s&&(s=o.bindingRootIndex=o.tView.bindingStartIndex),s}function Ii(){return lt.lFrame.bindingIndex++}function Br(o){const s=lt.lFrame,c=s.bindingIndex;return s.bindingIndex=s.bindingIndex+o,c}function Ll(o,s){const c=lt.lFrame;c.bindingIndex=c.bindingRootIndex=o,Vl(s)}function Vl(o){lt.lFrame.currentDirectiveIndex=o}function Bl(o){const s=lt.lFrame.currentDirectiveIndex;return-1===s?null:o[s]}function zc(){return lt.lFrame.currentQueryIndex}function La(o){lt.lFrame.currentQueryIndex=o}function Va(o){const s=o[1];return 2===s.type?s.declTNode:1===s.type?o[6]:null}function od(o,s,c){if(c&Ye.SkipSelf){let h=s,p=o;for(;!(h=h.parent,null!==h||c&Ye.Host||(h=Va(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;s=h,o=p}const u=lt.lFrame=zh();return u.currentTNode=s,u.lView=o,!0}function Zs(o){const s=zh(),c=o[1];lt.lFrame=s,s.currentTNode=c.firstChild,s.lView=o,s.tView=c,s.contextLView=o,s.bindingIndex=c.bindingStartIndex,s.inI18n=!1}function zh(){const o=lt.lFrame,s=null===o?null:o.child;return null===s?sd(o):s}function sd(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function Gh(){const o=lt.lFrame;return lt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const $h=Gh;function $o(){const o=Gh();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function ir(){return lt.lFrame.selectedIndex}function Ba(o){lt.lFrame.selectedIndex=o}function Mn(){const o=lt.lFrame;return ms(o.tView,o.selectedIndex)}function ld(){lt.lFrame.currentNamespace=Al}function Np(){lt.lFrame.currentNamespace=null}function Gc(o,s){for(let c=s.directiveStart,u=s.directiveEnd;c<u;c++){const p=o.data[c].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:v,ngAfterViewInit:E,ngAfterViewChecked:D,ngOnDestroy:P}=p;y&&(o.contentHooks||(o.contentHooks=[])).push(-c,y),v&&((o.contentHooks||(o.contentHooks=[])).push(c,v),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(c,v)),E&&(o.viewHooks||(o.viewHooks=[])).push(-c,E),D&&((o.viewHooks||(o.viewHooks=[])).push(c,D),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(c,D)),null!=P&&(o.destroyHooks||(o.destroyHooks=[])).push(c,P)}}function bs(o,s,c){cd(o,s,3,c)}function Ul(o,s,c,u){(3&o[2])===c&&cd(o,s,c,u)}function An(o,s){let c=o[2];(3&c)===s&&(c&=2047,c+=1,o[2]=c)}function cd(o,s,c,u){const p=null!=u?u:-1,y=s.length-1;let v=0;for(let E=void 0!==u?65535&o[18]:0;E<y;E++)if("number"==typeof s[E+1]){if(v=s[E],null!=u&&v>=u)break}else s[E]<0&&(o[18]+=65536),(v<p||-1==p)&&(Vp(o,c,s,E),o[18]=(4294901760&o[18])+E+2),E++}function Vp(o,s,c,u){const h=c[u]<0,p=c[u+1],v=o[h?-c[u]:c[u]];if(h){if(o[2]>>11<o[18]>>16&&(3&o[2])===s){o[2]+=2048;try{p.call(v)}finally{}}}else try{p.call(v)}finally{}}class Ha{constructor(s,c,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=u}}function Wh(o,s,c){const u=en(o);let h=0;for(;h<c.length;){const p=c[h];if("number"==typeof p){if(0!==p)break;h++;const y=c[h++],v=c[h++],E=c[h++];u?o.setAttribute(s,v,E,y):s.setAttributeNS(y,v,E)}else{const y=p,v=c[++h];Zo(y)?u&&o.setProperty(s,y,v):u?o.setAttribute(s,y,v):s.setAttribute(y,v),h++}}return h}function Bp(o){return 3===o||4===o||6===o}function Zo(o){return 64===o.charCodeAt(0)}function $c(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let c=-1;for(let u=0;u<s.length;u++){const h=s[u];"number"==typeof h?c=h:0===c||Up(o,c,h,null,-1===c||2===c?s[++u]:null)}}return o}function Up(o,s,c,u,h){let p=0,y=o.length;if(-1===s)y=-1;else for(;p<o.length;){const v=o[p++];if("number"==typeof v){if(v===s){y=-1;break}if(v>s){y=p-1;break}}}for(;p<o.length;){const v=o[p];if("number"==typeof v)break;if(v===c){if(null===u)return void(null!==h&&(o[p+1]=h));if(u===o[p+1])return void(o[p+2]=h)}p++,null!==u&&p++,null!==h&&p++}-1!==y&&(o.splice(y,0,s),p=y+1),o.splice(p++,0,c),null!==u&&o.splice(p++,0,u),null!==h&&o.splice(p++,0,h)}function hd(o){return-1!==o}function Cs(o){return 32767&o}function fi(o,s){let c=function(o){return o>>16}(o),u=s;for(;c>0;)u=u[15],c--;return u}let Hl=!0;function za(o){const s=Hl;return Hl=o,s}let Kh=0;function jl(o,s){const c=hn(o,s);if(-1!==c)return c;const u=s[1];u.firstCreatePass&&(o.injectorIndex=s.length,Ys(u.data,o),Ys(s,null),Ys(u.blueprint,null));const h=Le(o,s),p=o.injectorIndex;if(hd(h)){const y=Cs(h),v=fi(h,s),E=v[1].data;for(let D=0;D<8;D++)s[p+D]=v[y+D]|E[y+D]}return s[p+8]=h,p}function Ys(o,s){o.push(0,0,0,0,0,0,0,0,s)}function hn(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function Le(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,u=null,h=s;for(;null!==h;){const p=h[1],y=p.type;if(u=2===y?p.declTNode:1===y?h[6]:null,null===u)return-1;if(c++,h=h[15],-1!==u.injectorIndex)return u.injectorIndex|c<<16}return-1}function it(o,s,c){!function(o,s,c){let u;"string"==typeof c?u=c.charCodeAt(0)||0:c.hasOwnProperty(Fn)&&(u=c[Fn]),null==u&&(u=c[Fn]=Kh++);const h=255&u;s.data[o+(h>>5)]|=1<<h}(o,s,c)}function Ir(o,s,c){if(c&Ye.Optional)return o;Nt(s,"NodeInjector")}function Yo(o,s,c,u){if(c&Ye.Optional&&void 0===u&&(u=null),0==(c&(Ye.Self|Ye.Host))){const h=o[9],p=$r(void 0);try{return h?h.get(s,u,c&Ye.Optional):rt(s,u,c&Ye.Optional)}finally{$r(p)}}return Ir(u,s,c)}function zl(o,s,c,u=Ye.Default,h){if(null!==o){const p=function(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty(Fn)?o[Fn]:void 0;return"number"==typeof s?s>=0?255&s:Wc:s}(c);if("function"==typeof p){if(!od(s,o,u))return u&Ye.Host?Ir(h,c,u):Yo(s,c,u,h);try{const y=p(u);if(null!=y||u&Ye.Optional)return y;Nt(c)}finally{$h()}}else if("number"==typeof p){let y=null,v=hn(o,s),E=-1,D=u&Ye.Host?s[16][6]:null;for((-1===v||u&Ye.SkipSelf)&&(E=-1===v?Le(o,s):s[v+8],-1!==E&&Gl(u,!1)?(y=s[1],v=Cs(E),s=fi(E,s)):v=-1);-1!==v;){const P=s[1];if(Zc(p,v,P.data)){const k=__(v,s,c,y,u,D);if(k!==tn)return k}E=s[v+8],-1!==E&&Gl(u,s[1].data[v+8]===D)&&Zc(p,v,s)?(y=P,v=Cs(E),s=fi(E,s)):v=-1}}}return Yo(s,c,u,h)}const tn={};function Wc(){return new Es(an(),Ce())}function __(o,s,c,u,h,p){const y=s[1],v=y.data[o+8],P=ws(v,y,c,null==u?Pa(v)&&Hl:u!=y&&0!=(3&v.type),h&Ye.Host&&p===v);return null!==P?mn(s,y,P,v):tn}function ws(o,s,c,u,h){const p=o.providerIndexes,y=s.data,v=1048575&p,E=o.directiveStart,P=p>>20,N=h?v+P:o.directiveEnd;for(let q=u?v:v+P;q<N;q++){const J=y[q];if(q<E&&c===J||q>=E&&J.type===c)return q}if(h){const q=y[E];if(q&&Qi(q)&&q.type===c)return E}return null}function mn(o,s,c,u){let h=o[c];const p=s.data;if(function(o){return o instanceof Ha}(h)){const y=h;y.resolving&&function(o,s){throw new Ne("200",`Circular dependency in DI detected for ${o}`)}(Me(p[c]));const v=za(y.canSeeViewProviders);y.resolving=!0;const E=y.injectImpl?$r(y.injectImpl):null;od(o,u,Ye.Default);try{h=o[c]=y.factory(void 0,p,o,u),s.firstCreatePass&&c>=u.directiveStart&&function(o,s,c){const{ngOnChanges:u,ngOnInit:h,ngDoCheck:p}=s.type.prototype;if(u){const y=Pl(s);(c.preOrderHooks||(c.preOrderHooks=[])).push(o,y),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,y)}h&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-o,h),p&&((c.preOrderHooks||(c.preOrderHooks=[])).push(o,p),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,p))}(c,p[c],s)}finally{null!==E&&$r(E),za(v),y.resolving=!1,$h()}}return h}function Zc(o,s,c){return!!(c[s+(o>>5)]&1<<o)}function Gl(o,s){return!(o&Ye.Self||o&Ye.Host&&s)}class Es{constructor(s,c){this._tNode=s,this._lView=c}get(s,c,u){return zl(this._tNode,this._lView,s,u,c)}}function Yc(o){return It(()=>{const s=o.prototype.constructor,c=s[Ht]||$l(s),u=Object.prototype;let h=Object.getPrototypeOf(o.prototype).constructor;for(;h&&h!==u;){const p=h[Ht]||$l(h);if(p&&p!==c)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function $l(o){return ue(o)?()=>{const s=$l($(o));return s&&s()}:Do(o)}function Qh(o){return function(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const c=o.attrs;if(c){const u=c.length;let h=0;for(;h<u;){const p=c[h];if(Bp(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<u&&"string"==typeof c[h];)h++;else{if(p===s)return c[h+1];h+=2}}}return null}(an(),o)}const Ko="__parameters__";function pi(o,s,c){return It(()=>{const u=function(o){return function(...c){if(o){const u=o(...c);for(const h in u)this[h]=u[h]}}}(s);function h(...p){if(this instanceof h)return u.apply(this,p),this;const y=new h(...p);return v.annotation=y,v;function v(E,D,P){const k=E.hasOwnProperty(Ko)?E[Ko]:Object.defineProperty(E,Ko,{value:[]})[Ko];for(;k.length<=P;)k.push(null);return(k[P]=k[P]||[]).push(y),E}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=o,h.annotationCls=h,h})}class _n{constructor(s,c){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=dn({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Xh=new _n("AnalyzeForEntryComponents"),Jo=Function;function gi(o,s){void 0===s&&(s=o);for(let c=0;c<o.length;c++){let u=o[c];Array.isArray(u)?(s===o&&(s=o.slice(0,c)),gi(u,s)):s!==o&&s.push(u)}return s}function So(o,s){o.forEach(c=>Array.isArray(c)?So(c,s):s(c))}function ql(o,s,c){s>=o.length?o.push(c):o.splice(s,0,c)}function Ai(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}function Xo(o,s){const c=[];for(let u=0;u<o;u++)c.push(s);return c}function or(o,s,c){let u=$a(o,s);return u>=0?o[1|u]=c:(u=~u,function(o,s,c,u){let h=o.length;if(h==s)o.push(c,u);else if(1===h)o.push(u,o[0]),o[0]=c;else{for(h--,o.push(o[h-1],o[h]);h>s;)o[h]=o[h-2],h--;o[s]=c,o[s+1]=u}}(o,u,s,c)),u}function Tn(o,s){const c=$a(o,s);if(c>=0)return o[1|c]}function $a(o,s){return function(o,s,c){let u=0,h=o.length>>c;for(;h!==u;){const p=u+(h-u>>1),y=o[p<<c];if(s===y)return p<<c;y>s?h=p:u=p+1}return~(h<<c)}(o,s,1)}const Ft={},nn="__NG_DI_FLAG__",Hn="ngTempTokenPath",sr=/\n/gm,ea="__source",no=ee({provide:String,useValue:ee});let ro;function pt(o){const s=ro;return ro=o,s}function jp(o,s=Ye.Default){if(void 0===ro)throw new Error("inject() must be called from an injection context");return null===ro?rt(o,void 0,s):ro.get(o,s&Ye.Optional?null:void 0,s)}function yn(o,s=Ye.Default){return(Gt||jp)($(o),s)}const zp=yn;function Wl(o){const s=[];for(let c=0;c<o.length;c++){const u=$(o[c]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let h,p=Ye.Default;for(let y=0;y<u.length;y++){const v=u[y],E=Gp(v);"number"==typeof E?-1===E?h=v.token:p|=E:h=v}s.push(yn(h,p))}else s.push(yn(u))}return s}function Zl(o,s){return o[nn]=s,o.prototype[nn]=s,o}function Gp(o){return o[nn]}function io(o,s,c,u){const h=o[Hn];throw s[ea]&&h.unshift(s[ea]),o.message=function(o,s,c,u=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let h=Z(s);if(Array.isArray(s))h=s.map(Z).join(" -> ");else if("object"==typeof s){let p=[];for(let y in s)if(s.hasOwnProperty(y)){let v=s[y];p.push(y+":"+("string"==typeof v?JSON.stringify(v):Z(v)))}h=`{${p.join(", ")}}`}return`${c}${u?"("+u+")":""}[${h}]: ${o.replace(sr,"\n  ")}`}("\n"+o.message,h,c,u),o.ngTokenPath=h,o[Hn]=null,o}const qa=Zl(pi("Inject",o=>({token:o})),-1),Wa=Zl(pi("Optional"),8),br=Zl(pi("SkipSelf"),4);let iu,af;function ra(o){var s;return(null===(s=function(){if(void 0===iu&&(iu=null,_t.trustedTypes))try{iu=_t.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return iu}())||void 0===s?void 0:s.createHTML(o))||o}function ou(o){var s;return(null===(s=function(){if(void 0===af&&(af=null,_t.trustedTypes))try{af=_t.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return af}())||void 0===s?void 0:s.createHTML(o))||o}class Kl{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Uv extends Kl{getTypeName(){return"HTML"}}class Hv extends Kl{getTypeName(){return"Style"}}class lf extends Kl{getTypeName(){return"Script"}}class jv extends Kl{getTypeName(){return"URL"}}class zv extends Kl{getTypeName(){return"ResourceURL"}}function ia(o){return o instanceof Kl?o.changingThisBreaksApplicationSecurity:o}function au(o,s){const c=cf(o);if(null!=c&&c!==s){if("ResourceURL"===c&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===s}function cf(o){return o instanceof Kl&&o.getTypeName()||null}function O_(o){return new Uv(o)}function Zp(o){return new Hv(o)}function Yp(o){return new lf(o)}function oa(o){return new jv(o)}function Ed(o){return new zv(o)}class T_{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const c=(new window.DOMParser).parseFromString(ra(s),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(s):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class Gv{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const u=this.inertDocument.createElement("body");c.appendChild(u)}}getInertBodyElement(s){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=ra(s),c;const u=this.inertDocument.createElement("body");return u.innerHTML=ra(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(s){const c=s.attributes;for(let h=c.length-1;0<h;h--){const y=c.item(h).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&s.removeAttribute(y)}let u=s.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const I_=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,df=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ya(o){return(o=String(o)).match(I_)||o.match(df)?o:"unsafe:"+o}function Po(o){const s={};for(const c of o.split(","))s[c]=!0;return s}function Ql(...o){const s={};for(const c of o)for(const u in c)c.hasOwnProperty(u)&&(s[u]=!0);return s}const cu=Po("area,br,col,hr,img,wbr"),P_=Po("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),uu=Po("rp,rt"),Kp=Ql(cu,Ql(P_,Po("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ql(uu,Po("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ql(uu,P_)),Md=Po("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),oo=Po("srcset"),Dd=Ql(Md,oo,Po("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Po("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),qv=Po("script,style,template");class Od{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let c=s.firstChild,u=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?u=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,u&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let h=this.checkClobberedElement(c,c.nextSibling);if(h){c=h;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(s){const c=s.nodeName.toLowerCase();if(!Kp.hasOwnProperty(c))return this.sanitizedSomething=!0,!qv.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const u=s.attributes;for(let h=0;h<u.length;h++){const p=u.item(h),y=p.name,v=y.toLowerCase();if(!Dd.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let E=p.value;Md[v]&&(E=Ya(E)),oo[v]&&(o=E,E=(o=String(o)).split(",").map(s=>Ya(s.trim())).join(", ")),this.buf.push(" ",y,'="',ff(E),'"')}var o;return this.buf.push(">"),!0}endElement(s){const c=s.nodeName.toLowerCase();Kp.hasOwnProperty(c)&&!cu.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(s){this.buf.push(ff(s))}checkClobberedElement(s,c){if(c&&(s.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return c}}const Wv=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Zv=/([^\#-~ |!])/g;function ff(o){return o.replace(/&/g,"&amp;").replace(Wv,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Zv,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Td;function Id(o,s){let c=null;try{Td=Td||function(o){const s=new Gv(o);return function(){try{return!!(new window.DOMParser).parseFromString(ra(""),"text/html")}catch(o){return!1}}()?new T_(s):s}(o);let u=s?String(s):"";c=Td.getInertBodyElement(u);let h=5,p=u;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,u=p,p=c.innerHTML,c=Td.getInertBodyElement(u)}while(u!==p);return ra((new Od).sanitizeChildren(Sd(c)||c))}finally{if(c){const u=Sd(c)||c;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Sd(o){return"content"in o&&function(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var jn=(()=>((jn=jn||{})[jn.NONE=0]="NONE",jn[jn.HTML=1]="HTML",jn[jn.STYLE=2]="STYLE",jn[jn.SCRIPT=3]="SCRIPT",jn[jn.URL=4]="URL",jn[jn.RESOURCE_URL=5]="RESOURCE_URL",jn))();function Jp(o){const s=Ka();return s?ou(s.sanitize(jn.HTML,o)||""):au(o,"HTML")?ou(ia(o)):Id(gs(),se(o))}function Xp(o){const s=Ka();return s?s.sanitize(jn.URL,o)||"":au(o,"URL")?ia(o):Ya(se(o))}function Ka(){const o=Ce();return o&&o[12]}const Jl="__ngContext__";function Hr(o,s){o[Jl]=s}function ig(o){const s=function(o){return o[Jl]||null}(o);return s?Array.isArray(s)?s:s.lView:null}function Qa(o){return o.ngOriginalError}function cg(o,...s){o.error(...s)}class Ja{constructor(){this._console=console}handleError(s){const c=this._findOriginalError(s),u=this._findContext(s),h=(o=s)&&o.ngErrorLogger||cg;var o;h(this._console,"ERROR",s),c&&h(this._console,"ORIGINAL ERROR",c),u&&h(this._console,"ERROR CONTEXT",u)}_findContext(s){return s?s.ngDebugContext||this._findContext(Qa(s)):null}_findOriginalError(s){let c=s&&Qa(s);for(;c&&Qa(c);)c=Qa(c);return c||null}}const U_=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(_t))();function Os(o){return o.ownerDocument}function Ao(o){return o instanceof Function?o():o}var b=(()=>((b=b||{})[b.Important=1]="Important",b[b.DashCase=2]="DashCase",b))();function _(o,s){return undefined(o,s)}function A(o){const s=o[3];return Or(s)?s[3]:s}function Pe(o){return We(o[13])}function Te(o){return We(o[4])}function We(o){for(;null!==o&&!Or(o);)o=o[4];return o}function Dt(o,s,c,u,h){if(null!=u){let p,y=!1;Or(u)?p=u:pn(u)&&(y=!0,u=u[0]);const v=Yt(u);0===o&&null!==c?null==h?xM(s,c,v):mu(s,c,v,h||null,!0):1===o&&null!==c?mu(s,c,v,h||null,!0):2===o?function(o,s,c){const u=W_(o,s);u&&function(o,s,c,u){en(o)?o.removeChild(s,c,u):s.removeChild(c)}(o,u,s,c)}(s,v,y):3===o&&s.destroyNode(v),null!=p&&function(o,s,c,u,h){const p=c[7];p!==Yt(c)&&Dt(s,o,u,p,h);for(let v=10;v<c.length;v++){const E=c[v];Nd(E[1],E,o,s,u,p)}}(s,o,p,c,h)}}function xd(o,s,c){return en(o)?o.createElement(s,c):null===c?o.createElement(s):o.createElementNS(c,s)}function kd(o,s){const c=o[9],u=c.indexOf(s),h=s[3];1024&s[2]&&(s[2]&=-1025,Fl(h,-1)),c.splice(u,1)}function vf(o,s){if(o.length<=10)return;const c=10+s,u=o[c];if(u){const h=u[17];null!==h&&h!==o&&kd(h,u),s>0&&(o[c-1][4]=u[4]);const p=Ai(o,10+s);!function(o,s){Nd(o,s,s[11],2,null,null),s[0]=null,s[6]=null}(u[1],u);const y=p[19];null!==y&&y.detachView(p[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function Cf(o,s){if(!(256&s[2])){const c=s[11];en(c)&&c.destroyNode&&Nd(o,s,c,3,null,null),function(o){let s=o[13];if(!s)return Xa(o[1],o);for(;s;){let c=null;if(pn(s))c=s[13];else{const u=s[10];u&&(c=u)}if(!c){for(;s&&!s[4]&&s!==o;)pn(s)&&Xa(s[1],s),s=s[3];null===s&&(s=o),pn(s)&&Xa(s[1],s),c=s&&s[4]}s=c}}(s)}}function Xa(o,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(o,s){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let u=0;u<c.length;u+=2){const h=s[c[u]];if(!(h instanceof Ha)){const p=c[u+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const v=h[p[y]],E=p[y+1];try{E.call(v)}finally{}}else try{p.call(h)}finally{}}}}(o,s),function(o,s){const c=o.cleanup,u=s[7];let h=-1;if(null!==c)for(let p=0;p<c.length-1;p+=2)if("string"==typeof c[p]){const y=c[p+1],v="function"==typeof y?y(s):Yt(s[y]),E=u[h=c[p+2]],D=c[p+3];"boolean"==typeof D?v.removeEventListener(c[p],E,D):D>=0?u[h=D]():u[h=-D].unsubscribe(),p+=2}else{const y=u[h=c[p+1]];c[p].call(y)}if(null!==u){for(let p=h+1;p<u.length;p++)u[p]();s[7]=null}}(o,s),1===s[1].type&&en(s[11])&&s[11].destroy();const c=s[17];if(null!==c&&Or(s[3])){c!==s[3]&&kd(c,s);const u=s[19];null!==u&&u.detachView(o)}}}function PM(o,s,c){return function(o,s,c){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return c[0];if(2&u.flags){const h=o.data[u.directiveStart].encapsulation;if(h===Re.None||h===Re.Emulated)return null}return hi(u,c)}(o,s.parent,c)}function mu(o,s,c,u,h){en(o)?o.insertBefore(s,c,u,h):s.insertBefore(c,u,h)}function xM(o,s,c){en(o)?o.appendChild(s,c):s.appendChild(c)}function FM(o,s,c,u,h){null!==u?mu(o,s,c,u,h):xM(o,s,c)}function W_(o,s){return en(o)?o.parentNode(s):s.parentNode}function dg(o,s,c){return Rd(o,s,c)}let Rd=function(o,s,c){return 40&o.type?hi(o,c):null};function hg(o,s,c,u){const h=PM(o,u,s),p=s[11],v=dg(u.parent||s[6],u,s);if(null!=h)if(Array.isArray(c))for(let E=0;E<c.length;E++)FM(p,h,c[E],v,!1);else FM(p,h,c,v,!1)}function Y_(o,s){if(null!==s){const c=s.type;if(3&c)return hi(s,o);if(4&c)return nC(-1,o[s.index]);if(8&c){const u=s.child;if(null!==u)return Y_(o,u);{const h=o[s.index];return Or(h)?nC(-1,h):Yt(h)}}if(32&c)return _(s,o)()||Yt(o[s.index]);{const u=tC(o,s);return null!==u?Array.isArray(u)?u[0]:Y_(A(o[16]),u):Y_(o,s.next)}}return null}function tC(o,s){return null!==s?o[16][6].projection[s.projection]:null}function nC(o,s){const c=10+o+1;if(c<s.length){const u=s[c],h=u[1].firstChild;if(null!==h)return Y_(u,h)}return s[7]}function K_(o,s,c,u,h,p,y){for(;null!=c;){const v=u[c.index],E=c.type;if(y&&0===s&&(v&&Hr(Yt(v),u),c.flags|=4),64!=(64&c.flags))if(8&E)K_(o,s,c.child,u,h,p,!1),Dt(s,o,h,v,p);else if(32&E){const D=_(c,u);let P;for(;P=D();)Dt(s,o,h,P,p);Dt(s,o,h,v,p)}else 16&E?_u(o,s,u,c,h,p):Dt(s,o,h,v,p);c=y?c.projectionNext:c.next}}function Nd(o,s,c,u,h,p){K_(c,u,o.firstChild,s,h,p,!1)}function _u(o,s,c,u,h,p){const y=c[16],E=y[6].projection[u.projection];if(Array.isArray(E))for(let D=0;D<E.length;D++)Dt(s,o,h,E[D],p);else K_(o,s,E,y[3],h,p,!0)}function NM(o,s,c){en(o)?o.setAttribute(s,"style",c):s.style.cssText=c}function iC(o,s,c){en(o)?""===c?o.removeAttribute(s,"class"):o.setAttribute(s,"class",c):s.className=c}function oC(o,s,c){let u=o.length;for(;;){const h=o.indexOf(s,c);if(-1===h)return h;if(0===h||o.charCodeAt(h-1)<=32){const p=s.length;if(h+p===u||o.charCodeAt(h+p)<=32)return h}c=h+1}}const LM="ng-template";function HP(o,s,c){let u=0;for(;u<o.length;){let h=o[u++];if(c&&"class"===h){if(h=o[u],-1!==oC(h.toLowerCase(),s,0))return!0}else if(1===h){for(;u<o.length&&"string"==typeof(h=o[u++]);)if(h.toLowerCase()===s)return!0;return!1}}return!1}function sC(o){return 4===o.type&&o.value!==LM}function jP(o,s,c){return s===(4!==o.type||c?o.value:LM)}function zP(o,s,c){let u=4;const h=o.attrs||[],p=function(o){for(let s=0;s<o.length;s++)if(Bp(o[s]))return s;return o.length}(h);let y=!1;for(let v=0;v<s.length;v++){const E=s[v];if("number"!=typeof E){if(!y)if(4&u){if(u=2|1&u,""!==E&&!jP(o,E,c)||""===E&&1===s.length){if(la(u))return!1;y=!0}}else{const D=8&u?E:s[++v];if(8&u&&null!==o.attrs){if(!HP(o.attrs,D,c)){if(la(u))return!1;y=!0}continue}const k=aC(8&u?"class":E,h,sC(o),c);if(-1===k){if(la(u))return!1;y=!0;continue}if(""!==D){let N;N=k>p?"":h[k+1].toLowerCase();const q=8&u?N:null;if(q&&-1!==oC(q,D,0)||2&u&&D!==N){if(la(u))return!1;y=!0}}}}else{if(!y&&!la(u)&&!la(E))return!1;if(y&&la(E))continue;y=!1,u=E|1&u}}return la(u)||y}function la(o){return 0==(1&o)}function aC(o,s,c,u){if(null===s)return-1;let h=0;if(u||!c){let p=!1;for(;h<s.length;){const y=s[h];if(y===o)return h;if(3===y||6===y)p=!0;else{if(1===y||2===y){let v=s[++h];for(;"string"==typeof v;)v=s[++h];continue}if(4===y)break;if(0===y){h+=4;continue}}h+=p?1:2}return-1}return function(o,s){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const u=o[c];if("number"==typeof u)return-1;if(u===s)return c;c++}return-1}(s,o)}function VM(o,s,c=!1){for(let u=0;u<s.length;u++)if(zP(o,s[u],c))return!0;return!1}function eV(o,s){e:for(let c=0;c<s.length;c++){const u=s[c];if(o.length===u.length){for(let h=0;h<o.length;h++)if(o[h]!==u[h])continue e;return!0}}return!1}function UM(o,s){return o?":not("+s.trim()+")":s}function HM(o){let s=o[0],c=1,u=2,h="",p=!1;for(;c<o.length;){let y=o[c];if("string"==typeof y)if(2&u){const v=o[++c];h+="["+y+(v.length>0?'="'+v+'"':"")+"]"}else 8&u?h+="."+y:4&u&&(h+=" "+y);else""!==h&&!la(y)&&(s+=UM(p,h),h=""),u=y,p=p||!la(u);c++}return""!==h&&(s+=UM(p,h)),s}const ut={};function xo(o){zM(Mt(),Ce(),ir()+o,Ra())}function zM(o,s,c,u){if(!u)if(3==(3&s[2])){const p=o.preOrderCheckHooks;null!==p&&bs(s,p,c)}else{const p=o.preOrderHooks;null!==p&&Ul(s,p,0,c)}Ba(c)}function fg(o,s){return o<<17|s<<2}function ca(o){return o>>17&32767}function yu(o){return 2|o}function Fi(o){return(131068&o)>>2}function J_(o,s){return-131069&o|s<<2}function el(o){return 1|o}function sA(o,s){const c=o.contentQueries;if(null!==c)for(let u=0;u<c.length;u+=2){const h=c[u],p=c[u+1];if(-1!==p){const y=o.data[p];La(h),y.contentQueries(2,s[p],p)}}}function ty(o,s,c,u,h,p,y,v,E,D){const P=s.blueprint.slice();return P[0]=h,P[2]=140|u,xl(P),P[3]=P[15]=o,P[8]=c,P[10]=y||o&&o[10],P[11]=v||o&&o[11],P[12]=E||o&&o[12]||null,P[9]=D||o&&o[9]||null,P[6]=p,P[16]=2==s.type?o[16]:P,P}function _g(o,s,c,u,h){let p=o.data[s];if(null===p)p=function(o,s,c,u,h){const p=Hc(),y=ka(),E=o.data[s]=function(o,s,c,u,h,p){return{type:c,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,c,s,u,h);return null===o.firstChild&&(o.firstChild=E),null!==p&&(y?null==p.child&&null!==E.parent&&(p.child=E):null===p.next&&(p.next=E)),E}(o,s,c,u,h),lt.lFrame.inI18n&&(p.flags|=64);else if(64&p.type){p.type=c,p.value=u,p.attrs=h;const y=function(){const o=lt.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}();p.injectorIndex=null===y?-1:y.injectorIndex}return Vr(p,!0),p}function rc(o,s,c,u){if(0===c)return-1;const h=s.length;for(let p=0;p<c;p++)s.push(u),o.blueprint.push(u),o.data.push(null);return h}function ic(o,s,c){Zs(s);try{const u=o.viewQuery;null!==u&&Eg(1,u,c);const h=o.template;null!==h&&JM(o,s,h,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&sA(o,s),o.staticViewQueries&&Eg(2,o.viewQuery,c);const p=o.components;null!==p&&function(o,s){for(let c=0;c<s.length;c++)DC(o,s[c])}(s,p)}catch(u){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),u}finally{s[2]&=-5,$o()}}function oc(o,s,c,u){const h=s[2];if(256==(256&h))return;Zs(s);const p=Ra();try{xl(s),function(o){lt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&JM(o,s,c,2,u);const y=3==(3&h);if(!p)if(y){const D=o.preOrderCheckHooks;null!==D&&bs(s,D,null)}else{const D=o.preOrderHooks;null!==D&&Ul(s,D,0,null),An(s,0)}if(function(o){for(let s=Pe(o);null!==s;s=Te(s)){if(!s[2])continue;const c=s[9];for(let u=0;u<c.length;u++){const h=c[u],p=h[3];0==(1024&h[2])&&Fl(p,1),h[2]|=1024}}}(s),function(o){for(let s=Pe(o);null!==s;s=Te(s))for(let c=10;c<s.length;c++){const u=s[c],h=u[1];Lc(u)&&oc(h,u,h.template,u[8])}}(s),null!==o.contentQueries&&sA(o,s),!p)if(y){const D=o.contentCheckHooks;null!==D&&bs(s,D)}else{const D=o.contentHooks;null!==D&&Ul(s,D,1),An(s,1)}!function(o,s){const c=o.hostBindingOpCodes;if(null!==c)try{for(let u=0;u<c.length;u++){const h=c[u];if(h<0)Ba(~h);else{const p=h,y=c[++u],v=c[++u];Ll(y,p),v(2,s[p])}}}finally{Ba(-1)}}(o,s);const v=o.components;null!==v&&function(o,s){for(let c=0;c<s.length;c++)aD(o,s[c])}(s,v);const E=o.viewQuery;if(null!==E&&Eg(2,E,u),!p)if(y){const D=o.viewCheckHooks;null!==D&&bs(s,D)}else{const D=o.viewHooks;null!==D&&Ul(s,D,2),An(s,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),p||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,Fl(s[3],-1))}finally{$o()}}function ny(o,s,c,u){const h=s[10],p=!Ra(),y=Nc(s);try{p&&!y&&h.begin&&h.begin(),y&&ic(o,s,u),oc(o,s,c,u)}finally{p&&!y&&h.end&&h.end()}}function JM(o,s,c,u,h){const p=ir(),y=2&u;try{Ba(-1),y&&s.length>20&&zM(o,s,20,Ra()),c(u,h)}finally{Ba(p)}}function ry(o,s,c){if(Ph(s)){const h=s.directiveEnd;for(let p=s.directiveStart;p<h;p++){const y=o.data[p];y.contentQueries&&y.contentQueries(1,c[p],p)}}}function Ef(o,s,c){!kl()||(function(o,s,c,u){const h=c.directiveStart,p=c.directiveEnd;o.firstCreatePass||jl(c,s),Hr(u,s);const y=c.initialInputs;for(let v=h;v<p;v++){const E=o.data[v],D=Qi(E);D&&oD(s,c,E);const P=mn(s,o,v,c);Hr(P,s),null!==y&&cV(0,v-h,P,E,0,y),D&&(Tr(c.index,s)[8]=P)}}(o,s,c,hi(c,s)),128==(128&c.flags)&&function(o,s,c){const u=c.directiveStart,h=c.directiveEnd,y=c.index,v=lt.lFrame.currentDirectiveIndex;try{Ba(y);for(let E=u;E<h;E++){const D=o.data[E],P=s[E];Vl(E),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&Ts(D,P)}}finally{Ba(-1),Vl(v)}}(o,s,c))}function mC(o,s,c=hi){const u=s.localNames;if(null!==u){let h=s.index+1;for(let p=0;p<u.length;p+=2){const y=u[p+1],v=-1===y?c(s,o):o[y];o[h++]=v}}}function XM(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=yg(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):s}function yg(o,s,c,u,h,p,y,v,E,D){const P=20+u,k=P+h,N=function(o,s){const c=[];for(let u=0;u<s;u++)c.push(u<o?null:ut);return c}(P,k),q="function"==typeof D?D():D;return N[1]={type:o,blueprint:N,template:c,queries:null,viewQuery:v,declTNode:s,data:N.slice().fill(null,P),bindingStartIndex:P,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:E,consts:q,incompleteFirstPass:!1}}function eD(o,s,c,u){const h=uD(s);null===c?h.push(u):(h.push(c),o.firstCreatePass&&bu(o).push(u,h.length-1))}function tD(o,s,c){for(let u in o)if(o.hasOwnProperty(u)){const h=o[u];(c=null===c?{}:c).hasOwnProperty(u)?c[u].push(s,h):c[u]=[s,h]}return c}function ki(o,s,c,u,h,p,y,v){const E=hi(s,c);let P,D=s.inputs;!v&&null!=D&&(P=D[u])?(hD(o,c,P,u,h),Pa(s)&&function(o,s){const c=Tr(s,o);16&c[2]||(c[2]|=64)}(c,s.index)):3&s.type&&(u=function(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(u),h=null!=y?y(h,s.value||"",u):h,en(p)?p.setProperty(E,u,h):Zo(u)||(E.setProperty?E.setProperty(u,h):E[u]=h))}function iy(o,s,c,u){let h=!1;if(kl()){const p=function(o,s,c){const u=o.directiveRegistry;let h=null;if(u)for(let p=0;p<u.length;p++){const y=u[p];VM(c,y.selectors,!1)&&(h||(h=[]),it(jl(c,s),o,y.type),Qi(y)?(iD(o,c),h.unshift(y)):h.push(y))}return h}(o,s,c),y=null===u?null:{"":-1};if(null!==p){h=!0,Df(c,o.data.length,p.length);for(let P=0;P<p.length;P++){const k=p[P];k.providersResolver&&k.providersResolver(k)}let v=!1,E=!1,D=rc(o,s,p.length,null);for(let P=0;P<p.length;P++){const k=p[P];c.mergedAttrs=$c(c.mergedAttrs,k.hostAttrs),Of(o,c,s,D,k),lV(D,k,y),null!==k.contentQueries&&(c.flags|=8),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(c.flags|=128);const N=k.type.prototype;!v&&(N.ngOnChanges||N.ngOnInit||N.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(c.index),v=!0),!E&&(N.ngOnChanges||N.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(c.index),E=!0),D++}!function(o,s){const u=s.directiveEnd,h=o.data,p=s.attrs,y=[];let v=null,E=null;for(let D=s.directiveStart;D<u;D++){const P=h[D],k=P.inputs,N=null===p||sC(s)?null:uV(k,p);y.push(N),v=tD(k,D,v),E=tD(P.outputs,D,E)}null!==v&&(v.hasOwnProperty("class")&&(s.flags|=16),v.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=y,s.inputs=v,s.outputs=E}(o,c)}y&&function(o,s,c){if(s){const u=o.localNames=[];for(let h=0;h<s.length;h+=2){const p=c[s[h+1]];if(null==p)throw new Ne("301",`Export of name '${s[h+1]}' not found!`);u.push(s[h],p)}}}(c,u,y)}return c.mergedAttrs=$c(c.mergedAttrs,c.attrs),h}function oy(o,s,c,u,h,p){const y=p.hostBindings;if(y){let v=o.hostBindingOpCodes;null===v&&(v=o.hostBindingOpCodes=[]);const E=~s.index;(function(o){let s=o.length;for(;s>0;){const c=o[--s];if("number"==typeof c&&c<0)return c}return 0})(v)!=E&&v.push(E),v.push(u,h,y)}}function Ts(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function iD(o,s){s.flags|=2,(o.components||(o.components=[])).push(s.index)}function lV(o,s,c){if(c){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)c[s.exportAs[u]]=o;Qi(s)&&(c[""]=o)}}function Df(o,s,c){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+c,o.providerIndexes=s}function Of(o,s,c,u,h){o.data[u]=h;const p=h.factory||(h.factory=Do(h.type)),y=new Ha(p,Qi(h),null);o.blueprint[u]=y,c[u]=y,oy(o,s,0,u,rc(o,c,h.hostVars,ut),h)}function oD(o,s,c){const u=hi(s,o),h=XM(c),p=o[10],y=wg(o,ty(o,h,null,c.onPush?64:16,u,s,p,p.createRenderer(u,c),null,null));o[s.index]=y}function sc(o,s,c,u,h,p){const y=hi(o,s);!function(o,s,c,u,h,p,y){if(null==p)en(o)?o.removeAttribute(s,h,c):s.removeAttribute(h);else{const v=null==y?se(p):y(p,u||"",h);en(o)?o.setAttribute(s,h,v,c):c?s.setAttributeNS(c,h,v):s.setAttribute(h,v)}}(s[11],y,p,o.value,c,u,h)}function cV(o,s,c,u,h,p){const y=p[s];if(null!==y){const v=u.setInput;for(let E=0;E<y.length;){const D=y[E++],P=y[E++],k=y[E++];null!==v?u.setInput(c,k,D,P):c[P]=k}}}function uV(o,s){let c=null,u=0;for(;u<s.length;){const h=s[u];if(0!==h)if(5!==h){if("number"==typeof h)break;o.hasOwnProperty(h)&&(null===c&&(c=[]),c.push(h,o[h],s[u+1])),u+=2}else u+=2;else u+=4}return c}function MC(o,s,c,u){return new Array(o,!0,!1,s,null,0,u,c,null,null)}function aD(o,s){const c=Tr(s,o);if(Lc(c)){const u=c[1];80&c[2]?oc(u,c,u.template,c[8]):c[5]>0&&Tf(c)}}function Tf(o){for(let u=Pe(o);null!==u;u=Te(u))for(let h=10;h<u.length;h++){const p=u[h];if(1024&p[2]){const y=p[1];oc(y,p,y.template,p[8])}else p[5]>0&&Tf(p)}const c=o[1].components;if(null!==c)for(let u=0;u<c.length;u++){const h=Tr(c[u],o);Lc(h)&&h[5]>0&&Tf(h)}}function DC(o,s){const c=Tr(s,o),u=c[1];(function(o,s){for(let c=s.length;c<o.blueprint.length;c++)s.push(o.blueprint[c])})(u,c),ic(u,c,c[8])}function wg(o,s){return o[13]?o[14][4]=s:o[13]=s,o[14]=s,s}function OC(o){for(;o;){o[2]|=64;const s=A(o);if(Ji(o)&&!s)return o;o=s}return null}function TC(o,s,c){const u=s[10];u.begin&&u.begin();try{oc(o,s,o.template,c)}catch(h){throw ay(s,h),h}finally{u.end&&u.end()}}function IC(o){!function(o){for(let s=0;s<o.components.length;s++){const c=o.components[s],u=ig(c),h=u[1];ny(h,u,h.template,c)}}(o[8])}function Eg(o,s,c){La(0),s(o,c)}const cD=(()=>Promise.resolve(null))();function uD(o){return o[7]||(o[7]=[])}function bu(o){return o.cleanup||(o.cleanup=[])}function dD(o,s,c){return(null===o||Qi(o))&&(c=function(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(c[s.index])),c[11]}function ay(o,s){const c=o[9],u=c?c.get(Ja,null):null;u&&u.handleError(s)}function hD(o,s,c,u,h){for(let p=0;p<c.length;){const y=c[p++],v=c[p++],E=s[y],D=o.data[y];null!==D.setInput?D.setInput(E,h,u,v):E[v]=h}}function ua(o,s,c){const u=Ws(s,o);!function(o,s,c){en(o)?o.setValue(s,c):s.textContent=c}(o[11],u,c)}function Mg(o,s,c){let u=c?o.styles:null,h=c?o.classes:null,p=0;if(null!==s)for(let y=0;y<s.length;y++){const v=s[y];"number"==typeof v?p=v:1==p?h=Q(h,v):2==p&&(u=Q(u,v+": "+s[++y]+";"))}c?o.styles=u:o.stylesWithoutHost=u,c?o.classes=h:o.classesWithoutHost=h}const Bd=new _n("INJECTOR",-1);class fD{get(s,c=Ft){if(c===Ft){const u=new Error(`NullInjectorError: No provider for ${Z(s)}!`);throw u.name="NullInjectorError",u}return c}}const Ud=new _n("Set Injector scope."),Dg={},pA={};let cy;function pD(){return void 0===cy&&(cy=new fD),cy}function uy(o,s=null,c=null,u){return new gA(o,c,s||pD(),u)}class gA{constructor(s,c,u,h=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];c&&So(c,v=>this.processProvider(v,s,c)),So([s],v=>this.processInjectorType(v,[],p)),this.records.set(Bd,If(void 0,this));const y=this.records.get(Ud);this.scope=null!=y?y.value:null,this.source=h||("object"==typeof s?null:Z(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,c=Ft,u=Ye.Default){this.assertNotDestroyed();const h=pt(this),p=$r(void 0);try{if(!(u&Ye.SkipSelf)){let v=this.records.get(s);if(void 0===v){const E=("function"==typeof(o=s)||"object"==typeof o&&o instanceof _n)&&tr(s);v=E&&this.injectableDefInScope(E)?If(dy(s),Dg):null,this.records.set(s,v)}if(null!=v)return this.hydrate(s,v)}return(u&Ye.Self?pD():this.parent).get(s,c=u&Ye.Optional&&c===Ft?null:c)}catch(y){if("NullInjectorError"===y.name){if((y[Hn]=y[Hn]||[]).unshift(Z(s)),h)throw y;return io(y,s,"R3InjectorError",this.source)}throw y}finally{$r(p),pt(h)}var o}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((u,h)=>s.push(Z(h))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,c,u){if(!(s=$(s)))return!1;let h=Zi(s);const p=null==h&&s.ngModule||void 0,y=void 0===p?s:p,v=-1!==u.indexOf(y);if(void 0!==p&&(h=Zi(p)),null==h)return!1;if(null!=h.imports&&!v){let P;u.push(y);try{So(h.imports,k=>{this.processInjectorType(k,c,u)&&(void 0===P&&(P=[]),P.push(k))})}finally{}if(void 0!==P)for(let k=0;k<P.length;k++){const{ngModule:N,providers:q}=P[k];So(q,J=>this.processProvider(J,N,q||G))}}this.injectorDefTypes.add(y);const E=Do(y)||(()=>new y);this.records.set(y,If(E,Dg));const D=h.providers;if(null!=D&&!v){const P=s;So(D,k=>this.processProvider(k,P,D))}return void 0!==p&&void 0!==s.providers}processProvider(s,c,u){let h=vu(s=$(s))?s:$(s&&s.provide);const p=PC(o=s)?If(void 0,o.useValue):If(SC(o),Dg);var o;if(vu(s)||!0!==s.multi)this.records.get(h);else{let y=this.records.get(h);y||(y=If(void 0,Dg,!0),y.factory=()=>Wl(y.multi),this.records.set(h,y)),h=s,y.multi.push(s)}this.records.set(h,p)}hydrate(s,c){return c.value===Dg&&(c.value=pA,c.value=c.factory()),"object"==typeof c.value&&c.value&&null!==(o=c.value)&&"object"==typeof o&&"function"==typeof o.ngOnDestroy&&this.onDestroy.add(c.value),c.value;var o}injectableDefInScope(s){if(!s.providedIn)return!1;const c=$(s.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function dy(o){const s=tr(o),c=null!==s?s.factory:Do(o);if(null!==c)return c;if(o instanceof _n)throw new Error(`Token ${Z(o)} is missing a \u0275prov definition.`);if(o instanceof Function)return function(o){const s=o.length;if(s>0){const u=Xo(s,"?");throw new Error(`Can't resolve all parameters for ${Z(o)}: (${u.join(", ")}).`)}const c=function(o){const s=o&&(o[wo]||o[fr]);if(s){const c=function(o){if(o.hasOwnProperty("name"))return o.name;const s=(""+o).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),s}return null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new Error("unreachable")}function SC(o,s,c){let u;if(vu(o)){const h=$(o);return Do(h)||dy(h)}if(PC(o))u=()=>$(o.useValue);else if(function(o){return!(!o||!o.useFactory)}(o))u=()=>o.useFactory(...Wl(o.deps||[]));else if(function(o){return!(!o||!o.useExisting)}(o))u=()=>yn($(o.useExisting));else{const h=$(o&&(o.useClass||o.provide));if(!function(o){return!!o.deps}(o))return Do(h)||dy(h);u=()=>new h(...Wl(o.deps))}return u}function If(o,s,c=!1){return{factory:o,value:s,multi:c?[]:void 0}}function PC(o){return null!==o&&"object"==typeof o&&no in o}function vu(o){return"function"==typeof o}const AC=function(o,s,c){return function(o,s=null,c=null,u){const h=uy(o,s,c,u);return h._resolveInjectorDefTypes(),h}({name:c},s,o,c)};let zn=(()=>{class o{static create(c,u){return Array.isArray(c)?AC(c,u,""):AC(c.providers,c.parent,c.name||"")}}return o.THROW_IF_NOT_FOUND=Ft,o.NULL=new fD,o.\u0275prov=dn({token:o,providedIn:"any",factory:()=>yn(Bd)}),o.__NG_ELEMENT_ID__=-1,o})();function L(o,s){Gc(ig(o)[1],an())}function LC(o){let s=function(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const u=[o];for(;s;){let h;if(Qi(o))h=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");h=s.\u0275dir}if(h){if(c){u.push(h);const y=o;y.inputs=Sr(o.inputs),y.declaredInputs=Sr(o.declaredInputs),y.outputs=Sr(o.outputs);const v=h.hostBindings;v&&VC(o,v);const E=h.viewQuery,D=h.contentQueries;if(E&&da(o,E),D&&_y(o,D),K(o.inputs,h.inputs),K(o.declaredInputs,h.declaredInputs),K(o.outputs,h.outputs),Qi(h)&&h.data.animation){const P=o.data;P.animation=(P.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let y=0;y<p.length;y++){const v=p[y];v&&v.ngInherit&&v(o),v===LC&&(c=!1)}}s=Object.getPrototypeOf(s)}!function(o){let s=0,c=null;for(let u=o.length-1;u>=0;u--){const h=o[u];h.hostVars=s+=h.hostVars,h.hostAttrs=$c(h.hostAttrs,c=$c(c,h.hostAttrs))}}(u)}function Sr(o){return o===Y?{}:o===G?[]:o}function da(o,s){const c=o.viewQuery;o.viewQuery=c?(u,h)=>{s(u,h),c(u,h)}:s}function _y(o,s){const c=o.contentQueries;o.contentQueries=c?(u,h,p)=>{s(u,h,p),c(u,h,p)}:s}function VC(o,s){const c=o.hostBindings;o.hostBindings=c?(u,h)=>{s(u,h),c(u,h)}:s}let Tg=null;function Pf(){if(!Tg){const o=_t.Symbol;if(o&&o.iterator)Tg=o.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<s.length;++c){const u=s[c];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(Tg=u)}}}return Tg}function Ig(o){return!!by(o)&&(Array.isArray(o)||!(o instanceof Map)&&Pf()in o)}function by(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function al(o,s,c){return o[s]=c}function zr(o,s,c){return!Object.is(o[s],c)&&(o[s]=c,!0)}function BC(o,s,c,u){const h=Ce();return zr(h,Ii(),s)&&(Mt(),sc(Mn(),h,o,s,c,u)),BC}function Ff(o,s,c,u){return zr(o,Ii(),c)?s+se(c)+u:ut}function GC(o,s,c,u,h,p,y,v){const E=Ce(),D=Mt(),P=o+20,k=D.firstCreatePass?function(o,s,c,u,h,p,y,v,E){const D=s.consts,P=_g(s,o,4,y||null,Nn(D,v));iy(s,c,P,Nn(D,E)),Gc(s,P);const k=P.tViews=yg(2,P,u,h,p,s.directiveRegistry,s.pipeRegistry,null,s.schemas,D);return null!==s.queries&&(s.queries.template(s,P),k.queries=s.queries.embeddedTView(P)),P}(P,D,E,s,c,u,h,p,y):D.data[P];Vr(k,!1);const N=E[11].createComment("");hg(D,E,N,k),Hr(N,E),wg(E,E[P]=MC(N,E,N,k)),Pc(k)&&Ef(D,E,k),null!=y&&mC(E,k,v)}function wy(o){return function(o,s){return o[s]}(lt.lFrame.contextLView,20+o)}function xg(o,s=Ye.Default){const c=Ce();return null===c?yn(o,s):zl(an(),c,$(o),s)}function ow(o,s,c){const u=Ce();return zr(u,Ii(),s)&&ki(Mt(),Mn(),u,o,s,u[11],c,!1),ow}function sw(o,s,c,u,h){const y=h?"class":"style";hD(o,c,s.inputs[y],y,u)}function jD(o,s,c,u){const h=Ce(),p=Mt(),y=20+o,v=h[11],E=h[y]=xd(v,s,lt.lFrame.currentNamespace),D=p.firstCreatePass?function(o,s,c,u,h,p,y){const v=s.consts,D=_g(s,o,2,h,Nn(v,p));return iy(s,c,D,Nn(v,y)),null!==D.attrs&&Mg(D,D.attrs,!1),null!==D.mergedAttrs&&Mg(D,D.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,D),D}(y,p,h,0,s,c,u):p.data[y];Vr(D,!0);const P=D.mergedAttrs;null!==P&&Wh(v,E,P);const k=D.classes;null!==k&&iC(v,E,k);const N=D.styles;null!==N&&NM(v,E,N),64!=(64&D.flags)&&hg(p,h,E,D),0===lt.lFrame.elementDepthCount&&Hr(E,h),lt.lFrame.elementDepthCount++,Pc(D)&&(Ef(p,h,D),ry(p,D,h)),null!==u&&mC(h,D)}function aw(){let o=an();ka()?Rl():(o=o.parent,Vr(o,!1));const s=o;lt.lFrame.elementDepthCount--;const c=Mt();c.firstCreatePass&&(Gc(c,o),Ph(o)&&c.queries.elementEnd(o)),null!=s.classesWithoutHost&&function(o){return 0!=(16&o.flags)}(s)&&sw(c,s,Ce(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(o){return 0!=(32&o.flags)}(s)&&sw(c,s,Ce(),s.stylesWithoutHost,!1)}function qA(o,s,c,u){jD(o,s,c,u),aw()}function zD(o,s,c){const u=Ce(),h=Mt(),p=o+20,y=h.firstCreatePass?function(o,s,c,u,h){const p=s.consts,y=Nn(p,u),v=_g(s,o,8,"ng-container",y);return null!==y&&Mg(v,y,!0),iy(s,c,v,Nn(p,h)),null!==s.queries&&s.queries.elementStart(s,v),v}(p,h,u,s,c):h.data[p];Vr(y,!0);const v=u[p]=u[11].createComment("");hg(h,u,v,y),Hr(v,u),Pc(y)&&(Ef(h,u,y),ry(h,y,u)),null!=c&&mC(u,y)}function GD(){let o=an();const s=Mt();ka()?Rl():(o=o.parent,Vr(o,!1)),s.firstCreatePass&&(Gc(s,o),Ph(o)&&s.queries.elementEnd(o))}function lw(o,s,c){zD(o,s,c),GD()}function $D(){return Ce()}function Fg(o){return!!o&&"function"==typeof o.then}function Ey(o){return!!o&&"function"==typeof o.subscribe}const kg=Ey;function Rg(o,s,c,u){const h=Ce(),p=Mt(),y=an();return My(p,h,h[11],y,o,s,!!c,u),Rg}function Ng(o,s){const c=an(),u=Ce(),h=Mt();return My(h,u,dD(Bl(h.data),c,u),c,o,s,!1),Ng}function My(o,s,c,u,h,p,y,v){const E=Pc(u),P=o.firstCreatePass&&bu(o),k=s[8],N=uD(s);let q=!0;if(3&u.type||v){const oe=hi(u,s),Se=v?v(oe):oe,be=N.length,Ze=v?xe=>v(Yt(xe[u.index])):u.index;if(en(c)){let xe=null;if(!v&&E&&(xe=function(o,s,c,u){const h=o.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const y=h[p];if(y===c&&h[p+1]===u){const v=s[7],E=h[p+2];return v.length>E?v[E]:null}"string"==typeof y&&(p+=2)}return null}(o,s,h,u.index)),null!==xe)(xe.__ngLastListenerFn__||xe).__ngNextListenerFn__=p,xe.__ngLastListenerFn__=p,q=!1;else{p=qD(u,s,k,p,!1);const kt=c.listen(Se,h,p);N.push(p,kt),P&&P.push(h,Ze,be,be+1)}}else p=qD(u,s,k,p,!0),Se.addEventListener(h,p,y),N.push(p),P&&P.push(h,Ze,be,y)}else p=qD(u,s,k,p,!1);const J=u.outputs;let fe;if(q&&null!==J&&(fe=J[h])){const oe=fe.length;if(oe)for(let Se=0;Se<oe;Se+=2){const ur=s[fe[Se]][fe[Se+1]].subscribe(p),is=N.length;N.push(p,ur),P&&P.push(h,u.index,is,-(is+1))}}}function Bf(o,s,c,u){try{return!1!==c(u)}catch(h){return ay(o,h),!1}}function qD(o,s,c,u,h){return function p(y){if(y===Function)return u;const v=2&o.flags?Tr(o.index,s):s;0==(32&s[2])&&OC(v);let E=Bf(s,0,u,y),D=p.__ngNextListenerFn__;for(;D;)E=Bf(s,0,D,y)&&E,D=D.__ngNextListenerFn__;return h&&!1===E&&(y.preventDefault(),y.returnValue=!1),E}}function Dy(o=1){return function(o){return(lt.lFrame.contextLView=function(o,s){for(;o>0;)s=s[15],o--;return s}(o,lt.lFrame.contextLView))[8]}(o)}function rn(o,s){let c=null;const u=function(o){const s=o.attrs;if(null!=s){const c=s.indexOf(5);if(0==(1&c))return s[c+1]}return null}(o);for(let h=0;h<s.length;h++){const p=s[h];if("*"!==p){if(null===u?VM(o,p,!0):eV(u,p))return h}else c=h}return c}function co(o){const s=Ce()[16][6];if(!s.projection){const u=s.projection=Xo(o?o.length:1,null),h=u.slice();let p=s.child;for(;null!==p;){const y=o?rn(p,o):0;null!==y&&(h[y]?h[y].projectionNext=p:u[y]=p,h[y]=p),p=p.next}}}function WD(o,s=0,c){const u=Ce(),h=Mt(),p=_g(h,20+o,16,null,c||null);null===p.projection&&(p.projection=s),Rl(),64!=(64&p.flags)&&function(o,s,c){_u(s[11],0,s,c,PM(o,c,s),dg(c.parent||s[6],c,s))}(h,u,p)}function KA(o,s,c,u,h){const p=o[c+1],y=null===s;let v=u?ca(p):Fi(p),E=!1;for(;0!==v&&(!1===E||y);){const P=o[v+1];AV(o[v],s)&&(E=!0,o[v+1]=u?el(P):yu(P)),v=u?ca(P):Fi(P)}E&&(o[c+1]=u?yu(p):el(p))}function AV(o,s){return null===o||null==s||(Array.isArray(o)?o[1]:o)===s||!(!Array.isArray(o)||"string"!=typeof s)&&$a(o,s)>=0}const Gr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function QA(o){return o.substring(Gr.key,Gr.keyEnd)}function JD(o,s){const c=Gr.textEnd;return c===s?-1:(s=Gr.keyEnd=function(o,s,c){for(;s<c&&o.charCodeAt(s)>32;)s++;return s}(o,Gr.key=s,c),wu(o,s,c))}function wu(o,s,c){for(;s<c&&o.charCodeAt(s)<=32;)s++;return s}function $d(o,s,c){return ul(o,s,c,!1),$d}function qd(o,s){return ul(o,s,null,!0),qd}function cc(o,s){for(let c=function(o){return function(o){Gr.key=0,Gr.keyEnd=0,Gr.value=0,Gr.valueEnd=0,Gr.textEnd=o.length}(o),JD(o,wu(o,0,Gr.textEnd))}(s);c>=0;c=JD(s,c))or(o,QA(s),!0)}function ul(o,s,c,u){const h=Ce(),p=Mt(),y=Br(2);p.firstUpdatePass&&ix(p,o,y,u),s!==ut&&zr(h,y,s)&&ax(p,p.data[ir()],h,h[11],o,h[y+1]=function(o,s){return null==o||("string"==typeof s?o+=s:"object"==typeof o&&(o=Z(ia(o)))),o}(s,c),u,y)}function rx(o,s){return s>=o.expandoStartIndex}function ix(o,s,c,u){const h=o.data;if(null===h[c+1]){const p=h[ir()],y=rx(o,c);cx(p,u)&&null===s&&!y&&(s=!1),s=function(o,s,c,u){const h=Bl(o);let p=u?s.residualClasses:s.residualStyles;if(null===h)0===(u?s.classBindings:s.styleBindings)&&(c=Py(c=tO(null,o,s,c,u),s.attrs,u),p=null);else{const y=s.directiveStylingLast;if(-1===y||o[y]!==h)if(c=tO(h,o,s,c,u),null===p){let E=function(o,s,c){const u=c?s.classBindings:s.styleBindings;if(0!==Fi(u))return o[ca(u)]}(o,s,u);void 0!==E&&Array.isArray(E)&&(E=tO(null,o,s,E[1],u),E=Py(E,s.attrs,u),function(o,s,c,u){o[ca(c?s.classBindings:s.styleBindings)]=u}(o,s,u,E))}else p=function(o,s,c){let u;const h=s.directiveEnd;for(let p=1+s.directiveStylingLast;p<h;p++)u=Py(u,o[p].hostAttrs,c);return Py(u,s.attrs,c)}(o,s,u)}return void 0!==p&&(u?s.residualClasses=p:s.residualStyles=p),c}(h,p,s,u),function(o,s,c,u,h,p){let y=p?s.classBindings:s.styleBindings,v=ca(y),E=Fi(y);o[u]=c;let P,D=!1;if(Array.isArray(c)){const k=c;P=k[1],(null===P||$a(k,P)>0)&&(D=!0)}else P=c;if(h)if(0!==E){const N=ca(o[v+1]);o[u+1]=fg(N,v),0!==N&&(o[N+1]=J_(o[N+1],u)),o[v+1]=function(o,s){return 131071&o|s<<17}(o[v+1],u)}else o[u+1]=fg(v,0),0!==v&&(o[v+1]=J_(o[v+1],u)),v=u;else o[u+1]=fg(E,0),0===v?v=u:o[E+1]=J_(o[E+1],u),E=u;D&&(o[u+1]=yu(o[u+1])),KA(o,P,u,!0),KA(o,P,u,!1),function(o,s,c,u,h){const p=h?o.residualClasses:o.residualStyles;null!=p&&"string"==typeof s&&$a(p,s)>=0&&(c[u+1]=el(c[u+1]))}(s,P,o,u,p),y=fg(v,E),p?s.classBindings=y:s.styleBindings=y}(h,p,s,c,y,u)}}function tO(o,s,c,u,h){let p=null;const y=c.directiveEnd;let v=c.directiveStylingLast;for(-1===v?v=c.directiveStart:v++;v<y&&(p=s[v],u=Py(u,p.hostAttrs,h),p!==o);)v++;return null!==o&&(c.directiveStylingLast=v),u}function Py(o,s,c){const u=c?1:2;let h=-1;if(null!==s)for(let p=0;p<s.length;p++){const y=s[p];"number"==typeof y?h=y:h===u&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),or(o,y,!!c||s[++p]))}return void 0===o?null:o}function ax(o,s,c,u,h,p,y,v){if(!(3&s.type))return;const E=o.data,D=E[v+1];Lg(function(o){return 1==(1&o)}(D)?lx(E,s,c,h,Fi(D),y):void 0)||(Lg(p)||function(o){return 2==(2&o)}(D)&&(p=lx(E,null,c,h,v,y)),function(o,s,c,u,h){const p=en(o);if(s)h?p?o.addClass(c,u):c.classList.add(u):p?o.removeClass(c,u):c.classList.remove(u);else{let y=-1===u.indexOf("-")?void 0:b.DashCase;if(null==h)p?o.removeStyle(c,u,y):c.style.removeProperty(u);else{const v="string"==typeof h&&h.endsWith("!important");v&&(h=h.slice(0,-10),y|=b.Important),p?o.setStyle(c,u,h,y):c.style.setProperty(u,h,v?"important":"")}}}(u,y,Ws(ir(),c),h,p))}function lx(o,s,c,u,h,p){const y=null===s;let v;for(;h>0;){const E=o[h],D=Array.isArray(E),P=D?E[1]:E,k=null===P;let N=c[h+1];N===ut&&(N=k?G:void 0);let q=k?Tn(N,u):P===u?N:void 0;if(D&&!Lg(q)&&(q=Tn(E,u)),Lg(q)&&(v=q,y))return v;const J=o[h+1];h=y?ca(J):Fi(J)}if(null!==s){let E=p?s.residualClasses:s.residualStyles;null!=E&&(v=Tn(E,u))}return v}function Lg(o){return void 0!==o}function cx(o,s){return 0!=(o.flags&(s?16:32))}function ux(o,s=""){const c=Ce(),u=Mt(),h=o+20,p=u.firstCreatePass?_g(u,h,1,s,null):u.data[h],y=c[h]=function(o,s){return en(o)?o.createText(s):o.createTextNode(s)}(c[11],s);hg(u,c,y,p),Vr(p,!1)}function nO(o){return fw("",o,""),nO}function fw(o,s,c){const u=Ce(),h=Ff(u,o,s,c);return h!==ut&&ua(u,ir(),h),fw}function bx(o,s,c){!function(o,s,c,u){const h=Mt(),p=Br(2);h.firstUpdatePass&&ix(h,null,p,u);const y=Ce();if(c!==ut&&zr(y,p,c)){const v=h.data[ir()];if(cx(v,u)&&!rx(h,p)){let E=u?v.classesWithoutHost:v.stylesWithoutHost;null!==E&&(c=Q(E,c||"")),sw(h,v,y,c,u)}else!function(o,s,c,u,h,p,y,v){h===ut&&(h=G);let E=0,D=0,P=0<h.length?h[0]:null,k=0<p.length?p[0]:null;for(;null!==P||null!==k;){const N=E<h.length?h[E+1]:void 0,q=D<p.length?p[D+1]:void 0;let fe,J=null;P===k?(E+=2,D+=2,N!==q&&(J=k,fe=q)):null===k||null!==P&&P<k?(E+=2,J=P):(D+=2,J=k,fe=q),null!==J&&ax(o,s,c,u,J,fe,y,v),P=E<h.length?h[E]:null,k=D<p.length?p[D]:null}}(h,v,y,y[11],y[p+1],y[p+1]=function(o,s,c){if(null==c||""===c)return G;const u=[],h=ia(c);if(Array.isArray(h))for(let p=0;p<h.length;p++)o(u,h[p],!0);else if("object"==typeof h)for(const p in h)h.hasOwnProperty(p)&&o(u,p,h[p]);else"string"==typeof h&&s(u,h);return u}(o,s,c),u,p)}}(or,cc,Ff(Ce(),o,s,c),!0)}function rO(o,s,c){const u=Ce();return zr(u,Ii(),s)&&ki(Mt(),Mn(),u,o,s,u[11],c,!0),rO}function iO(o,s,c){const u=Ce();if(zr(u,Ii(),s)){const p=Mt(),y=Mn();ki(p,y,u,o,s,dD(Bl(p.data),y,u),c,!0)}return iO}const Uf=void 0;var nB=["en",[["a","p"],["AM","PM"],Uf],[["AM","PM"],Uf,Uf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Uf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Uf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Uf,"{1} 'at' {0}",Uf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(o){const s=Math.floor(Math.abs(o)),c=o.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===c?1:5}];let Vg={};function oO(o){const s=function(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=xx(s);if(c)return c;const u=s.split("-")[0];if(c=xx(u),c)return c;if("en"===u)return nB;throw new Error(`Missing locale data for the locale "${o}".`)}function Ax(o){return oO(o)[dt.PluralCase]}function xx(o){return o in Vg||(Vg[o]=_t.ng&&_t.ng.common&&_t.ng.common.locales&&_t.ng.common.locales[o]),Vg[o]}var dt=(()=>((dt=dt||{})[dt.LocaleId=0]="LocaleId",dt[dt.DayPeriodsFormat=1]="DayPeriodsFormat",dt[dt.DayPeriodsStandalone=2]="DayPeriodsStandalone",dt[dt.DaysFormat=3]="DaysFormat",dt[dt.DaysStandalone=4]="DaysStandalone",dt[dt.MonthsFormat=5]="MonthsFormat",dt[dt.MonthsStandalone=6]="MonthsStandalone",dt[dt.Eras=7]="Eras",dt[dt.FirstDayOfWeek=8]="FirstDayOfWeek",dt[dt.WeekendRange=9]="WeekendRange",dt[dt.DateFormat=10]="DateFormat",dt[dt.TimeFormat=11]="TimeFormat",dt[dt.DateTimeFormat=12]="DateTimeFormat",dt[dt.NumberSymbols=13]="NumberSymbols",dt[dt.NumberFormats=14]="NumberFormats",dt[dt.CurrencyCode=15]="CurrencyCode",dt[dt.CurrencySymbol=16]="CurrencySymbol",dt[dt.CurrencyName=17]="CurrencyName",dt[dt.Currencies=18]="Currencies",dt[dt.Directionality=19]="Directionality",dt[dt.PluralCase=20]="PluralCase",dt[dt.ExtraData=21]="ExtraData",dt))();const pw="en-US";let Fx=pw;function sO(o){jt(o,"Expected localeId to be defined"),"string"==typeof o&&(Fx=o.toLowerCase().replace(/_/g,"-"))}function Cw(o,s,c,u,h){if(o=$(o),Array.isArray(o))for(let p=0;p<o.length;p++)Cw(o[p],s,c,u,h);else{const p=Mt(),y=Ce();let v=vu(o)?o:$(o.provide),E=SC(o);const D=an(),P=1048575&D.providerIndexes,k=D.directiveStart,N=D.providerIndexes>>20;if(vu(o)||!o.multi){const q=new Ha(E,h,xg),J=CO(v,s,h?P:P+N,k);-1===J?(it(jl(D,y),p,v),ww(p,o,s.length),s.push(v),D.directiveStart++,D.directiveEnd++,h&&(D.providerIndexes+=1048576),c.push(q),y.push(q)):(c[J]=q,y[J]=q)}else{const q=CO(v,s,P+N,k),J=CO(v,s,P,P+N),fe=q>=0&&c[q],oe=J>=0&&c[J];if(h&&!oe||!h&&!fe){it(jl(D,y),p,v);const Se=function(o,s,c,u,h){const p=new Ha(o,c,xg);return p.multi=[],p.index=s,p.componentProviders=0,vO(p,h,u&&!c),p}(h?CB:vB,c.length,h,u,E);!h&&oe&&(c[J].providerFactory=Se),ww(p,o,s.length,0),s.push(v),D.directiveStart++,D.directiveEnd++,h&&(D.providerIndexes+=1048576),c.push(Se),y.push(Se)}else ww(p,o,q>-1?q:J,vO(c[h?J:q],E,!h&&u));!h&&u&&oe&&c[J].componentProviders++}}}function ww(o,s,c,u){const h=vu(s);if(h||function(o){return!!o.useClass}(s)){const y=(s.useClass||s).prototype.ngOnDestroy;if(y){const v=o.destroyHooks||(o.destroyHooks=[]);if(!h&&s.multi){const E=v.indexOf(c);-1===E?v.push(c,[u,y]):v[E+1].push(u,y)}else v.push(c,y)}}}function vO(o,s,c){return c&&o.componentProviders++,o.multi.push(s)-1}function CO(o,s,c,u){for(let h=c;h<u;h++)if(s[h]===o)return h;return-1}function vB(o,s,c,u){return $g(this.multi,[])}function CB(o,s,c,u){const h=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,v=mn(c,c[1],this.providerFactory.index,u);p=v.slice(0,y),$g(h,p);for(let E=y;E<v.length;E++)p.push(v[E])}else p=[],$g(h,p);return p}function $g(o,s){for(let c=0;c<o.length;c++)s.push((0,o[c])());return s}function Mw(o,s=[]){return c=>{c.providersResolver=(u,h)=>function(o,s,c){const u=Mt();if(u.firstCreatePass){const h=Qi(o);Cw(c,u.data,u.blueprint,h,!0),Cw(s,u.data,u.blueprint,h,!1)}}(u,h?h(o):o,s)}}class Dw{}const Ow="ngComponent";class fF{resolveComponentFactory(s){throw function(o){const s=Error(`No component factory found for ${Z(o)}. Did you add it to @NgModule.entryComponents?`);return s[Ow]=o,s}(s)}}let Kd=(()=>{class o{}return o.NULL=new fF,o})();function qg(...o){}function As(o,s){return new xs(hi(o,s))}const EO=function(){return As(an(),Ce())};let xs=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=EO,o})();function Tw(o){return o instanceof xs?o.nativeElement:o}class Wg{}let mF=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>Zg(),o})();const Zg=function(){const o=Ce(),c=Tr(an().index,o);return function(o){return o[11]}(pn(c)?c:o)};let Iw=(()=>{class o{}return o.\u0275prov=dn({token:o,providedIn:"root",factory:()=>null}),o})();class dl{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const Mu=new dl("12.2.13");class hc{constructor(){}supports(s){return Ig(s)}create(s){return new vi(s)}}const EB=(o,s)=>s;class vi{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||EB}forEachItem(s){let c;for(c=this._itHead;null!==c;c=c._next)s(c)}forEachOperation(s){let c=this._itHead,u=this._removalsHead,h=0,p=null;for(;c||u;){const y=!u||c&&c.currentIndex<yF(u,h,p)?c:u,v=yF(y,h,p),E=y.currentIndex;if(y===u)h--,u=u._nextRemoved;else if(c=c._next,null==y.previousIndex)h++;else{p||(p=[]);const D=v-h,P=E-h;if(D!=P){for(let N=0;N<D;N++){const q=N<p.length?p[N]:p[N]=0,J=q+N;P<=J&&J<D&&(p[N]=q+1)}p[y.previousIndex]=P-D}}v!==E&&s(y,v,E)}}forEachPreviousItem(s){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)s(c)}forEachAddedItem(s){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)s(c)}forEachMovedItem(s){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)s(c)}forEachRemovedItem(s){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)s(c)}forEachIdentityChange(s){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)s(c)}diff(s){if(null==s&&(s=[]),!Ig(s))throw new Error(`Error trying to diff '${Z(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let h,p,y,c=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let v=0;v<this.length;v++)p=s[v],y=this._trackByFn(v,p),null!==c&&Object.is(c.trackById,y)?(u&&(c=this._verifyReinsertion(c,p,y,v)),Object.is(c.item,p)||this._addIdentityChange(c,p)):(c=this._mismatch(c,p,y,v),u=!0),c=c._next}else h=0,function(o,s){if(Array.isArray(o))for(let c=0;c<o.length;c++)s(o[c]);else{const c=o[Pf()]();let u;for(;!(u=c.next()).done;)s(u.value)}}(s,v=>{y=this._trackByFn(h,v),null!==c&&Object.is(c.trackById,y)?(u&&(c=this._verifyReinsertion(c,v,y,h)),Object.is(c.item,v)||this._addIdentityChange(c,v)):(c=this._mismatch(c,v,y,h),u=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,c,u,h){let p;return null===s?p=this._itTail:(p=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,c)||this._addIdentityChange(s,c),this._reinsertAfter(s,p,h)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,h))?(Object.is(s.item,c)||this._addIdentityChange(s,c),this._moveAfter(s,p,h)):s=this._addAfter(new Du(c,u),p,h),s}_verifyReinsertion(s,c,u,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==p?s=this._reinsertAfter(p,s._prev,h):s.currentIndex!=h&&(s.currentIndex=h,this._addToMoves(s,h)),s}_truncate(s){for(;null!==s;){const c=s._next;this._addToRemovals(this._unlink(s)),s=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,c,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const h=s._prevRemoved,p=s._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(s,c,u),this._addToMoves(s,u),s}_moveAfter(s,c,u){return this._unlink(s),this._insertAfter(s,c,u),this._addToMoves(s,u),s}_addAfter(s,c,u){return this._insertAfter(s,c,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,c,u){const h=null===c?this._itHead:c._next;return s._next=h,s._prev=c,null===h?this._itTail=s:h._prev=s,null===c?this._itHead=s:c._next=s,null===this._linkedRecords&&(this._linkedRecords=new hl),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const c=s._prev,u=s._next;return null===c?this._itHead=u:c._next=u,null===u?this._itTail=c:u._prev=c,s}_addToMoves(s,c){return s.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new hl),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,c){return s.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Du{constructor(s,c){this.item=s,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class MB{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,c){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===c||c<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const c=s._prevDup,u=s._nextDup;return null===c?this._head=u:c._nextDup=u,null===u?this._tail=c:u._prevDup=c,null===this._head}}class hl{constructor(){this.map=new Map}put(s){const c=s.trackById;let u=this.map.get(c);u||(u=new MB,this.map.set(c,u)),u.add(s)}get(s,c){const h=this.map.get(s);return h?h.get(s,c):null}remove(s){const c=s.trackById;return this.map.get(c).remove(s)&&this.map.delete(c),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function yF(o,s,c){const u=o.previousIndex;if(null===u)return u;let h=0;return c&&u<c.length&&(h=c[u]),u+s+h}class OO{constructor(){}supports(s){return s instanceof Map||by(s)}create(){return new DB}}class DB{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let c;for(c=this._mapHead;null!==c;c=c._next)s(c)}forEachPreviousItem(s){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)s(c)}forEachChangedItem(s){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)s(c)}forEachAddedItem(s){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)s(c)}forEachRemovedItem(s){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)s(c)}diff(s){if(s){if(!(s instanceof Map||by(s)))throw new Error(`Error trying to diff '${Z(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,u),this._appendAfter=c,c=c._next;else{const p=this._getOrCreateRecordForKey(h,u);c=this._insertBeforeOrAppend(c,p)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let u=c;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,c){if(s){const u=s._prev;return c._next=s,c._prev=u,s._prev=c,u&&(u._next=c),s===this._mapHead&&(this._mapHead=c),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(s,c){if(this._records.has(s)){const h=this._records.get(s);this._maybeAddToChanges(h,c);const p=h._prev,y=h._next;return p&&(p._next=y),y&&(y._prev=p),h._next=null,h._prev=null,h}const u=new bF(s);return this._records.set(s,u),u.currentValue=c,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,c){Object.is(c,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=c,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,c){s instanceof Map?s.forEach(c):Object.keys(s).forEach(u=>c(s[u],u))}}class bF{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function vF(){return new Yg([new hc])}let Yg=(()=>{class o{constructor(c){this.factories=c}static create(c,u){if(null!=u){const h=u.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:u=>o.create(c,u||vF()),deps:[[o,new br,new Wa]]}}find(c){const u=this.factories.find(h=>h.supports(c));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${c}' of type '${function(o){return o.name||typeof o}(c)}'`)}}return o.\u0275prov=dn({token:o,providedIn:"root",factory:vF}),o})();function Sw(){return new jf([new OO])}let jf=(()=>{class o{constructor(c){this.factories=c}static create(c,u){if(u){const h=u.factories.slice();c=c.concat(h)}return new o(c)}static extend(c){return{provide:o,useFactory:u=>o.create(c,u||Sw()),deps:[[o,new br,new Wa]]}}find(c){const u=this.factories.find(h=>h.supports(c));if(u)return u;throw new Error(`Cannot find a differ supporting object '${c}'`)}}return o.\u0275prov=dn({token:o,providedIn:"root",factory:Sw}),o})();function Kg(o,s,c,u,h=!1){for(;null!==c;){const p=s[c.index];if(null!==p&&u.push(Yt(p)),Or(p))for(let v=10;v<p.length;v++){const E=p[v],D=E[1].firstChild;null!==D&&Kg(E[1],E,D,u)}const y=c.type;if(8&y)Kg(o,s,c.child,u);else if(32&y){const v=_(c,s);let E;for(;E=v();)u.push(E)}else if(16&y){const v=tC(s,c);if(Array.isArray(v))u.push(...v);else{const E=A(s[16]);Kg(E[1],E,v,u,!0)}}c=h?c.projectionNext:c.next}return u}class Qd{constructor(s,c){this._lView=s,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,c=s[1];return Kg(c,s,c.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Or(s)){const c=s[8],u=c?c.indexOf(this):-1;u>-1&&(vf(s,u),Ai(c,u))}this._attachedToViewContainer=!1}Cf(this._lView[1],this._lView)}onDestroy(s){eD(this._lView[1],this._lView,null,s)}markForCheck(){OC(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){TC(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(o,s,c){Na(!0);try{TC(o,s,c)}finally{Na(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,Nd(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class Ou extends Qd{constructor(s){super(s),this._view=s}detectChanges(){IC(this._view)}checkNoChanges(){!function(o){Na(!0);try{IC(o)}finally{Na(!1)}}(this._view)}get context(){return null}}const Pw=function(o){return function(o,s,c){if(Pa(o)&&!c){const u=Tr(o.index,s);return new Qd(u,u)}return 47&o.type?new Qd(s[16],s):null}(an(),Ce(),16==(16&o))};let Aw=(()=>{class o{}return o.__NG_ELEMENT_ID__=Pw,o})();const xw=[new OO],Fw=new Yg([new hc]),TB=new jf(xw),AO=function(){return By(an(),Ce())};let Qg=(()=>{class o{}return o.__NG_ELEMENT_ID__=AO,o})();const Jd=Qg,xO=class extends Jd{constructor(s,c,u){super(),this._declarationLView=s,this._declarationTContainer=c,this.elementRef=u}createEmbeddedView(s){const c=this._declarationTContainer.tViews,u=ty(this._declarationLView,c,s,16,null,c.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(u[19]=p.createEmbeddedView(c)),ic(c,u,s),new Qd(u)}};function By(o,s){return 4&o.type?new xO(s,o,As(o,s)):null}class fc{}class Uy{}const FO=function(){return EF(an(),Ce())};let zf=(()=>{class o{}return o.__NG_ELEMENT_ID__=FO,o})();const kO=zf,RO=class extends kO{constructor(s,c,u){super(),this._lContainer=s,this._hostTNode=c,this._hostLView=u}get element(){return As(this._hostTNode,this._hostLView)}get injector(){return new Es(this._hostTNode,this._hostLView)}get parentInjector(){const s=Le(this._hostTNode,this._hostLView);if(hd(s)){const c=fi(s,this._hostLView),u=Cs(s);return new Es(c[1].data[u+8],c)}return new Es(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const c=Hy(this._lContainer);return null!==c&&c[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,c,u){const h=s.createEmbeddedView(c||{});return this.insert(h,u),h}createComponent(s,c,u,h,p){const y=u||this.parentInjector;if(!p&&null==s.ngModule&&y){const E=y.get(fc,null);E&&(p=E)}const v=s.create(y,h,void 0,p);return this.insert(v.hostView,c),v}insert(s,c){const u=s._lView,h=u[1];if(Or(u[3])){const P=this.indexOf(s);if(-1!==P)this.detach(P);else{const k=u[3],N=new RO(k,k[6],k[3]);N.detach(N.indexOf(s))}}const p=this._adjustIndex(c),y=this._lContainer;!function(o,s,c,u){const h=10+u,p=c.length;u>0&&(c[h-1][4]=s),u<p-10?(s[4]=c[h],ql(c,10+u,s)):(c.push(s),s[4]=null),s[3]=c;const y=s[17];null!==y&&c!==y&&function(o,s){const c=o[9];s[16]!==s[3][3][16]&&(o[2]=!0),null===c?o[9]=[s]:c.push(s)}(y,s);const v=s[19];null!==v&&v.insertView(o),s[2]|=128}(h,u,y,p);const v=nC(p,y),E=u[11],D=W_(E,y[7]);return null!==D&&function(o,s,c,u,h,p){u[0]=h,u[6]=s,Nd(o,u,c,1,h,p)}(h,y[6],E,u,D,v),s.attachToViewContainerRef(),ql(Gf(y),p,s),s}move(s,c){return this.insert(s,c)}indexOf(s){const c=Hy(this._lContainer);return null!==c?c.indexOf(s):-1}remove(s){const c=this._adjustIndex(s,-1),u=vf(this._lContainer,c);u&&(Ai(Gf(this._lContainer),c),Cf(u[1],u))}detach(s){const c=this._adjustIndex(s,-1),u=vf(this._lContainer,c);return u&&null!=Ai(Gf(this._lContainer),c)?new Qd(u):null}_adjustIndex(s,c=0){return null==s?this.length+c:s}};function Hy(o){return o[8]}function Gf(o){return o[8]||(o[8]=[])}function EF(o,s){let c;const u=s[o.index];if(Or(u))c=u;else{let h;if(8&o.type)h=Yt(u);else{const p=s[11];h=p.createComment("");const y=hi(o,s);mu(p,W_(p,y),h,function(o,s){return en(o)?o.nextSibling(s):s.nextSibling}(p,y),!1)}s[o.index]=c=MC(u,s,h,o),wg(s,c)}return new RO(c,o,s)}const mc={};class n0 extends Kd{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const c=nr(s);return new XO(c,this.ngModule)}}function QO(o){const s=[];for(let c in o)o.hasOwnProperty(c)&&s.push({propName:o[c],templateName:c});return s}const JO=new _n("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>U_});class XO extends Dw{constructor(s,c){super(),this.componentDef=s,this.ngModule=c,this.componentType=s.type,this.selector=s.selectors.map(HM).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return QO(this.componentDef.inputs)}get outputs(){return QO(this.componentDef.outputs)}create(s,c,u,h){const p=(h=h||this.ngModule)?function(o,s){return{get:(c,u,h)=>{const p=o.get(c,mc,h);return p!==mc||u===mc?p:s.get(c,u,h)}}}(s,h.injector):s,y=p.get(Wg,To),v=p.get(Iw,null),E=y.createRenderer(null,this.componentDef),D=this.componentDef.selectors[0][0]||"div",P=u?function(o,s,c){if(en(o))return o.selectRootElement(s,c===Re.ShadowDom);let u="string"==typeof s?o.querySelector(s):s;return u.textContent="",u}(E,u,this.componentDef.encapsulation):xd(y.createRenderer(null,this.componentDef),D,function(o){const s=o.toLowerCase();return"svg"===s?Al:"math"===s?"http://www.w3.org/1998/MathML/":null}(D)),k=this.componentDef.onPush?576:528,N=function(o,s){return{components:[],scheduler:o||U_,clean:cD,playerHandler:s||null,flags:0}}(),q=yg(0,null,null,1,0,null,null,null,null,null),J=ty(null,q,N,k,null,null,y,E,v,p);let fe,oe;Zs(J);try{const Se=function(o,s,c,u,h,p){const y=c[1];c[20]=o;const E=_g(y,20,2,"#host",null),D=E.mergedAttrs=s.hostAttrs;null!==D&&(Mg(E,D,!0),null!==o&&(Wh(h,o,D),null!==E.classes&&iC(h,o,E.classes),null!==E.styles&&NM(h,o,E.styles)));const P=u.createRenderer(o,s),k=ty(c,XM(s),null,s.onPush?64:16,c[20],E,u,P,p||null,null);return y.firstCreatePass&&(it(jl(E,c),y,s.type),iD(y,E),Df(E,c.length,1)),wg(c,k),c[20]=k}(P,this.componentDef,J,y,E);if(P)if(u)Wh(E,P,["ng-version",Mu.full]);else{const{attrs:be,classes:Ze}=function(o){const s=[],c=[];let u=1,h=2;for(;u<o.length;){let p=o[u];if("string"==typeof p)2===h?""!==p&&s.push(p,o[++u]):8===h&&c.push(p);else{if(!la(h))break;h=p}u++}return{attrs:s,classes:c}}(this.componentDef.selectors[0]);be&&Wh(E,P,be),Ze&&Ze.length>0&&iC(E,P,Ze.join(" "))}if(oe=ms(q,20),void 0!==c){const be=oe.projection=[];for(let Ze=0;Ze<this.ngContentSelectors.length;Ze++){const xe=c[Ze];be.push(null!=xe?Array.from(xe):null)}}fe=function(o,s,c,u,h){const p=c[1],y=function(o,s,c){const u=an();o.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),Of(o,u,s,rc(o,s,1,null),c));const h=mn(s,o,u.directiveStart,u);Hr(h,s);const p=hi(u,s);return p&&Hr(p,s),h}(p,c,s);if(u.components.push(y),o[8]=y,h&&h.forEach(E=>E(y,s)),s.contentQueries){const E=an();s.contentQueries(1,y,E.directiveStart)}const v=an();return!p.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Ba(v.index),oy(c[1],v,0,v.directiveStart,v.directiveEnd,s),Ts(s,y)),y}(Se,this.componentDef,J,N,[L]),ic(q,J,null)}finally{$o()}return new nT(this.componentType,fe,As(oe,J),J,oe)}}class nT extends class{}{constructor(s,c,u,h,p){super(),this.location=u,this._rootLView=h,this._tNode=p,this.instance=c,this.hostView=this.changeDetectorRef=new Ou(h),this.componentType=s}get injector(){return new Es(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const Au=new Map;class XF extends fc{constructor(s,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new n0(this);const u=Di(s),h=s[yt]||null;h&&sO(h),this._bootstrapComponents=Ao(u.bootstrap),this._r3Injector=uy(s,c,[{provide:fc,useValue:this},{provide:Kd,useValue:this.componentFactoryResolver}],Z(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,c=zn.THROW_IF_NOT_FOUND,u=Ye.Default){return s===zn||s===fc||s===Bd?this:this._r3Injector.get(s,c,u)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class tb extends Uy{constructor(s){super(),this.moduleType=s,null!==Di(s)&&function(o){const s=new Set;!function c(u){const h=Di(u,!0),p=h.id;null!==p&&(function(o,s,c){if(s&&s!==c)throw new Error(`Duplicate module registered for ${o} - ${Z(s)} vs ${Z(s.name)}`)}(p,Au.get(p),u),Au.set(p,u));const y=Ao(h.imports);for(const v of y)s.has(v)||(s.add(v),c(v))}(o)}(s)}create(s){return new XF(this.moduleType,s)}}function sT(o,s,c,u){return function(o,s,c,u,h,p){const y=s+c;return zr(o,y,h)?al(o,y+1,p?u.call(p,h):u(h)):om(o,y+1)}(Ce(),Ln(),o,s,c,u)}function aT(o,s,c,u,h){return function(o,s,c,u,h,p,y){const v=s+c;return function(o,s,c,u){const h=zr(o,s,c);return zr(o,s+1,u)||h}(o,v,h,p)?al(o,v+2,y?u.call(y,h,p):u(h,p)):om(o,v+2)}(Ce(),Ln(),o,s,c,u,h)}function om(o,s){const c=o[s];return c===ut?void 0:c}function nb(o){return s=>{setTimeout(o,void 0,s)}}const ga=class extends l.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,c,u){var h,p,y;let v=s,E=c||(()=>null),D=u;if(s&&"object"==typeof s){const k=s;v=null===(h=k.next)||void 0===h?void 0:h.bind(k),E=null===(p=k.error)||void 0===p?void 0:p.bind(k),D=null===(y=k.complete)||void 0===y?void 0:y.bind(k)}this.__isAsync&&(E=nb(E),v&&(v=nb(v)),D&&(D=nb(D)));const P=super.subscribe({next:v,error:E,complete:D});return s instanceof ne.w&&s.add(P),P}};function pT(){return this._results[Pf()]()}class cm{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Pf(),u=cm.prototype;u[c]||(u[c]=pT)}get changes(){return this._changes||(this._changes=new ga)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,c){return this._results.reduce(s,c)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,c){const u=this;u.dirty=!1;const h=gi(s);(this._changesDetected=!function(o,s,c){if(o.length!==s.length)return!1;for(let u=0;u<o.length;u++){let h=o[u],p=s[u];if(c&&(h=c(h),p=c(p)),p!==h)return!1}return!0}(u._results,h,c))&&(u._results=h,u.length=h.length,u.last=h[this.length-1],u.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class s0{constructor(s){this.queryList=s,this.matches=null}clone(){return new s0(this.queryList)}setDirty(){this.queryList.setDirty()}}class a0{constructor(s=[]){this.queries=s}createEmbeddedView(s){const c=s.queries;if(null!==c){const u=null!==s.contentQueries?s.contentQueries[0]:c.length,h=[];for(let p=0;p<u;p++){const y=c.getByIndex(p);h.push(this.queries[y.indexInDeclarationView].clone())}return new a0(h)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let c=0;c<this.queries.length;c++)null!==wT(s,c).matches&&this.queries[c].setDirty()}}class gT{constructor(s,c,u=null){this.predicate=s,this.flags=c,this.read=u}}class mT{constructor(s=[]){this.queries=s}elementStart(s,c){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,c)}elementEnd(s){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(s)}embeddedTView(s){let c=null;for(let u=0;u<this.length;u++){const h=null!==c?c.length:0,p=this.getByIndex(u).embeddedTView(s,h);p&&(p.indexInDeclarationView=u,null!==c?c.push(p):c=[p])}return null!==c?new mT(c):null}template(s,c){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,c)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class _T{constructor(s,c=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(s,c){this.isApplyingToNode(c)&&this.matchTNode(s,c)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,c){this.elementStart(s,c)}embeddedTView(s,c){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,c),new _T(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==c;)u=u.parent;return c===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,c){const u=this.metadata.predicate;if(Array.isArray(u))for(let h=0;h<u.length;h++){const p=u[h];this.matchTNodeWithReadOption(s,c,HB(c,p)),this.matchTNodeWithReadOption(s,c,ws(c,s,p,!1,!1))}else u===Qg?4&c.type&&this.matchTNodeWithReadOption(s,c,-1):this.matchTNodeWithReadOption(s,c,ws(c,s,u,!1,!1))}matchTNodeWithReadOption(s,c,u){if(null!==u){const h=this.metadata.read;if(null!==h)if(h===xs||h===zf||h===Qg&&4&c.type)this.addMatch(c.index,-2);else{const p=ws(c,s,h,!1,!1);null!==p&&this.addMatch(c.index,p)}else this.addMatch(c.index,u)}}addMatch(s,c){null===this.matches?this.matches=[s,c]:this.matches.push(s,c)}}function HB(o,s){const c=o.localNames;if(null!==c)for(let u=0;u<c.length;u+=2)if(c[u]===s)return c[u+1];return null}function dk(o,s,c,u){return-1===c?function(o,s){return 11&o.type?As(o,s):4&o.type?By(o,s):null}(s,o):-2===c?function(o,s,c){return c===xs?As(s,o):c===Qg?By(s,o):c===zf?EF(s,o):void 0}(o,s,u):mn(o,o[1],c,s)}function Sn(o,s,c,u){const h=s[19].queries[u];if(null===h.matches){const p=o.data,y=c.matches,v=[];for(let E=0;E<y.length;E+=2){const D=y[E];v.push(D<0?null:dk(s,p[D],y[E+1],c.metadata.read))}h.matches=v}return h.matches}function nh(o,s,c,u){const h=o.queries.getByIndex(c),p=h.matches;if(null!==p){const y=Sn(o,s,h,c);for(let v=0;v<p.length;v+=2){const E=p[v];if(E>0)u.push(y[v/2]);else{const D=p[v+1],P=s[-E];for(let k=10;k<P.length;k++){const N=P[k];N[17]===N[3]&&nh(N[1],N,D,u)}if(null!==P[9]){const k=P[9];for(let N=0;N<k.length;N++){const q=k[N];nh(q[1],q,D,u)}}}}}return u}function um(o){const s=Ce(),c=Mt(),u=zc();La(u+1);const h=wT(c,u);if(o.dirty&&Nc(s)===(2==(2&h.metadata.flags))){if(null===h.matches)o.reset([]);else{const p=h.crossesNgTemplate?nh(c,s,u,[]):Sn(c,s,h,u);o.reset(p,Tw),o.notifyOnChanges()}return!0}return!1}function rb(o,s,c){const u=Mt();u.firstCreatePass&&(vT(u,new gT(o,s,c),-1),2==(2&s)&&(u.staticViewQueries=!0)),bT(u,Ce(),s)}function l0(o,s,c,u){const h=Mt();if(h.firstCreatePass){const p=an();vT(h,new gT(s,c,u),p.index),function(o,s){const c=o.contentQueries||(o.contentQueries=[]);s!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,s)}(h,o),2==(2&c)&&(h.staticContentQueries=!0)}bT(h,Ce(),c)}function c0(){return o=Ce(),s=zc(),o[19].queries[s].queryList;var o,s}function bT(o,s,c){const u=new cm(4==(4&c));eD(o,s,u,u.destroy),null===s[19]&&(s[19]=new a0),s[19].queries.push(new s0(u))}function vT(o,s,c){null===o.queries&&(o.queries=new mT),o.queries.track(new _T(s,c))}function wT(o,s){return o.queries.getByIndex(s)}const E0=new _n("Application Initializer");let ih=(()=>{class o{constructor(c){this.appInits=c,this.resolve=qg,this.reject=qg,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,h)=>{this.resolve=u,this.reject=h})}runInitializers(){if(this.initialized)return;const c=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(Fg(p))c.push(p);else if(kg(p)){const y=new Promise((v,E)=>{p.subscribe({complete:v,error:E})});c.push(y)}}Promise.all(c).then(()=>{u()}).catch(h=>{this.reject(h)}),0===c.length&&u(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(yn(E0,8))},o.\u0275prov=dn({token:o,factory:o.\u0275fac}),o})();const M0=new _n("AppId"),hU={provide:M0,useFactory:function(){return`${ab()}${ab()}${ab()}`},deps:[]};function ab(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const LT=new _n("Platform Initializer"),D0=new _n("Platform ID"),VT=new _n("appBootstrapListener");let lb=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=dn({token:o,factory:o.\u0275fac}),o})();const pm=new _n("LocaleId"),gm=new _n("DefaultCurrencyCode");class ub{constructor(s,c){this.ngModuleFactory=s,this.componentFactories=c}}const UT=function(o){return new tb(o)},xk=UT,yU=function(o){return Promise.resolve(UT(o))},HT=function(o){const s=UT(o),u=Ao(Di(o).declarations).reduce((h,p)=>{const y=nr(p);return y&&h.push(new XO(y)),h},[]);return new ub(s,u)},kk=HT,Nk=function(o){return Promise.resolve(HT(o))};let mm=(()=>{class o{constructor(){this.compileModuleSync=xk,this.compileModuleAsync=yU,this.compileModuleAndAllComponentsSync=kk,this.compileModuleAndAllComponentsAsync=Nk}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=dn({token:o,factory:o.\u0275fac}),o})();const GT=(()=>Promise.resolve(0))();function ma(o){"undefined"==typeof Zone?GT.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class rs{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ga(!1),this.onMicrotaskEmpty=new ga(!1),this.onStable=new ga(!1),this.onError=new ga(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!u&&c,h.shouldCoalesceRunChangeDetection=u,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function(){let o=_t.requestAnimationFrame,s=_t.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&s){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(o){const s=()=>{!function(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(_t,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,pl(o),o.isCheckStableRunning=!0,O0(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),pl(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,u,h,p,y,v)=>{try{return Bk(o),c.invokeTask(h,p,y,v)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||o.shouldCoalesceRunChangeDetection)&&s(),WT(o)}},onInvoke:(c,u,h,p,y,v,E)=>{try{return Bk(o),c.invoke(h,p,y,v,E)}finally{o.shouldCoalesceRunChangeDetection&&s(),WT(o)}},onHasTask:(c,u,h,p)=>{c.hasTask(h,p),u===h&&("microTask"==p.change?(o._hasPendingMicrotasks=p.microTask,pl(o),O0(o)):"macroTask"==p.change&&(o.hasPendingMacrotasks=p.macroTask))},onHandleError:(c,u,h,p)=>(c.handleError(h,p),o.runOutsideAngular(()=>o.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!rs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(rs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,c,u){return this._inner.run(s,c,u)}runTask(s,c,u,h){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+h,s,Vk,qg,qg);try{return p.runTask(y,c,u)}finally{p.cancelTask(y)}}runGuarded(s,c,u){return this._inner.runGuarded(s,c,u)}runOutsideAngular(s){return this._outer.run(s)}}const Vk={};function O0(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function pl(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function Bk(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function WT(o){o._nesting--,O0(o)}class Uk{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ga,this.onMicrotaskEmpty=new ga,this.onStable=new ga,this.onError=new ga}run(s,c,u){return s.apply(c,u)}runGuarded(s,c,u){return s.apply(c,u)}runOutsideAngular(s){return s()}runTask(s,c,u,h){return s.apply(c,u)}}let T0=(()=>{class o{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{rs.assertNotInAngularZone(),ma(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ma(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(c)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,u,h){let p=-1;u&&u>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),c(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:c,timeoutId:p,updateCb:h})}whenStable(c,u,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,u,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,u,h){return[]}}return o.\u0275fac=function(c){return new(c||o)(yn(rs))},o.\u0275prov=dn({token:o,factory:o.\u0275fac}),o})(),I0=(()=>{class o{constructor(){this._applications=new Map,oh.addToWindow(this)}registerApplication(c,u){this._applications.set(c,u)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,u=!0){return oh.findTestabilityInTree(this,c,u)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=dn({token:o,factory:o.\u0275fac}),o})();class ZT{addToWindow(s){}findTestabilityInTree(s,c,u){return null}}function Hk(o){oh=o}let oh=new ZT,Cr=!0,db=!1;function _m(){return db=!0,Cr}function hb(){if(db)throw new Error("Cannot enable prod mode after platform setup.");Cr=!1}let Rs;const Gk=new _n("AllowMultipleToken");class MU{constructor(s,c){this.name=s,this.token=c}}function KT(o,s,c=[]){const u=`Platform: ${s}`,h=new _n(u);return(p=[])=>{let y=pb();if(!y||y.injector.get(Gk,!1))if(o)o(c.concat(p).concat({provide:h,useValue:!0}));else{const v=c.concat(p).concat({provide:h,useValue:!0},{provide:Ud,useValue:"platform"});!function(o){if(Rs&&!Rs.destroyed&&!Rs.injector.get(Gk,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Rs=o.get(gb);const s=o.get(LT,null);s&&s.forEach(c=>c())}(zn.create({providers:v,name:u}))}return function(o){const s=pb();if(!s)throw new Error("No platform exists!");if(!s.injector.get(o,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(h)}}function pb(){return Rs&&!Rs.destroyed?Rs:null}let gb=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,u){const v=function(o,s){let c;return c="noop"===o?new Uk:("zone.js"===o?void 0:o)||new rs({enableLongStackTrace:_m(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),c}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),E=[{provide:rs,useValue:v}];return v.run(()=>{const D=zn.create({providers:E,parent:this.injector,name:c.moduleType.name}),P=c.create(D),k=P.injector.get(Ja,null);if(!k)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return v.runOutsideAngular(()=>{const N=v.onError.subscribe({next:q=>{k.handleError(q)}});P.onDestroy(()=>{JT(this._modules,P),N.unsubscribe()})}),function(o,s,c){try{const u=c();return Fg(u)?u.catch(h=>{throw s.runOutsideAngular(()=>o.handleError(h)),h}):u}catch(u){throw s.runOutsideAngular(()=>o.handleError(u)),u}}(k,v,()=>{const N=P.injector.get(ih);return N.runInitializers(),N.donePromise.then(()=>(sO(P.injector.get(pm,pw)||pw),this._moduleDoBootstrap(P),P))})})}bootstrapModule(c,u=[]){const h=mb({},u);return function(o,s,c){const u=new tb(c);return Promise.resolve(u)}(0,0,c).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(c){const u=c.injector.get(ym);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>u.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new Error(`The module ${Z(c.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);c.instance.ngDoBootstrap(u)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(yn(zn))},o.\u0275prov=dn({token:o,factory:o.\u0275fac}),o})();function mb(o,s){return Array.isArray(s)?s.reduce(mb,o):Object.assign(Object.assign({},o),s)}let ym=(()=>{class o{constructor(c,u,h,p,y){this._zone=c,this._injector=u,this._exceptionHandler=h,this._componentFactoryResolver=p,this._initStatus=y,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new B.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),E=new B.y(D=>{let P;this._zone.runOutsideAngular(()=>{P=this._zone.onStable.subscribe(()=>{rs.assertNotInAngularZone(),ma(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const k=this._zone.onUnstable.subscribe(()=>{rs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{P.unsubscribe(),k.unsubscribe()}});this.isStable=(0,ae.T)(v,E.pipe((0,re.B)()))}bootstrap(c,u){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let h;h=c instanceof Dw?c:this._componentFactoryResolver.resolveComponentFactory(c),this.componentTypes.push(h.componentType);const p=function(o){return o.isBoundToModule}(h)?void 0:this._injector.get(fc),v=h.create(zn.NULL,[],u||h.selector,p),E=v.location.nativeElement,D=v.injector.get(T0,null),P=D&&v.injector.get(I0);return D&&P&&P.registerApplication(E,D),v.onDestroy(()=>{this.detachView(v.hostView),JT(this.components,v),P&&P.unregisterApplication(E)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const u=c;this._views.push(u),u.attachToAppRef(this)}detachView(c){const u=c;JT(this._views,u),u.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(VT,[]).concat(this._bootstrapListeners).forEach(h=>h(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(c){return new(c||o)(yn(rs),yn(zn),yn(Ja),yn(Kd),yn(ih))},o.\u0275prov=dn({token:o,factory:o.\u0275fac}),o})();function JT(o,s){const c=o.indexOf(s);c>-1&&o.splice(c,1)}class Kk{}class tI{}const sh={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let _b=(()=>{class o{constructor(c,u){this._compiler=c,this._config=u||sh}load(c){return this.loadAndCompile(c)}loadAndCompile(c){let[u,h]=c.split("#");return void 0===h&&(h="default"),V(8255)(u).then(p=>p[h]).then(p=>nI(p,u,h)).then(p=>this._compiler.compileModuleAsync(p))}loadFactory(c){let[u,h]=c.split("#"),p="NgFactory";return void 0===h&&(h="default",p=""),V(8255)(this._config.factoryPathPrefix+u+this._config.factoryPathSuffix).then(y=>y[h+p]).then(y=>nI(y,u,h))}}return o.\u0275fac=function(c){return new(c||o)(yn(mm),yn(tI,8))},o.\u0275prov=dn({token:o,factory:o.\u0275fac}),o})();function nI(o,s,c){if(!o)throw new Error(`Cannot find '${c}' in '${s}'`);return o}const tR=function(o){return null},rR=KT(null,"core",[{provide:D0,useValue:"unknown"},{provide:gb,deps:[zn]},{provide:I0,deps:[]},{provide:lb,deps:[]}]),aI=[{provide:ym,useClass:ym,deps:[rs,zn,Ja,Kd,ih]},{provide:JO,deps:[rs],useFactory:function(o){let s=[];return o.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(c){s.push(c)}}},{provide:ih,useClass:ih,deps:[[new Wa,E0]]},{provide:mm,useClass:mm,deps:[]},hU,{provide:Yg,useFactory:function(){return Fw},deps:[]},{provide:jf,useFactory:function(){return TB},deps:[]},{provide:pm,useFactory:function(o){return sO(o=o||"undefined"!=typeof $localize&&$localize.locale||pw),o},deps:[[new qa(pm),new Wa,new br]]},{provide:gm,useValue:"USD"}];let N0=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(yn(ym))},o.\u0275mod=js({type:o}),o.\u0275inj=wn({providers:aI}),o})()},8939:(qe,ye,V)=>{"use strict";V.d(ye,{hO:()=>ue,xv:()=>Q,Dh:()=>Z,GT:()=>ee,cc:()=>me,on:()=>U,pX:()=>re});var l=V(7716),ne=V(7841),B=V(2324);qe=V.hmd(qe);const ae=["ngOnDestroy"],re=(se,Me,ke,Ue={})=>new Proxy(se,{get:(xt,Nt)=>ke.runOutsideAngular(()=>{var qt;if(se[Nt])return(null===(qt=null==Ue?void 0:Ue.spy)||void 0===qt?void 0:qt.get)&&Ue.spy.get(Nt,se[Nt]),se[Nt];if(ae.indexOf(Nt)>-1)return()=>{};const Ct=Me.toPromise().then(Cn=>{const wt=Cn&&Cn[Nt];return"function"==typeof wt?wt.bind(Cn):wt&&wt.then?wt.then(gt=>ke.run(()=>gt)):ke.run(()=>wt)});return new Proxy(()=>{},{get:(Cn,wt)=>Ct[wt],apply:(Cn,wt,gt)=>Ct.then(Zt=>{var mt;const Bt=Zt&&Zt(...gt);return(null===(mt=null==Ue?void 0:Ue.spy)||void 0===mt?void 0:mt.apply)&&Ue.spy.apply(Nt,gt,Bt),Bt})})})}),ee=(se,Me)=>{Me.forEach(ke=>{Object.getOwnPropertyNames(ke.prototype||ke).forEach(Ue=>{Object.defineProperty(se.prototype,Ue,Object.getOwnPropertyDescriptor(ke.prototype||ke,Ue))})})};class K{constructor(Me){return Me}}const Z=new l.OlP("angularfire2.app.options"),Q=new l.OlP("angularfire2.app.name");function U(se,Me,ke){const xt="object"==typeof ke&&ke||{};xt.name=xt.name||"string"==typeof ke&&ke||"[DEFAULT]";const qt=ne.Z.apps.filter(Ct=>Ct&&Ct.name===xt.name)[0]||Me.runOutsideAngular(()=>ne.Z.initializeApp(se,xt));try{JSON.stringify(se)!==JSON.stringify(qt.options)&&H("error",`${qt.name} Firebase App already initialized with different options${qe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ct){}return new K(qt)}const H=(se,...Me)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[se](...Me)},$={provide:K,useFactory:U,deps:[Z,l.R0b,[new l.FiY,Q]]};let ue=(()=>{class se{constructor(ke){ne.Z.registerVersion("angularfire",B.q4.full,"core"),ne.Z.registerVersion("angularfire",B.q4.full,"app-compat"),ne.Z.registerVersion("angular",l.q4F.full,ke.toString())}static initializeApp(ke,Ue){return{ngModule:se,providers:[{provide:Z,useValue:ke},{provide:Q,useValue:Ue}]}}}return se.\u0275fac=function(ke){return new(ke||se)(l.LFG(l.Lbi))},se.\u0275mod=l.oAB({type:se}),se.\u0275inj=l.cJS({providers:[$]}),se})();function me(se,Me,ke,Ue,xt){const[,Nt,qt]=globalThis.\u0275AngularfireInstanceCache.find(Ct=>Ct[0]===se)||[];if(Nt)return function(se,Me){try{return se.toString()===Me.toString()}catch(ke){return se===Me}}(xt,qt)||(de("error",`${Me} was already initialized on the ${ke} Firebase App with different settings.${Ee?" You may need to reload as Firebase is not HMR aware.":""}`),de("warn",{is:xt,was:qt})),Nt;{const Ct=Ue();return globalThis.\u0275AngularfireInstanceCache.push([se,Ct,xt]),Ct}}const Ee=!!qe.hot,de=(se,...Me)=>{(0,l.X6Q)()&&"undefined"!=typeof console&&console[se](...Me)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2324:(qe,ye,V)=>{"use strict";V.d(ye,{q4:()=>ef,iC:()=>Tn,HU:()=>gd,vb:()=>ql,JM:()=>So});var l=V(7716),ne=V(2329),B=V(8239),ae=V(8026),re=V(3854),ee=V(3910),K=V(5422),Z=V(6676);const Q="@firebase/installations",U="0.5.4",$=`w:${U}`,ue="FIS_v2",Me=new re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ke(O){return O instanceof re.ZR&&O.code.includes("request-failed")}function Ue({projectId:O}){return`https://firebaseinstallations.googleapis.com/v1/projects/${O}/installations`}function xt(O){return{token:O.token,requestStatus:2,expiresIn:Zt(O.expiresIn),creationTime:Date.now()}}function Nt(O,S){return qt.apply(this,arguments)}function qt(){return(qt=(0,B.Z)(function*(O,S){const z=(yield S.json()).error;return Me.create("request-failed",{requestName:O,serverCode:z.code,serverMessage:z.message,serverStatus:z.status})})).apply(this,arguments)}function Ct({apiKey:O}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O})}function Cn(O,{refreshToken:S}){const F=Ct(O);return F.append("Authorization",function(O){return`${ue} ${O}`}(S)),F}function wt(O){return gt.apply(this,arguments)}function gt(){return(gt=(0,B.Z)(function*(O){const S=yield O();return S.status>=500&&S.status<600?O():S})).apply(this,arguments)}function Zt(O){return Number(O.replace("s","000"))}function Bt(O,S){return Je.apply(this,arguments)}function Je(){return(Je=(0,B.Z)(function*(O,{fid:S}){const F=Ue(O),he={method:"POST",headers:Ct(O),body:JSON.stringify({fid:S,authVersion:ue,appId:O.appId,sdkVersion:$})},we=yield wt(()=>fetch(F,he));if(we.ok){const He=yield we.json();return{fid:He.fid||S,registrationStatus:2,refreshToken:He.refreshToken,authToken:xt(He.authToken)}}throw yield Nt("Create Installation",we)})).apply(this,arguments)}function Tc(O){return new Promise(S=>{setTimeout(S,O)})}const Ho=/^[cdef][\w-]{21}$/;function jt(){try{const O=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(O),O[0]=112+O[0]%16;const F=function(O){return function(O){return btoa(String.fromCharCode(...O)).replace(/\+/g,"-").replace(/\//g,"_")}(O).substr(0,22)}(O);return Ho.test(F)?F:""}catch(O){return""}}function jo(O){return`${O.appName}!${O.appId}`}const hs=new Map;function Co(O,S){const F=jo(O);wn(F,S),function(O,S){const F=(!Ut&&"BroadcastChannel"in self&&(Ut=new BroadcastChannel("[Firebase] FID Change"),Ut.onmessage=O=>{wn(O.data.key,O.data.fid)}),Ut);F&&F.postMessage({key:O,fid:S}),0===hs.size&&Ut&&(Ut.close(),Ut=null)}(F,S)}function wn(O,S){const F=hs.get(O);if(F)for(const z of F)z(S)}let Ut=null;const De="firebase-installations-store";let fr=null;function Zn(){return fr||(fr=(0,Z.openDb)("firebase-installations-database",1,O=>{switch(O.oldVersion){case 0:O.createObjectStore(De)}})),fr}function Ye(O,S){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,B.Z)(function*(O,S){const F=jo(O),te=(yield Zn()).transaction(De,"readwrite"),he=te.objectStore(De),we=yield he.get(F);return yield he.put(S,F),yield te.complete,(!we||we.fid!==S.fid)&&Co(O,S.fid),S})).apply(this,arguments)}function Yi(O){return $r.apply(this,arguments)}function $r(){return($r=(0,B.Z)(function*(O){const S=jo(O),z=(yield Zn()).transaction(De,"readwrite");yield z.objectStore(De).delete(S),yield z.complete})).apply(this,arguments)}function rt(O,S){return at.apply(this,arguments)}function at(){return(at=(0,B.Z)(function*(O,S){const F=jo(O),te=(yield Zn()).transaction(De,"readwrite"),he=te.objectStore(De),we=yield he.get(F),He=S(we);return void 0===He?yield he.delete(F):yield he.put(He,F),yield te.complete,He&&(!we||we.fid!==He.fid)&&Co(O,He.fid),He})).apply(this,arguments)}function It(O){return St.apply(this,arguments)}function St(){return(St=(0,B.Z)(function*(O){let S;const F=yield rt(O,z=>{const te=qr(z),he=Wt(O,te);return S=he.registrationPromise,he.installationEntry});return""===F.fid?{installationEntry:yield S}:{installationEntry:F,registrationPromise:S}})).apply(this,arguments)}function qr(O){return _t(O||{fid:jt(),registrationStatus:0})}function Wt(O,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(Me.create("app-offline"))};const F={fid:S.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:F,registrationPromise:function(O,S){return nt.apply(this,arguments)}(O,F)}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:Wu(O)}:{installationEntry:S}}function nt(){return(nt=(0,B.Z)(function*(O,S){try{return Ye(O,yield Bt(O,S))}catch(F){throw ke(F)&&409===F.customData.serverCode?yield Yi(O):yield Ye(O,{fid:S.fid,registrationStatus:0}),F}})).apply(this,arguments)}function Wu(O){return fs.apply(this,arguments)}function fs(){return(fs=(0,B.Z)(function*(O){let S=yield Qt(O);for(;1===S.registrationStatus;)yield Tc(100),S=yield Qt(O);if(0===S.registrationStatus){const{installationEntry:F,registrationPromise:z}=yield It(O);return z||F}return S})).apply(this,arguments)}function Qt(O){return rt(O,S=>{if(!S)throw Me.create("installation-not-found");return _t(S)})}function _t(O){return function(O){return 1===O.registrationStatus&&O.registrationTime+1e4<Date.now()}(O)?{fid:O.fid,registrationStatus:0}:O}function Zu(O,S){return Y.apply(this,arguments)}function Y(){return(Y=(0,B.Z)(function*({appConfig:O,platformLoggerProvider:S},F){const z=G(O,F),te=Cn(O,F),he=S.getImmediate({optional:!0});he&&te.append("x-firebase-client",he.getPlatformInfoString());const He={method:"POST",headers:te,body:JSON.stringify({installation:{sdkVersion:$}})},ze=yield wt(()=>fetch(z,He));if(ze.ok)return xt(yield ze.json());throw yield Nt("Generate Auth Token",ze)})).apply(this,arguments)}function G(O,{fid:S}){return`${Ue(O)}/${S}/authTokens:generate`}function X(O){return ve.apply(this,arguments)}function ve(){return(ve=(0,B.Z)(function*(O,S=!1){let F;const z=yield rt(O.appConfig,he=>{if(!kn(he))throw Me.create("not-registered");const we=he.authToken;if(!S&&Fr(we))return he;if(1===we.requestStatus)return F=le(O,S),he;{if(!navigator.onLine)throw Me.create("app-offline");const He=Dr(he);return F=Ht(O,He),He}});return F?yield F:z.authToken})).apply(this,arguments)}function le(O,S){return je.apply(this,arguments)}function je(){return(je=(0,B.Z)(function*(O,S){let F=yield yt(O.appConfig);for(;1===F.authToken.requestStatus;)yield Tc(100),F=yield yt(O.appConfig);const z=F.authToken;return 0===z.requestStatus?X(O,S):z})).apply(this,arguments)}function yt(O){return rt(O,S=>{if(!kn(S))throw Me.create("not-registered");return function(O){return 1===O.requestStatus&&O.requestTime+1e4<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function Ht(O,S){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,B.Z)(function*(O,S){try{const F=yield Zu(O,S),z=Object.assign(Object.assign({},S),{authToken:F});return yield Ye(O.appConfig,z),F}catch(F){if(!ke(F)||401!==F.customData.serverCode&&404!==F.customData.serverCode){const z=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield Ye(O.appConfig,z)}else yield Yi(O.appConfig);throw F}})).apply(this,arguments)}function kn(O){return void 0!==O&&2===O.registrationStatus}function Fr(O){return 2===O.requestStatus&&!function(O){const S=Date.now();return S<O.creationTime||O.creationTime+O.expiresIn<S+36e5}(O)}function Dr(O){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},O),{authToken:S})}function js(){return(js=(0,B.Z)(function*(O){const S=O,{installationEntry:F,registrationPromise:z}=yield It(S.appConfig);return z?z.catch(console.error):X(S).catch(console.error),F.fid})).apply(this,arguments)}function zs(){return(zs=(0,B.Z)(function*(O,S=!1){const F=O;return yield Yu(F.appConfig),(yield X(F,S)).token})).apply(this,arguments)}function Yu(O){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,B.Z)(function*(O){const{registrationPromise:S}=yield It(O);S&&(yield S)})).apply(this,arguments)}function Jt(O){return Me.create("missing-app-config-values",{valueName:O})}const Zr="installations";(0,ae._registerComponent)(new ee.wA(Zr,O=>{const S=O.getProvider("app").getImmediate();return{app:S,appConfig:function(O){if(!O||!O.options)throw Jt("App Configuration");if(!O.name)throw Jt("App Name");const S=["projectId","apiKey","appId"];for(const F of S)if(!O.options[F])throw Jt(F);return{appName:O.name,projectId:O.options.projectId,apiKey:O.options.apiKey,appId:O.options.appId}}(S),platformLoggerProvider:(0,ae._getProvider)(S,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,ae._registerComponent)(new ee.wA("installations-internal",O=>{const S=O.getProvider("app").getImmediate(),F=(0,ae._getProvider)(S,Zr).getImmediate();return{getId:()=>function(O){return js.apply(this,arguments)}(F),getToken:te=>function(O){return zs.apply(this,arguments)}(F,te)}},"PRIVATE")),(0,ae.registerVersion)(Q,U),(0,ae.registerVersion)(Q,U,"esm2017");const ui="@firebase/remote-config",pr=new re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Pc{constructor(S,F,z,te){this.client=S,this.storage=F,this.storageCache=z,this.logger=te}isCachedDataFresh(S,F){if(!F)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const z=Date.now()-F,te=z<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${z}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${te}.`),te}fetch(S){var F=this;return(0,B.Z)(function*(){const[z,te]=yield Promise.all([F.storage.getLastSuccessfulFetchTimestampMillis(),F.storage.getLastSuccessfulFetchResponse()]);if(te&&F.isCachedDataFresh(S.cacheMaxAgeMillis,z))return te;S.eTag=te&&te.eTag;const he=yield F.client.fetch(S),we=[F.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===he.status&&we.push(F.storage.setLastSuccessfulFetchResponse(he)),yield Promise.all(we),he})()}}function Qi(O=navigator){return O.languages&&O.languages[0]||O.language}class Ji{constructor(S,F,z,te,he,we){this.firebaseInstallations=S,this.sdkVersion=F,this.namespace=z,this.projectId=te,this.apiKey=he,this.appId=we}fetch(S){var F=this;return(0,B.Z)(function*(){const[z,te]=yield Promise.all([F.firebaseInstallations.getId(),F.firebaseInstallations.getToken()]),we=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${F.projectId}/namespaces/${F.namespace}:fetch?key=${F.apiKey}`,He={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},ze={sdk_version:F.sdkVersion,app_instance_id:z,app_instance_id_token:te,app_id:F.appId,language_code:Qi()},Ft={method:"POST",headers:He,body:JSON.stringify(ze)},nn=fetch(we,Ft),Hn=new Promise((no,ro)=>{S.signal.addEventListener(()=>{const pt=new Error("The operation was aborted.");pt.name="AbortError",ro(pt)})});let Qr;try{yield Promise.race([nn,Hn]),Qr=yield nn}catch(no){let ro="fetch-client-network";throw"AbortError"===no.name&&(ro="fetch-timeout"),pr.create(ro,{originalErrorMessage:no.message})}let sr=Qr.status;const Xc=Qr.headers.get("ETag")||void 0;let ea,eu;if(200===Qr.status){let no;try{no=yield Qr.json()}catch(ro){throw pr.create("fetch-client-parse",{originalErrorMessage:ro.message})}ea=no.entries,eu=no.state}if("INSTANCE_STATE_UNSPECIFIED"===eu?sr=500:"NO_CHANGE"===eu?sr=304:("NO_TEMPLATE"===eu||"EMPTY_CONFIG"===eu)&&(ea={}),304!==sr&&200!==sr)throw pr.create("fetch-status",{httpStatus:sr});return{status:sr,eTag:Xc,config:ea}})()}}class Qu{constructor(S,F){this.client=S,this.storage=F}fetch(S){var F=this;return(0,B.Z)(function*(){const z=(yield F.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return F.attemptFetch(S,z)})()}attemptFetch(S,{throttleEndTimeMillis:F,backoffCount:z}){var te=this;return(0,B.Z)(function*(){yield function(O,S){return new Promise((F,z)=>{const te=Math.max(S-Date.now(),0),he=setTimeout(F,te);O.addEventListener(()=>{clearTimeout(he),z(pr.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,F);try{const he=yield te.client.fetch(S);return yield te.storage.deleteThrottleMetadata(),he}catch(he){if(!function(O){if(!(O instanceof re.ZR&&O.customData))return!1;const S=Number(O.customData.httpStatus);return 429===S||500===S||503===S||504===S}(he))throw he;const we={throttleEndTimeMillis:Date.now()+(0,re.$s)(z),backoffCount:z+1};return yield te.storage.setThrottleMetadata(we),te.attemptFetch(S,we)}})()}}class u_{constructor(S,F,z,te,he){this.app=S,this._client=F,this._storageCache=z,this._storage=te,this._logger=he,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ol(O,S){const F=O.target.error||void 0;return pr.create(S,{originalErrorMessage:F&&F.message})}const Aa="app_namespace_store";class d_{constructor(S,F,z,te=function(){return new Promise((O,S)=>{try{const F=indexedDB.open("firebase_remote_config",1);F.onerror=z=>{S(Ol(z,"storage-open"))},F.onsuccess=z=>{O(z.target.result)},F.onupgradeneeded=z=>{const te=z.target.result;switch(z.oldVersion){case 0:te.createObjectStore(Aa,{keyPath:"compositeKey"})}}}catch(F){S(pr.create("storage-open",{originalErrorMessage:F}))}})}()){this.appId=S,this.appName=F,this.namespace=z,this.openDbPromise=te}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var F=this;return(0,B.Z)(function*(){const z=yield F.openDbPromise;return new Promise((te,he)=>{const He=z.transaction([Aa],"readonly").objectStore(Aa),ze=F.createCompositeKey(S);try{const Ft=He.get(ze);Ft.onerror=nn=>{he(Ol(nn,"storage-get"))},Ft.onsuccess=nn=>{const Hn=nn.target.result;te(Hn?Hn.value:void 0)}}catch(Ft){he(pr.create("storage-get",{originalErrorMessage:Ft&&Ft.message}))}})})()}set(S,F){var z=this;return(0,B.Z)(function*(){const te=yield z.openDbPromise;return new Promise((he,we)=>{const ze=te.transaction([Aa],"readwrite").objectStore(Aa),Ft=z.createCompositeKey(S);try{const nn=ze.put({compositeKey:Ft,value:F});nn.onerror=Hn=>{we(Ol(Hn,"storage-set"))},nn.onsuccess=()=>{he()}}catch(nn){we(pr.create("storage-set",{originalErrorMessage:nn&&nn.message}))}})})()}delete(S){var F=this;return(0,B.Z)(function*(){const z=yield F.openDbPromise;return new Promise((te,he)=>{const He=z.transaction([Aa],"readwrite").objectStore(Aa),ze=F.createCompositeKey(S);try{const Ft=He.delete(ze);Ft.onerror=nn=>{he(Ol(nn,"storage-delete"))},Ft.onsuccess=()=>{te()}}catch(Ft){he(pr.create("storage-delete",{originalErrorMessage:Ft&&Ft.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class Rh{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,B.Z)(function*(){const F=S.storage.getLastFetchStatus(),z=S.storage.getLastSuccessfulFetchTimestampMillis(),te=S.storage.getActiveConfig(),he=yield F;he&&(S.lastFetchStatus=he);const we=yield z;we&&(S.lastSuccessfulFetchTimestampMillis=we);const He=yield te;He&&(S.activeConfig=He)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function Xu(){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,B.Z)(function*(){if(!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch(O){return!1}})).apply(this,arguments)}(0,ae._registerComponent)(new ee.wA("remote-config",function(S,{instanceIdentifier:F}){const z=S.getProvider("app").getImmediate(),te=S.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw pr.create("registration-window");if(!(0,re.hl)())throw pr.create("indexed-db-unavailable");const{projectId:he,apiKey:we,appId:He}=z.options;if(!he)throw pr.create("registration-project-id");if(!we)throw pr.create("registration-api-key");if(!He)throw pr.create("registration-app-id");const ze=new d_(He,z.name,F=F||"firebase"),Ft=new Rh(ze),nn=new K.Yd(ui);nn.logLevel=K.in.ERROR;const Hn=new Ji(te,ae.SDK_VERSION,F,he,we,He),Qr=new Qu(Hn,ze),sr=new Pc(Qr,ze,Ft,nn),Xc=new u_(z,sr,Ft,ze,nn);return function(O){const S=(0,re.m9)(O);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(Xc),Xc},"PUBLIC").setMultipleInstances(!0)),(0,ae.registerVersion)(ui,"0.3.3"),(0,ae.registerVersion)(ui,"0.3.3","esm2017");const Tl="/firebase-messaging-sw.js",f_="/firebase-cloud-messaging-push-scope",Il="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Do="google.c.a.c_id",Sl="google.c.a.c_l",mr="google.c.a.ts",Pl="google.c.a.e";var Lr=(()=>{return(O=Lr||(Lr={})).PUSH_RECEIVED="push-received",O.NOTIFICATION_CLICKED="notification-clicked",Lr;var O})();function Oo(O){const S=new Uint8Array(O);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function xc(O){const F=(O+"=".repeat((4-O.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),z=atob(F),te=new Uint8Array(z.length);for(let he=0;he<z.length;++he)te[he]=z.charCodeAt(he);return te}const Fc="fcm_token_details_db",Fp="fcm_token_object_Store";function di(O){return Al.apply(this,arguments)}function Al(){return(Al=(0,B.Z)(function*(O){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(he=>he.name).includes(Fc))return null;let S=null;return(yield(0,Z.openDb)(Fc,5,function(){var z=(0,B.Z)(function*(te){var he;if(te.oldVersion<2||!te.objectStoreNames.contains(Fp))return;const we=te.transaction.objectStore(Fp),He=yield we.index("fcmSenderId").get(O);if(yield we.clear(),He)if(2===te.oldVersion){const ze=He;if(!ze.auth||!ze.p256dh||!ze.endpoint)return;S={token:ze.fcmToken,createTime:null!==(he=ze.createTime)&&void 0!==he?he:Date.now(),subscriptionOptions:{auth:ze.auth,p256dh:ze.p256dh,endpoint:ze.endpoint,swScope:ze.swScope,vapidKey:"string"==typeof ze.vapidKey?ze.vapidKey:Oo(ze.vapidKey)}}}else if(3===te.oldVersion){const ze=He;S={token:ze.fcmToken,createTime:ze.createTime,subscriptionOptions:{auth:Oo(ze.auth),p256dh:Oo(ze.p256dh),endpoint:ze.endpoint,swScope:ze.swScope,vapidKey:Oo(ze.vapidKey)}}}else if(4===te.oldVersion){const ze=He;S={token:ze.fcmToken,createTime:ze.createTime,subscriptionOptions:{auth:Oo(ze.auth),p256dh:Oo(ze.p256dh),endpoint:ze.endpoint,swScope:ze.swScope,vapidKey:Oo(ze.vapidKey)}}}});return function(te){return z.apply(this,arguments)}}())).close(),yield(0,Z.deleteDb)(Fc),yield(0,Z.deleteDb)("fcm_vapid_details_db"),yield(0,Z.deleteDb)("undefined"),Vh(S)?S:null})).apply(this,arguments)}function Vh(O){if(!O||!O.subscriptionOptions)return!1;const{subscriptionOptions:S}=O;return"number"==typeof O.createTime&&O.createTime>0&&"string"==typeof O.token&&O.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}const gs="firebase-messaging-store";let ed=null;function en(){return ed||(ed=(0,Z.openDb)("firebase-messaging-database",1,O=>{switch(O.oldVersion){case 0:O.createObjectStore(gs)}})),ed}function Bh(O){return To.apply(this,arguments)}function To(){return(To=(0,B.Z)(function*(O){const S=Ws(O),z=yield(yield en()).transaction(gs).objectStore(gs).get(S);if(z)return z;{const te=yield di(O.appConfig.senderId);if(te)return yield Xi(O,te),te}})).apply(this,arguments)}function Xi(O,S){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,B.Z)(function*(O,S){const F=Ws(O),te=(yield en()).transaction(gs,"readwrite");return yield te.objectStore(gs).put(S,F),yield te.complete,S})).apply(this,arguments)}function Fa(O){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,B.Z)(function*(O){const S=Ws(O),z=(yield en()).transaction(gs,"readwrite");yield z.objectStore(gs).delete(S),yield z.complete})).apply(this,arguments)}function Ws({appConfig:O}){return O.appId}const Yn=new re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ms(O,S){return _s.apply(this,arguments)}function _s(){return(_s=(0,B.Z)(function*(O,S){const F=yield xl(O),z=lt(S),te={method:"POST",headers:F,body:JSON.stringify(z)};let he;try{he=yield(yield fetch(Nn(O.appConfig),te)).json()}catch(we){throw Yn.create("token-subscribe-failed",{errorInfo:we})}if(he.error)throw Yn.create("token-subscribe-failed",{errorInfo:he.error.message});if(!he.token)throw Yn.create("token-subscribe-no-token");return he.token})).apply(this,arguments)}function Tr(O,S){return Nc.apply(this,arguments)}function Nc(){return(Nc=(0,B.Z)(function*(O,S){const F=yield xl(O),z=lt(S.subscriptionOptions),te={method:"PATCH",headers:F,body:JSON.stringify(z)};let he;try{he=yield(yield fetch(`${Nn(O.appConfig)}/${S.token}`,te)).json()}catch(we){throw Yn.create("token-update-failed",{errorInfo:we})}if(he.error)throw Yn.create("token-update-failed",{errorInfo:he.error.message});if(!he.token)throw Yn.create("token-update-no-token");return he.token})).apply(this,arguments)}function Lc(O,S){return ys.apply(this,arguments)}function ys(){return(ys=(0,B.Z)(function*(O,S){const z={method:"DELETE",headers:yield xl(O)};try{const he=yield(yield fetch(`${Nn(O.appConfig)}/${S}`,z)).json();if(he.error)throw Yn.create("token-unsubscribe-failed",{errorInfo:he.error.message})}catch(te){throw Yn.create("token-unsubscribe-failed",{errorInfo:te})}})).apply(this,arguments)}function Nn({projectId:O}){return`https://fcmregistrations.googleapis.com/v1/projects/${O}/registrations`}function xl(O){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,B.Z)(function*({appConfig:O,installations:S}){const F=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":O.apiKey,"x-goog-firebase-installations-auth":`FIS ${F}`})})).apply(this,arguments)}function lt({p256dh:O,auth:S,endpoint:F,vapidKey:z}){const te={web:{endpoint:F,auth:S,p256dh:O}};return z!==Il&&(te.web.applicationPubKey=z),te}const Vc=6048e5;function Uh(O){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,B.Z)(function*(O){const S=yield Uc(O.swRegistration,O.vapidKey),F={vapidKey:O.vapidKey,swScope:O.swRegistration.scope,endpoint:S.endpoint,auth:Oo(S.getKey("auth")),p256dh:Oo(S.getKey("p256dh"))},z=yield Bh(O.firebaseDependencies);if(z){if(Hc(z.subscriptionOptions,F))return Date.now()>=z.createTime+Vc?td(O,{token:z.token,createTime:Date.now(),subscriptionOptions:F}):z.token;try{yield Lc(O.firebaseDependencies,z.token)}catch(te){console.warn(te)}return Ce(O.firebaseDependencies,F)}return Ce(O.firebaseDependencies,F)})).apply(this,arguments)}function Hh(O){return kl.apply(this,arguments)}function kl(){return(kl=(0,B.Z)(function*(O){const S=yield Bh(O.firebaseDependencies);S&&(yield Lc(O.firebaseDependencies,S.token),yield Fa(O.firebaseDependencies));const F=yield O.swRegistration.pushManager.getSubscription();return!F||F.unsubscribe()})).apply(this,arguments)}function td(O,S){return Go.apply(this,arguments)}function Go(){return(Go=(0,B.Z)(function*(O,S){try{const F=yield Tr(O.firebaseDependencies,S),z=Object.assign(Object.assign({},S),{token:F,createTime:Date.now()});return yield Xi(O.firebaseDependencies,z),F}catch(F){throw yield Hh(O),F}})).apply(this,arguments)}function Ce(O,S){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,B.Z)(function*(O,S){const z={token:yield ms(O,S),createTime:Date.now(),subscriptionOptions:S};return yield Xi(O,z),z.token})).apply(this,arguments)}function Uc(O,S){return an.apply(this,arguments)}function an(){return(an=(0,B.Z)(function*(O,S){return(yield O.pushManager.getSubscription())||O.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:xc(S)})})).apply(this,arguments)}function Hc(O,S){return S.vapidKey===O.vapidKey&&S.endpoint===O.endpoint&&S.auth===O.auth&&S.p256dh===O.p256dh}function Io(O){const S={from:O.from,collapseKey:O.collapse_key,messageId:O.fcm_message_id};return function(O,S){if(!S.notification)return;O.notification={};const F=S.notification.title;F&&(O.notification.title=F);const z=S.notification.body;z&&(O.notification.body=z);const te=S.notification.image;te&&(O.notification.image=te)}(S,O),function(O,S){!S.data||(O.data=S.data)}(S,O),function(O,S){if(!S.fcmOptions)return;O.fcmOptions={};const F=S.fcmOptions.link;F&&(O.fcmOptions.link=F);const z=S.fcmOptions.analytics_label;z&&(O.fcmOptions.analyticsLabel=z)}(S,O),S}function jh(O){return"object"==typeof O&&!!O&&Do in O}function nd(O,S){const F=[];for(let z=0;z<O.length;z++)F.push(O.charAt(z)),z<S.length&&F.push(S.charAt(z));return F.join("")}function Na(O){return Yn.create("missing-app-config-values",{valueName:O})}nd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),nd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ln{constructor(S,F,z){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const te=function(O){if(!O||!O.options)throw Na("App Configuration Object");if(!O.name)throw Na("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:F}=O;for(const z of S)if(!F[z])throw Na(z);return{appName:O.name,projectId:F.projectId,apiKey:F.apiKey,appId:F.appId,senderId:F.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:te,installations:F,analyticsProvider:z}}_delete(){return Promise.resolve()}}function Ti(O){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,B.Z)(function*(O){try{O.swRegistration=yield navigator.serviceWorker.register(Tl,{scope:f_}),O.swRegistration.update().catch(()=>{})}catch(S){throw Yn.create("failed-service-worker-registration",{browserErrorMessage:S.message})}})).apply(this,arguments)}function Ii(O,S){return Br.apply(this,arguments)}function Br(){return(Br=(0,B.Z)(function*(O,S){if(!S&&!O.swRegistration&&(yield Ti(O)),S||!O.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw Yn.create("invalid-sw-registration");O.swRegistration=S}})).apply(this,arguments)}function rd(O,S){return jc.apply(this,arguments)}function jc(){return(jc=(0,B.Z)(function*(O,S){S?O.vapidKey=S:O.vapidKey||(O.vapidKey=Il)})).apply(this,arguments)}function id(){return(id=(0,B.Z)(function*(O,S){if(!navigator)throw Yn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Yn.create("permission-blocked");return yield rd(O,null==S?void 0:S.vapidKey),yield Ii(O,null==S?void 0:S.serviceWorkerRegistration),Uh(O)})).apply(this,arguments)}function Vl(O,S,F){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,B.Z)(function*(O,S,F){const z=zc(S);(yield O.firebaseDependencies.analyticsProvider.get()).logEvent(z,{message_id:F[Do],message_name:F[Sl],message_time:F[mr],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function zc(O){switch(O){case Lr.NOTIFICATION_CLICKED:return"notification_open";case Lr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Va(){return(Va=(0,B.Z)(function*(O,S){const F=S.data;if(!F.isFirebaseMessaging)return;O.onMessageHandler&&F.messageType===Lr.PUSH_RECEIVED&&("function"==typeof O.onMessageHandler?O.onMessageHandler(Io(F)):O.onMessageHandler.next(Io(F)));const z=F.data;jh(z)&&"1"===z[Pl]&&(yield Vl(O,F.messageType,z))})).apply(this,arguments)}const od="@firebase/messaging";function $h(){return $o.apply(this,arguments)}function $o(){return($o=(0,B.Z)(function*(){return"undefined"!=typeof window&&(0,re.hl)()&&(yield(0,re.eu)())&&(0,re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ae._registerComponent)(new ee.wA("messaging",O=>{const S=new Ln(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),O.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",F=>function(O,S){return Va.apply(this,arguments)}(S,F)),S},"PUBLIC")),(0,ae._registerComponent)(new ee.wA("messaging-internal",O=>{const S=O.getProvider("messaging").getImmediate();return{getToken:z=>function(O,S){return id.apply(this,arguments)}(S,z)}},"PRIVATE")),(0,ae.registerVersion)(od,"0.9.4"),(0,ae.registerVersion)(od,"0.9.4","esm2017");const Ua="analytics",Lp="firebase_id",bs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ul="https://www.googletagmanager.com/gtag/js",An=new K.Yd("@firebase/analytics");function cd(O){return Promise.all(O.map(S=>S.catch(F=>F)))}function Vp(O,S){const F=document.createElement("script");F.src=`${Ul}?l=${O}&id=${S}`,F.async=!0,document.head.appendChild(F)}function Ha(O,S,F,z,te,he){return qh.apply(this,arguments)}function qh(){return(qh=(0,B.Z)(function*(O,S,F,z,te,he){const we=z[te];try{if(we)yield S[we];else{const ze=(yield cd(F)).find(Ft=>Ft.measurementId===te);ze&&(yield S[ze.appId])}}catch(He){An.error(He)}O("config",te,he)})).apply(this,arguments)}function ja(O,S,F,z,te){return vs.apply(this,arguments)}function vs(){return(vs=(0,B.Z)(function*(O,S,F,z,te){try{let he=[];if(te&&te.send_to){let we=te.send_to;Array.isArray(we)||(we=[we]);const He=yield cd(F);for(const ze of we){const Ft=He.find(Hn=>Hn.measurementId===ze),nn=Ft&&S[Ft.appId];if(!nn){he=[];break}he.push(nn)}}0===he.length&&(he=Object.values(S)),yield Promise.all(he),O("event",z,te||{})}catch(he){An.error(he)}})).apply(this,arguments)}function g_(){const O=window.document.getElementsByTagName("script");for(const S of Object.values(O))if(S.src&&S.src.includes(Ul))return S;return null}const eo=new re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),$c=new class{constructor(S={},F=1e3){this.throttleMetadata=S,this.intervalMillis=F}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,F){this.throttleMetadata[S]=F}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function Up(O){return new Headers({Accept:"application/json","x-goog-api-key":O})}function hd(O){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,B.Z)(function*(O){var S;const{appId:F,apiKey:z}=O,te={method:"GET",headers:Up(z)},he=bs.replace("{app-id}",F),we=yield fetch(he,te);if(200!==we.status&&304!==we.status){let He="";try{const ze=yield we.json();(null===(S=ze.error)||void 0===S?void 0:S.message)&&(He=ze.error.message)}catch(ze){}throw eo.create("config-fetch-failed",{httpStatus:we.status,responseMessage:He})}return we.json()})).apply(this,arguments)}function Zh(O){return fi.apply(this,arguments)}function fi(){return(fi=(0,B.Z)(function*(O,S=$c,F){const{appId:z,apiKey:te,measurementId:he}=O.options;if(!z)throw eo.create("no-app-id");if(!te){if(he)return{measurementId:he,appId:z};throw eo.create("no-api-key")}const we=S.getThrottleMetadata(z)||{backoffCount:0,throttleEndTimeMillis:Date.now()},He=new Hp;return setTimeout((0,B.Z)(function*(){He.abort()}),void 0!==F?F:6e4),Hl({appId:z,apiKey:te,measurementId:he},we,He,S)})).apply(this,arguments)}function Hl(O,S,F){return za.apply(this,arguments)}function za(){return(za=(0,B.Z)(function*(O,{throttleEndTimeMillis:S,backoffCount:F},z,te=$c){const{appId:he,measurementId:we}=O;try{yield Rv(z,S)}catch(He){if(we)return An.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${we} provided in the "measurementId" field in the local Firebase config. [${He.message}]`),{appId:he,measurementId:we};throw He}try{const He=yield hd(O);return te.deleteThrottleMetadata(he),He}catch(He){if(!Yh(He)){if(te.deleteThrottleMetadata(he),we)return An.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${we} provided in the "measurementId" field in the local Firebase config. [${He.message}]`),{appId:he,measurementId:we};throw He}const ze=503===Number(He.customData.httpStatus)?(0,re.$s)(F,te.intervalMillis,30):(0,re.$s)(F,te.intervalMillis),Ft={throttleEndTimeMillis:Date.now()+ze,backoffCount:F+1};return te.setThrottleMetadata(he,Ft),An.debug(`Calling attemptFetch again in ${ze} millis`),Hl(O,Ft,z,te)}})).apply(this,arguments)}function Rv(O,S){return new Promise((F,z)=>{const te=Math.max(S-Date.now(),0),he=setTimeout(F,te);O.addEventListener(()=>{clearTimeout(he),z(eo.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}function Yh(O){if(!(O instanceof re.ZR&&O.customData))return!1;const S=Number(O.customData.httpStatus);return 429===S||500===S||503===S||504===S}class Hp{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}function Kh(){return qc.apply(this,arguments)}function qc(){return(qc=(0,B.Z)(function*(){if(!(0,re.hl)())return An.warn(eo.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eu)()}catch(O){return An.warn(eo.create("indexeddb-unavailable",{errorInfo:O}).message),!1}return!0})).apply(this,arguments)}function Ys(){return(Ys=(0,B.Z)(function*(O,S,F,z,te,he,we){var He;const ze=Zh(O);ze.then(sr=>{F[sr.measurementId]=sr.appId,O.options.measurementId&&sr.measurementId!==O.options.measurementId&&An.warn(`The measurement ID in the local Firebase config (${O.options.measurementId}) does not match the measurement ID fetched from the server (${sr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(sr=>An.error(sr)),S.push(ze);const Ft=Kh().then(sr=>{if(sr)return z.getId()}),[nn,Hn]=yield Promise.all([ze,Ft]);g_()||Vp(he,nn.measurementId),te("js",new Date);const Qr=null!==(He=null==we?void 0:we.config)&&void 0!==He?He:{};return Qr.origin="firebase",Qr.update=!0,null!=Hn&&(Qr[Lp]=Hn),te("config",nn.measurementId,Qr),nn.measurementId})).apply(this,arguments)}class hn{constructor(S){this.app=S}_delete(){return delete Le[this.app.options.appId],Promise.resolve()}}let Le={},it=[];const fd={};let zl,tn,Ir="dataLayer",Wc=!1;function mn(O,S,F){!function(){const O=[];if((0,re.ru)()&&O.push("This is a browser extension environment."),(0,re.zI)()||O.push("Cookies are not available."),O.length>0){const S=O.map((z,te)=>`(${te+1}) ${z}`).join(" "),F=eo.create("invalid-analytics-context",{errorInfo:S});An.warn(F.message)}}();const z=O.options.appId;if(!z)throw eo.create("no-app-id");if(!O.options.apiKey){if(!O.options.measurementId)throw eo.create("no-api-key");An.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${O.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Le[z])throw eo.create("already-exists",{id:z});if(!Wc){!function(O){let S=[];Array.isArray(window[O])?S=window[O]:window[O]=S}(Ir);const{wrappedGtag:he,gtagCore:we}=function(O,S,F,z,te){let he=function(...we){window[z].push(arguments)};return window[te]&&"function"==typeof window[te]&&(he=window[te]),window[te]=function(O,S,F,z){function he(){return(he=(0,B.Z)(function*(we,He,ze){try{"event"===we?yield ja(O,S,F,He,ze):"config"===we?yield Ha(O,S,F,z,He,ze):O("set",He)}catch(Ft){An.error(Ft)}})).apply(this,arguments)}return function(we,He,ze){return he.apply(this,arguments)}}(he,O,S,F),{gtagCore:he,wrappedGtag:window[te]}}(Le,it,fd,Ir,"gtag");tn=he,zl=we,Wc=!0}return Le[z]=function(O,S,F,z,te,he,we){return Ys.apply(this,arguments)}(O,it,fd,S,zl,Ir,F),new hn(O)}function Zc(){return(Zc=(0,B.Z)(function*(O,S,F,z,te){if(te&&te.global)O("event",F,z);else{const he=yield S;O("event",F,Object.assign(Object.assign({},z),{send_to:he}))}})).apply(this,arguments)}function pi(){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,B.Z)(function*(){if((0,re.ru)()||!(0,re.zI)()||!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch(O){return!1}})).apply(this,arguments)}const Xh="@firebase/analytics";(0,ae._registerComponent)(new ee.wA(Ua,(S,{options:F})=>mn(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),F),"PUBLIC")),(0,ae._registerComponent)(new ee.wA("analytics-internal",function(S){try{const F=S.getProvider(Ua).getImmediate();return{logEvent:(z,te,he)=>function(O,S,F,z){O=(0,re.m9)(O),function(O,S,F,z,te){return Zc.apply(this,arguments)}(tn,Le[O.app.options.appId],S,F,z).catch(te=>An.error(te))}(F,z,te,he)}}catch(F){throw eo.create("interop-component-reg-failed",{reason:F})}},"PRIVATE")),(0,ae.registerVersion)(Xh,"0.7.4"),(0,ae.registerVersion)(Xh,"0.7.4","esm2017");var Nv=V(7771),Qc=V(3637),Kr=V(3342),Ga=V(9673),b_=V(9746);const ef=new l.GfV("7.2.0"),pd="__angularfire_symbol__analyticsIsSupported",Qo="__angularfire_symbol__remoteConfigIsSupported",Jo="__angularfire_symbol__messagingIsSupported";function So(O,S,F){if(S){if(1===S.length)return S[0];const he=S.filter(we=>we.app===F);if(1===he.length)return he[0]}return F.container.getProvider(O).getImmediate({optional:!0})}globalThis[pd]||(globalThis[pd]=pi().then(O=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=O)),globalThis[Jo]||(globalThis[Jo]=$h().then(O=>globalThis.__angularfire_symbol__messagingIsSupportedValue=O)),globalThis[Qo]||(globalThis[Qo]=Xu().then(O=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=O));const ql=(O,S)=>{const F=S?[S]:(0,ne.C6)(),z=[];return F.forEach(te=>{te.container.getProvider(O).instances.forEach(we=>{z.includes(we)||z.push(we)})}),z};function Ai(){}class Xo{constructor(S,F=Nv.N){this.zone=S,this.delegate=F}now(){return this.delegate.now()}schedule(S,F,z){const te=this.zone;return this.delegate.schedule(function(we){te.runGuarded(()=>{S.apply(this,[we])})},F,z)}}class nf{constructor(S){this.zone=S,this.task=null}call(S,F){const z=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ai,{},Ai,Ai)),F.pipe((0,Kr.b)({next:z,complete:z,error:z})).subscribe(S).add(z)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let gd=(()=>{class O{constructor(F){this.ngZone=F,this.outsideAngular=F.runOutsideAngular(()=>new Xo(Zone.current)),this.insideAngular=F.run(()=>new Xo(Zone.current,Qc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return O.\u0275fac=function(F){return new(F||O)(l.LFG(l.R0b))},O.\u0275prov=l.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();function Js(){const O=globalThis.\u0275AngularFireScheduler;if(!O)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return O}function Tn(O){return Js(),function(O){return function(F){return(F=F.lift(new nf(O.ngZone))).pipe((0,Ga.R)(O.outsideAngular),(0,b_.QV)(O.insideAngular))}}(Js())(O)}},3854:(qe,ye,V)=>{"use strict";V.d(ye,{BH:()=>ue,LL:()=>Je,ZR:()=>Bt,gQ:()=>De,zI:()=>gt,hu:()=>ne,g5:()=>B,US:()=>ee,tV:()=>Q,h$:()=>K,$s:()=>Qt,r3:()=>dn,Sg:()=>me,ne:()=>fr,p$:()=>U,vZ:()=>Ut,ZB:()=>H,gK:()=>rt,pd:()=>wo,m9:()=>Zu,z$:()=>Ne,GJ:()=>Co,jU:()=>se,ru:()=>Me,d:()=>Ue,xb:()=>wn,w1:()=>xt,hl:()=>Cn,uI:()=>Ee,UG:()=>de,Yr:()=>qt,b$:()=>ke,G6:()=>Ct,Mn:()=>Nt,w9:()=>hs,cI:()=>Ho,UI:()=>tr,xO:()=>Da,zd:()=>Zi,DV:()=>Ma,ug:()=>Wt,dS:()=>qr,Pz:()=>Ml,Dv:()=>$r,Wj:()=>It,lb:()=>St,eu:()=>wt});const ne=function(Y,G){if(!Y)throw B(G)},B=function(Y){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+Y)},ae=function(Y){const G=[];let X=0;for(let ve=0;ve<Y.length;ve++){let le=Y.charCodeAt(ve);le<128?G[X++]=le:le<2048?(G[X++]=le>>6|192,G[X++]=63&le|128):55296==(64512&le)&&ve+1<Y.length&&56320==(64512&Y.charCodeAt(ve+1))?(le=65536+((1023&le)<<10)+(1023&Y.charCodeAt(++ve)),G[X++]=le>>18|240,G[X++]=le>>12&63|128,G[X++]=le>>6&63|128,G[X++]=63&le|128):(G[X++]=le>>12|224,G[X++]=le>>6&63|128,G[X++]=63&le|128)}return G},ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Y,G){if(!Array.isArray(Y))throw Error("encodeByteArray takes an array as a parameter");this.init_();const X=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,ve=[];for(let le=0;le<Y.length;le+=3){const je=Y[le],yt=le+1<Y.length,Ht=yt?Y[le+1]:0,Fn=le+2<Y.length,kn=Fn?Y[le+2]:0;let Dr=(15&Ht)<<2|kn>>6,Hs=63&kn;Fn||(Hs=64,yt||(Dr=64)),ve.push(X[je>>2],X[(3&je)<<4|Ht>>4],X[Dr],X[Hs])}return ve.join("")},encodeString(Y,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(Y):this.encodeByteArray(ae(Y),G)},decodeString(Y,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(Y):function(Y){const G=[];let X=0,ve=0;for(;X<Y.length;){const le=Y[X++];if(le<128)G[ve++]=String.fromCharCode(le);else if(le>191&&le<224){const je=Y[X++];G[ve++]=String.fromCharCode((31&le)<<6|63&je)}else if(le>239&&le<365){const Fn=((7&le)<<18|(63&Y[X++])<<12|(63&Y[X++])<<6|63&Y[X++])-65536;G[ve++]=String.fromCharCode(55296+(Fn>>10)),G[ve++]=String.fromCharCode(56320+(1023&Fn))}else{const je=Y[X++],yt=Y[X++];G[ve++]=String.fromCharCode((15&le)<<12|(63&je)<<6|63&yt)}}return G.join("")}(this.decodeStringToByteArray(Y,G))},decodeStringToByteArray(Y,G){this.init_();const X=G?this.charToByteMapWebSafe_:this.charToByteMap_,ve=[];for(let le=0;le<Y.length;){const je=X[Y.charAt(le++)],Ht=le<Y.length?X[Y.charAt(le)]:0;++le;const kn=le<Y.length?X[Y.charAt(le)]:64;++le;const Lt=le<Y.length?X[Y.charAt(le)]:64;if(++le,null==je||null==Ht||null==kn||null==Lt)throw Error();ve.push(je<<2|Ht>>4),64!==kn&&(ve.push(Ht<<4&240|kn>>2),64!==Lt&&ve.push(kn<<6&192|Lt))}return ve},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Y=0;Y<this.ENCODED_VALS.length;Y++)this.byteToCharMap_[Y]=this.ENCODED_VALS.charAt(Y),this.charToByteMap_[this.byteToCharMap_[Y]]=Y,this.byteToCharMapWebSafe_[Y]=this.ENCODED_VALS_WEBSAFE.charAt(Y),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Y]]=Y,Y>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Y)]=Y,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Y)]=Y)}}},K=function(Y){const G=ae(Y);return ee.encodeByteArray(G,!0)},Z=function(Y){return K(Y).replace(/\./g,"")},Q=function(Y){try{return ee.decodeString(Y,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function U(Y){return H(void 0,Y)}function H(Y,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===Y&&(Y={});break;case Array:Y=[];break;default:return G}for(const X in G)!G.hasOwnProperty(X)||!$(X)||(Y[X]=H(Y[X],G[X]));return Y}function $(Y){return"__proto__"!==Y}class ue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,X)=>{this.resolve=G,this.reject=X})}wrapCallback(G){return(X,ve)=>{X?this.reject(X):this.resolve(ve),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(X):G(X,ve))}}}function me(Y,G){if(Y.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ve=G||"demo-project",le=Y.iat||0,je=Y.sub||Y.user_id;if(!je)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const yt=Object.assign({iss:`https://securetoken.google.com/${ve}`,aud:ve,iat:le,exp:le+3600,auth_time:le,sub:je,user_id:je,firebase:{sign_in_provider:"custom",identities:{}}},Y);return[Z(JSON.stringify({alg:"none",type:"JWT"})),Z(JSON.stringify(yt)),""].join(".")}function Ne(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ee(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())}function de(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Y){return!1}}function se(){return"object"==typeof self&&self.self===self}function Me(){const Y="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Y&&void 0!==Y.id}function ke(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ue(){return Ne().indexOf("Electron/")>=0}function xt(){const Y=Ne();return Y.indexOf("MSIE ")>=0||Y.indexOf("Trident/")>=0}function Nt(){return Ne().indexOf("MSAppHost/")>=0}function qt(){return!1}function Ct(){return!de()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Cn(){return"object"==typeof indexedDB}function wt(){return new Promise((Y,G)=>{try{let X=!0;const ve="validate-browser-context-for-indexeddb-analytics-module",le=self.indexedDB.open(ve);le.onsuccess=()=>{le.result.close(),X||self.indexedDB.deleteDatabase(ve),Y(!0)},le.onupgradeneeded=()=>{X=!1},le.onerror=()=>{var je;G((null===(je=le.error)||void 0===je?void 0:je.message)||"")}}catch(X){G(X)}})}function gt(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Bt extends Error{constructor(G,X,ve){super(X),this.code=G,this.customData=ve,this.name="FirebaseError",Object.setPrototypeOf(this,Bt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Je.prototype.create)}}class Je{constructor(G,X,ve){this.service=G,this.serviceName=X,this.errors=ve}create(G,...X){const ve=X[0]||{},le=`${this.service}/${G}`,je=this.errors[G],yt=je?function(Y,G){return Y.replace(ds,(X,ve)=>{const le=G[ve];return null!=le?String(le):`<${ve}?>`})}(je,ve):"Error";return new Bt(le,`${this.serviceName}: ${yt} (${le}).`,ve)}}const ds=/\{\$([^}]+)}/g;function Ho(Y){return JSON.parse(Y)}function Ml(Y){return JSON.stringify(Y)}const jt=function(Y){let G={},X={},ve={},le="";try{const je=Y.split(".");G=Ho(Q(je[0])||""),X=Ho(Q(je[1])||""),le=je[2],ve=X.d||{},delete X.d}catch(je){}return{header:G,claims:X,data:ve,signature:le}},hs=function(Y){const X=jt(Y).claims;return!!X&&"object"==typeof X&&X.hasOwnProperty("iat")},Co=function(Y){const G=jt(Y).claims;return"object"==typeof G&&!0===G.admin};function dn(Y,G){return Object.prototype.hasOwnProperty.call(Y,G)}function Ma(Y,G){if(Object.prototype.hasOwnProperty.call(Y,G))return Y[G]}function wn(Y){for(const G in Y)if(Object.prototype.hasOwnProperty.call(Y,G))return!1;return!0}function tr(Y,G,X){const ve={};for(const le in Y)Object.prototype.hasOwnProperty.call(Y,le)&&(ve[le]=G.call(X,Y[le],le,Y));return ve}function Ut(Y,G){if(Y===G)return!0;const X=Object.keys(Y),ve=Object.keys(G);for(const le of X){if(!ve.includes(le))return!1;const je=Y[le],yt=G[le];if(En(je)&&En(yt)){if(!Ut(je,yt))return!1}else if(je!==yt)return!1}for(const le of ve)if(!X.includes(le))return!1;return!0}function En(Y){return null!==Y&&"object"==typeof Y}function Da(Y){const G=[];for(const[X,ve]of Object.entries(Y))Array.isArray(ve)?ve.forEach(le=>{G.push(encodeURIComponent(X)+"="+encodeURIComponent(le))}):G.push(encodeURIComponent(X)+"="+encodeURIComponent(ve));return G.length?"&"+G.join("&"):""}function Zi(Y){const G={};return Y.replace(/^\?/,"").split("&").forEach(ve=>{if(ve){const[le,je]=ve.split("=");G[decodeURIComponent(le)]=decodeURIComponent(je)}}),G}function wo(Y){const G=Y.indexOf("?");if(!G)return"";const X=Y.indexOf("#",G);return Y.substring(G,X>0?X:void 0)}class De{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let G=1;G<this.blockSize;++G)this.pad_[G]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(G,X){X||(X=0);const ve=this.W_;if("string"==typeof G)for(let Lt=0;Lt<16;Lt++)ve[Lt]=G.charCodeAt(X)<<24|G.charCodeAt(X+1)<<16|G.charCodeAt(X+2)<<8|G.charCodeAt(X+3),X+=4;else for(let Lt=0;Lt<16;Lt++)ve[Lt]=G[X]<<24|G[X+1]<<16|G[X+2]<<8|G[X+3],X+=4;for(let Lt=16;Lt<80;Lt++){const Dr=ve[Lt-3]^ve[Lt-8]^ve[Lt-14]^ve[Lt-16];ve[Lt]=4294967295&(Dr<<1|Dr>>>31)}let kn,Fr,le=this.chain_[0],je=this.chain_[1],yt=this.chain_[2],Ht=this.chain_[3],Fn=this.chain_[4];for(let Lt=0;Lt<80;Lt++){Lt<40?Lt<20?(kn=Ht^je&(yt^Ht),Fr=1518500249):(kn=je^yt^Ht,Fr=1859775393):Lt<60?(kn=je&yt|Ht&(je|yt),Fr=2400959708):(kn=je^yt^Ht,Fr=3395469782);const Dr=(le<<5|le>>>27)+kn+Fn+Fr+ve[Lt]&4294967295;Fn=Ht,Ht=yt,yt=4294967295&(je<<30|je>>>2),je=le,le=Dr}this.chain_[0]=this.chain_[0]+le&4294967295,this.chain_[1]=this.chain_[1]+je&4294967295,this.chain_[2]=this.chain_[2]+yt&4294967295,this.chain_[3]=this.chain_[3]+Ht&4294967295,this.chain_[4]=this.chain_[4]+Fn&4294967295}update(G,X){if(null==G)return;void 0===X&&(X=G.length);const ve=X-this.blockSize;let le=0;const je=this.buf_;let yt=this.inbuf_;for(;le<X;){if(0===yt)for(;le<=ve;)this.compress_(G,le),le+=this.blockSize;if("string"==typeof G){for(;le<X;)if(je[yt]=G.charCodeAt(le),++yt,++le,yt===this.blockSize){this.compress_(je),yt=0;break}}else for(;le<X;)if(je[yt]=G[le],++yt,++le,yt===this.blockSize){this.compress_(je),yt=0;break}}this.inbuf_=yt,this.total_+=X}digest(){const G=[];let X=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let le=this.blockSize-1;le>=56;le--)this.buf_[le]=255&X,X/=256;this.compress_(this.buf_);let ve=0;for(let le=0;le<5;le++)for(let je=24;je>=0;je-=8)G[ve]=this.chain_[le]>>je&255,++ve;return G}}function fr(Y,G){const X=new Zn(Y,G);return X.subscribe.bind(X)}class Zn{constructor(G,X){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=X,this.task.then(()=>{G(this)}).catch(ve=>{this.error(ve)})}next(G){this.forEachObserver(X=>{X.next(G)})}error(G){this.forEachObserver(X=>{X.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,X,ve){let le;if(void 0===G&&void 0===X&&void 0===ve)throw new Error("Missing Observer.");le=function(Y,G){if("object"!=typeof Y||null===Y)return!1;for(const X of["next","error","complete"])if(X in Y&&"function"==typeof Y[X])return!0;return!1}(G)?G:{next:G,error:X,complete:ve},void 0===le.next&&(le.next=Yi),void 0===le.error&&(le.error=Yi),void 0===le.complete&&(le.complete=Yi);const je=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?le.error(this.finalError):le.complete()}catch(yt){}}),this.observers.push(le),je}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let X=0;X<this.observers.length;X++)this.sendOne(X,G)}sendOne(G,X){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{X(this.observers[G])}catch(ve){"undefined"!=typeof console&&console.error&&console.error(ve)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yi(){}const $r=function(Y,G,X,ve){let le;if(ve<G?le="at least "+G:ve>X&&(le=0===X?"none":"no more than "+X),le)throw new Error(Y+" failed: Was called with "+ve+(1===ve?" argument.":" arguments.")+" Expects "+le+".")};function rt(Y,G){return`${Y} failed: ${G} argument `}function It(Y,G,X,ve){if((!ve||X)&&"function"!=typeof X)throw new Error(rt(Y,G)+"must be a valid function.")}function St(Y,G,X,ve){if((!ve||X)&&("object"!=typeof X||null===X))throw new Error(rt(Y,G)+"must be a valid context object.")}const qr=function(Y){const G=[];let X=0;for(let ve=0;ve<Y.length;ve++){let le=Y.charCodeAt(ve);if(le>=55296&&le<=56319){const je=le-55296;ve++,ne(ve<Y.length,"Surrogate pair missing trail surrogate."),le=65536+(je<<10)+(Y.charCodeAt(ve)-56320)}le<128?G[X++]=le:le<2048?(G[X++]=le>>6|192,G[X++]=63&le|128):le<65536?(G[X++]=le>>12|224,G[X++]=le>>6&63|128,G[X++]=63&le|128):(G[X++]=le>>18|240,G[X++]=le>>12&63|128,G[X++]=le>>6&63|128,G[X++]=63&le|128)}return G},Wt=function(Y){let G=0;for(let X=0;X<Y.length;X++){const ve=Y.charCodeAt(X);ve<128?G++:ve<2048?G+=2:ve>=55296&&ve<=56319?(G+=4,X++):G+=3}return G};function Qt(Y,G=1e3,X=2){const ve=G*Math.pow(X,Y),le=Math.round(.5*ve*(Math.random()-.5)*2);return Math.min(144e5,ve+le)}function Zu(Y){return Y&&Y._delegate?Y._delegate:Y}},2329:(qe,ye,V)=>{"use strict";V.d(ye,{Mq:()=>l.getApp,C6:()=>l.getApps});var l=V(8026);(0,l.registerVersion)("firebase","9.5.0","app")},7841:(qe,ye,V)=>{"use strict";V.d(ye,{Z:()=>l.Z});var l=V(3394);l.Z.registerVersion("firebase","9.5.0","app-compat")},941:(qe,ye,V)=>{"use strict";V.r(ye);var l=V(8239),ne=V(3394),B=V(3854),ae=V(8026);function Z(b,g){var _={};for(var w in b)Object.prototype.hasOwnProperty.call(b,w)&&g.indexOf(w)<0&&(_[w]=b[w]);if(null!=b&&"function"==typeof Object.getOwnPropertySymbols){var I=0;for(w=Object.getOwnPropertySymbols(b);I<w.length;I++)g.indexOf(w[I])<0&&Object.prototype.propertyIsEnumerable.call(b,w[I])&&(_[w[I]]=b[w[I]])}return _}var Bt=V(5422),Je=V(3910);const hs=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Co=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},dn=new B.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),wn=new Bt.Yd("@firebase/auth");function tr(b,...g){wn.logLevel<=Bt.in.ERROR&&wn.error(`Auth (${ae.SDK_VERSION}): ${b}`,...g)}function Ut(b,...g){throw wo(b,...g)}function En(b,...g){return wo(b,...g)}function Da(b,g,_){const w=Object.assign(Object.assign({},Co()),{[g]:_});return new B.LL("auth","Firebase",w).create(g,{appName:b.name})}function Zi(b,g,_){if(!(g instanceof _))throw _.name!==g.constructor.name&&Ut(b,"argument-error"),Da(b,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wo(b,...g){if("string"!=typeof b){const _=g[0],w=[...g.slice(1)];return w[0]&&(w[0].appName=b.name),b._errorFactory.create(_,...w)}return dn.create(b,...g)}function De(b,g,..._){if(!b)throw wo(g,..._)}function fr(b){const g="INTERNAL ASSERTION FAILED: "+b;throw tr(g),new Error(g)}function Zn(b,g){b||fr(g)}const Ye=new Map;function Gt(b){Zn(b instanceof Function,"Expected a class definition");let g=Ye.get(b);return g?(Zn(g instanceof b,"Instance stored in cache mismatched with class"),g):(g=new b,Ye.set(b,g),g)}function rt(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function at(){return"http:"===It()||"https:"===It()}function It(){var b;return"undefined"!=typeof self&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Wt{constructor(g,_){this.shortDelay=g,this.longDelay=_,Zn(_>g,"Short delay should be less than long delay!"),this.isMobile=(0,B.uI)()||(0,B.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(at()||(0,B.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Re(b,g){Zn(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return g?`${_}${g.startsWith("/")?g.slice(1):g}`:_}class nt{static initialize(g,_,w){this.fetchImpl=g,_&&(this.headersImpl=_),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Wu={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},fs=new Wt(3e4,6e4);function Qt(b,g){return b.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:b.tenantId}):g}function _t(b,g,_,w){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,l.Z)(function*(b,g,_,w,I={}){return Zu(b,I,()=>{let A={},W={};w&&("GET"===g?W=w:A={body:JSON.stringify(w)});const ce=(0,B.xO)(Object.assign({key:b.config.apiKey},W)).slice(1),Pe=new(nt.headers());return Pe.set("Content-Type","application/json"),Pe.set("X-Client-Version",b._getSdkClientVersion()),b.languageCode&&Pe.set("X-Firebase-Locale",b.languageCode),nt.fetch()(ve(b,b.config.apiHost,_,ce),Object.assign({method:g,headers:Pe,referrerPolicy:"no-referrer"},A))})})).apply(this,arguments)}function Zu(b,g,_){return Y.apply(this,arguments)}function Y(){return(Y=(0,l.Z)(function*(b,g,_){b._canInitEmulator=!1;const w=Object.assign(Object.assign({},Wu),g);try{const I=new le(b),A=yield Promise.race([_(),I.promise]);I.clearNetworkTimeout();const W=yield A.json();if("needConfirmation"in W)throw je(b,"account-exists-with-different-credential",W);if(A.ok&&!("errorMessage"in W))return W;{const ce=A.ok?W.errorMessage:W.error.message,[Pe,Te]=ce.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Pe)throw je(b,"credential-already-in-use",W);if("EMAIL_EXISTS"===Pe)throw je(b,"email-already-in-use",W);const We=w[Pe]||Pe.toLowerCase().replace(/[_\s]+/g,"-");if(Te)throw Da(b,We,Te);Ut(b,We)}}catch(I){if(I instanceof B.ZR)throw I;Ut(b,"network-request-failed")}})).apply(this,arguments)}function G(b,g,_,w){return X.apply(this,arguments)}function X(){return(X=(0,l.Z)(function*(b,g,_,w,I={}){const A=yield _t(b,g,_,w,I);return"mfaPendingCredential"in A&&Ut(b,"multi-factor-auth-required",{_serverResponse:A}),A})).apply(this,arguments)}function ve(b,g,_,w){const I=`${g}${_}?${w}`;return b.config.emulator?Re(b.config,I):`${b.config.apiScheme}://${I}`}class le{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((_,w)=>{this.timer=setTimeout(()=>w(En(this.auth,"timeout")),fs.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function je(b,g,_){const w={appName:b.name};_.email&&(w.email=_.email),_.phoneNumber&&(w.phoneNumber=_.phoneNumber);const I=En(b,g,w);return I.customData._tokenResponse=_,I}function Ht(){return(Ht=(0,l.Z)(function*(b,g){return _t(b,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function Fn(b,g){return kn.apply(this,arguments)}function kn(){return(kn=(0,l.Z)(function*(b,g){return _t(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Fr(b,g){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,l.Z)(function*(b,g){return _t(b,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Dr(b){if(b)try{const g=new Date(Number(b));if(!isNaN(g.getTime()))return g.toUTCString()}catch(g){}}function js(){return(js=(0,l.Z)(function*(b,g=!1){const _=(0,B.m9)(b),w=yield _.getIdToken(g),I=zs(w);De(I&&I.exp&&I.auth_time&&I.iat,_.auth,"internal-error");const A="object"==typeof I.firebase?I.firebase:void 0,W=null==A?void 0:A.sign_in_provider;return{claims:I,token:w,authTime:Dr(Sc(I.auth_time)),issuedAtTime:Dr(Sc(I.iat)),expirationTime:Dr(Sc(I.exp)),signInProvider:W||null,signInSecondFactor:(null==A?void 0:A.sign_in_second_factor)||null}})).apply(this,arguments)}function Sc(b){return 1e3*Number(b)}function zs(b){const[g,_,w]=b.split(".");if(void 0===g||void 0===_||void 0===w)return tr("JWT malformed, contained fewer than 3 sections"),null;try{const I=(0,B.tV)(_);return I?JSON.parse(I):(tr("Failed to decode base64 JWT payload"),null)}catch(I){return tr("Caught error parsing JWT payload as JSON",I),null}}function Mi(b,g){return nr.apply(this,arguments)}function nr(){return(nr=(0,l.Z)(function*(b,g,_=!1){if(_)return g;try{return yield g}catch(w){throw w instanceof B.ZR&&li(w)&&b.auth.currentUser===b&&(yield b.auth.signOut()),w}})).apply(this,arguments)}function li({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class Ki{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var _;if(g){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const I=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,I)}}schedule(g=!1){var _=this;if(!this.isRunning)return;const w=this.getInterval(g);this.timerId=setTimeout((0,l.Z)(function*(){yield _.iteration()}),w)}iteration(){var g=this;return(0,l.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&g.schedule(!0))}g.schedule()})()}}class Di{constructor(g,_){this.createdAt=g,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=Dr(this.lastLoginAt),this.creationTime=Dr(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Gs(b){return kr.apply(this,arguments)}function kr(){return(kr=(0,l.Z)(function*(b){var g;const _=b.auth,w=yield b.getIdToken(),I=yield Mi(b,Fr(_,{idToken:w}));De(null==I?void 0:I.users.length,_,"internal-error");const A=I.users[0];b._notifyReloadListener(A);const W=(null===(g=A.providerUserInfo)||void 0===g?void 0:g.length)?Zr(A.providerUserInfo):[],ce=Jt(b.providerData,W),We=!!b.isAnonymous&&!(b.email&&A.passwordHash||(null==ce?void 0:ce.length)),Ke={uid:A.localId,displayName:A.displayName||null,photoURL:A.photoUrl||null,email:A.email||null,emailVerified:A.emailVerified||!1,phoneNumber:A.phoneNumber||null,tenantId:A.tenantId||null,providerData:ce,metadata:new Di(A.createdAt,A.lastLoginAt),isAnonymous:We};Object.assign(b,Ke)})).apply(this,arguments)}function Et(){return(Et=(0,l.Z)(function*(b){const g=(0,B.m9)(b);yield Gs(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function Jt(b,g){return[...b.filter(w=>!g.some(I=>I.providerId===w.providerId)),...g]}function Zr(b){return b.map(g=>{var{providerId:_}=g,w=Z(g,["providerId"]);return{providerId:_,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function Rn(){return(Rn=(0,l.Z)(function*(b,g){const _=yield Zu(b,{},()=>{const w=(0,B.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:I,apiKey:A}=b.config,W=ve(b,I,"/v1/token",`key=${A}`);return nt.fetch()(W,{method:"POST",headers:{"X-Client-Version":b._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:w})});return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class ci{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){De(g.idToken,"internal-error"),De(void 0!==g.idToken,"internal-error"),De(void 0!==g.refreshToken,"internal-error");const _="expiresIn"in g&&void 0!==g.expiresIn?Number(g.expiresIn):function(b){const g=zs(b);return De(g,"internal-error"),De(void 0!==g.exp,"internal-error"),De(void 0!==g.iat,"internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,_)}getToken(g,_=!1){var w=this;return(0,l.Z)(function*(){return De(!w.accessToken||w.refreshToken,g,"user-token-expired"),_||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(g,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,_){var w=this;return(0,l.Z)(function*(){const{accessToken:I,refreshToken:A,expiresIn:W}=yield function(b,g){return Rn.apply(this,arguments)}(g,_);w.updateTokensAndExpiration(I,A,Number(W))})()}updateTokensAndExpiration(g,_,w){this.refreshToken=_||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(g,_){const{refreshToken:w,accessToken:I,expirationTime:A}=_,W=new ci;return w&&(De("string"==typeof w,"internal-error",{appName:g}),W.refreshToken=w),I&&(De("string"==typeof I,"internal-error",{appName:g}),W.accessToken=I),A&&(De("number"==typeof A,"internal-error",{appName:g}),W.expirationTime=A),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new ci,this.toJSON())}_performRefresh(){return fr("not implemented")}}function Xt(b,g){De("string"==typeof b||void 0===b,"internal-error",{appName:g})}class ui{constructor(g){var{uid:_,auth:w,stsTokenManager:I}=g,A=Z(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Ki(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=w,this.stsTokenManager=I,this.accessToken=I.accessToken,this.displayName=A.displayName||null,this.email=A.email||null,this.emailVerified=A.emailVerified||!1,this.phoneNumber=A.phoneNumber||null,this.photoURL=A.photoURL||null,this.isAnonymous=A.isAnonymous||!1,this.tenantId=A.tenantId||null,this.metadata=new Di(A.createdAt||void 0,A.lastLoginAt||void 0)}getIdToken(g){var _=this;return(0,l.Z)(function*(){const w=yield Mi(_,_.stsTokenManager.getToken(_.auth,g));return De(w,_.auth,"internal-error"),_.accessToken!==w&&(_.accessToken=w,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),w})()}getIdTokenResult(g){return function(b){return js.apply(this,arguments)}(this,g)}reload(){return function(b){return Et.apply(this,arguments)}(this)}_assign(g){this!==g&&(De(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(_=>Object.assign({},_)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){return new ui(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(g){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,_=!1){var w=this;return(0,l.Z)(function*(){let I=!1;g.idToken&&g.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(g),I=!0),_&&(yield Gs(w)),yield w.auth._persistUserIfCurrent(w),I&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var g=this;return(0,l.Z)(function*(){const _=yield g.getIdToken();return yield Mi(g,function(b,g){return Ht.apply(this,arguments)}(g.auth,{idToken:_})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,_){var w,I,A,W,ce,Pe,Te,We;const Ke=null!==(w=_.displayName)&&void 0!==w?w:void 0,Dt=null!==(I=_.email)&&void 0!==I?I:void 0,Kn=null!==(A=_.phoneNumber)&&void 0!==A?A:void 0,aa=null!==(W=_.photoURL)&&void 0!==W?W:void 0,bf=null!==(ce=_.tenantId)&&void 0!==ce?ce:void 0,xd=null!==(Pe=_._redirectEventId)&&void 0!==Pe?Pe:void 0,z_=null!==(Te=_.createdAt)&&void 0!==Te?Te:void 0,G_=null!==(We=_.lastLoginAt)&&void 0!==We?We:void 0,{uid:Fd,emailVerified:$_,isAnonymous:q_,providerData:ug,stsTokenManager:kd}=_;De(Fd&&kd,g,"internal-error");const vf=ci.fromJSON(this.name,kd);De("string"==typeof Fd,g,"internal-error"),Xt(Ke,g.name),Xt(Dt,g.name),De("boolean"==typeof $_,g,"internal-error"),De("boolean"==typeof q_,g,"internal-error"),Xt(Kn,g.name),Xt(aa,g.name),Xt(bf,g.name),Xt(xd,g.name),Xt(z_,g.name),Xt(G_,g.name);const Cf=new ui({uid:Fd,auth:g,email:Dt,emailVerified:$_,displayName:Ke,isAnonymous:q_,photoURL:aa,phoneNumber:Kn,tenantId:bf,stsTokenManager:vf,createdAt:z_,lastLoginAt:G_});return ug&&Array.isArray(ug)&&(Cf.providerData=ug.map(Xa=>Object.assign({},Xa))),xd&&(Cf._redirectEventId=xd),Cf}static _fromIdTokenResponse(g,_,w=!1){return(0,l.Z)(function*(){const I=new ci;I.updateFromServerResponse(_);const A=new ui({uid:_.localId,auth:g,stsTokenManager:I,isAnonymous:w});return yield Gs(A),A})()}}const ct=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(_,w){var I=this;return(0,l.Z)(function*(){I.storage[_]=w})()}_get(_){var w=this;return(0,l.Z)(function*(){const I=w.storage[_];return void 0===I?null:I})()}_remove(_){var w=this;return(0,l.Z)(function*(){delete w.storage[_]})()}_addListener(_,w){}_removeListener(_,w){}}return b.type="NONE",b})();function Yr(b,g,_){return`firebase:${b}:${g}:${_}`}class Oi{constructor(g,_,w){this.persistence=g,this.auth=_,this.userKey=w;const{config:I,name:A}=this.auth;this.fullUserKey=Yr(this.userKey,I.apiKey,A),this.fullPersistenceKey=Yr("persistence",I.apiKey,A),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,l.Z)(function*(){const _=yield g.persistence._get(g.fullUserKey);return _?ui._fromJSON(g.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var _=this;return(0,l.Z)(function*(){if(_.persistence===g)return;const w=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=g,w?_.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,_,w="authUser"){return(0,l.Z)(function*(){if(!_.length)return new Oi(Gt(ct),g,w);const I=(yield Promise.all(_.map(function(){var Te=(0,l.Z)(function*(We){if(yield We._isAvailable())return We});return function(We){return Te.apply(this,arguments)}}()))).filter(Te=>Te);let A=I[0]||Gt(ct);const W=Yr(w,g.config.apiKey,g.name);let ce=null;for(const Te of _)try{const We=yield Te._get(W);if(We){const Ke=ui._fromJSON(g,We);Te!==A&&(ce=Ke),A=Te;break}}catch(We){}const Pe=I.filter(Te=>Te._shouldAllowMigration);return A._shouldAllowMigration&&Pe.length?(A=Pe[0],ce&&(yield A._set(W,ce.toJSON())),yield Promise.all(_.map(function(){var Te=(0,l.Z)(function*(We){if(We!==A)try{yield We._remove(W)}catch(Ke){}});return function(We){return Te.apply(this,arguments)}}())),new Oi(A,g,w)):new Oi(A,g,w)})()}}function pr(b){const g=b.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(ps(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(Ta(g))return"Firefox";if(g.includes("silk/"))return"Silk";if($t(g))return"Blackberry";if(Sh(g))return"Webos";if(gr(g))return"Safari";if((g.includes("chrome/")||Eo(g))&&!g.includes("edge/"))return"Chrome";if(Rr(g))return"Android";{const w=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function Ta(b=(0,B.z$)()){return/firefox\//i.test(b)}function gr(b=(0,B.z$)()){const g=b.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function Eo(b=(0,B.z$)()){return/crios\//i.test(b)}function ps(b=(0,B.z$)()){return/iemobile/i.test(b)}function Rr(b=(0,B.z$)()){return/android/i.test(b)}function $t(b=(0,B.z$)()){return/blackberry/i.test(b)}function Sh(b=(0,B.z$)()){return/webos/i.test(b)}function Ia(b=(0,B.z$)()){return/iphone|ipad|ipod/i.test(b)}function zo(b=(0,B.z$)()){return Ia(b)||Rr(b)||Sh(b)||$t(b)||/windows phone/i.test(b)||ps(b)}function rr(b,g=[]){let _;switch(b){case"Browser":_=pr((0,B.z$)());break;case"Worker":_=`${pr((0,B.z$)())}-${b}`;break;default:_=b}const w=g.length?g.join(","):"FirebaseCore-web";return`${_}/JsCore/${ae.SDK_VERSION}/${w}`}class Pp{constructor(g,_){this.app=g,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Or(this),this.idTokenSubscription=new Or(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(g,_){var w=this;return _&&(this._popupRedirectResolver=Gt(_)),this._initializationPromise=this.queue((0,l.Z)(function*(){var I,A;w._deleted||(w.persistenceManager=yield Oi.create(w,g),!w._deleted&&((null===(I=w._popupRedirectResolver)||void 0===I?void 0:I._shouldInitProactively)&&(yield w._popupRedirectResolver._initialize(w)),yield w.initializeCurrentUser(_),w.lastNotifiedUid=(null===(A=w.currentUser)||void 0===A?void 0:A.uid)||null,!w._deleted&&(w._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,l.Z)(function*(){if(g._deleted)return;const _=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||_){if(g.currentUser&&_&&g.currentUser.uid===_.uid)return g._currentUser._assign(_),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(_)}})()}initializeCurrentUser(g){var _=this;return(0,l.Z)(function*(){var w;let I=yield _.assertedPersistence.getCurrentUser();if(g&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const A=null===(w=_.redirectUser)||void 0===w?void 0:w._redirectEventId,W=null==I?void 0:I._redirectEventId,ce=yield _.tryRedirectSignIn(g);(!A||A===W)&&(null==ce?void 0:ce.user)&&(I=ce.user)}return I?I._redirectEventId?(De(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===I._redirectEventId?_.directlySetCurrentUser(I):_.reloadAndSetCurrentUserOrClear(I)):_.reloadAndSetCurrentUserOrClear(I):_.directlySetCurrentUser(null)})()}tryRedirectSignIn(g){var _=this;return(0,l.Z)(function*(){let w=null;try{w=yield _._popupRedirectResolver._completeRedirectFn(_,g,!0)}catch(I){yield _._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(g){var _=this;return(0,l.Z)(function*(){try{yield Gs(g)}catch(w){if("auth/network-request-failed"!==w.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var g=this;return(0,l.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var _=this;return(0,l.Z)(function*(){const w=g?(0,B.m9)(g):null;return w&&De(w.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(w&&w._clone(_))})()}_updateCurrentUser(g){var _=this;return(0,l.Z)(function*(){if(!_._deleted)return g&&De(_.tenantId===g.tenantId,_,"tenant-id-mismatch"),_.queue((0,l.Z)(function*(){yield _.directlySetCurrentUser(g),_.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,l.Z)(function*(){return(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null)})()}setPersistence(g){var _=this;return this.queue((0,l.Z)(function*(){yield _.assertedPersistence.setPersistence(Gt(g))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new B.LL("auth","Firebase",g())}onAuthStateChanged(g,_,w){return this.registerStateListener(this.authStateSubscription,g,_,w)}onIdTokenChanged(g,_,w){return this.registerStateListener(this.idTokenSubscription,g,_,w)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,_){var w=this;return(0,l.Z)(function*(){const I=yield w.getOrInitRedirectPersistenceManager(_);return null===g?I.removeCurrentUser():I.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var _=this;return(0,l.Z)(function*(){if(!_.redirectPersistenceManager){const w=g&&Gt(g)||_._popupRedirectResolver;De(w,_,"argument-error"),_.redirectPersistenceManager=yield Oi.create(_,[Gt(w._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(g){var _=this;return(0,l.Z)(function*(){var w,I;return _._isInitialized&&(yield _.queue((0,l.Z)(function*(){}))),(null===(w=_._currentUser)||void 0===w?void 0:w._redirectEventId)===g?_._currentUser:(null===(I=_.redirectUser)||void 0===I?void 0:I._redirectEventId)===g?_.redirectUser:null})()}_persistUserIfCurrent(g){var _=this;return(0,l.Z)(function*(){if(g===_.currentUser)return _.queue((0,l.Z)(function*(){return _.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(_=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,_,w,I){if(this._deleted)return()=>{};const A="function"==typeof _?_:_.next.bind(_),W=this._isInitialized?Promise.resolve():this._initializationPromise;return De(W,this,"internal-error"),W.then(()=>A(this.currentUser)),"function"==typeof _?g.addObserver(_,w,I):g.addObserver(_)}directlySetCurrentUser(g){var _=this;return(0,l.Z)(function*(){_.currentUser&&_.currentUser!==g&&(_._currentUser._stopProactiveRefresh(),g&&_.isProactiveRefreshEnabled&&g._startProactiveRefresh()),_.currentUser=g,g?yield _.assertedPersistence.setCurrentUser(g):yield _.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=rr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function pn(b){return(0,B.m9)(b)}class Or{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,B.ne)(_=>this.observer=_)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Pa(b){const g=b.indexOf(":");return g<0?"":b.substr(0,g+1)}function Qi(b){if(!b)return null;const g=Number(b);return isNaN(g)?null:g}class Dl{constructor(g,_){this.providerId=g,this.signInMethod=_}toJSON(){return fr("not implemented")}_getIdTokenResponse(g){return fr("not implemented")}_linkToIdToken(g,_){return fr("not implemented")}_getReauthenticationResolver(g){return fr("not implemented")}}function Ah(b,g){return Qu.apply(this,arguments)}function Qu(){return(Qu=(0,l.Z)(function*(b,g){return _t(b,"POST","/v1/accounts:resetPassword",Qt(b,g))})).apply(this,arguments)}function Ap(b,g){return xh.apply(this,arguments)}function xh(){return(xh=(0,l.Z)(function*(b,g){return _t(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function u_(b,g){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,l.Z)(function*(b,g){return _t(b,"POST","/v1/accounts:update",Qt(b,g))})).apply(this,arguments)}function Fh(){return(Fh=(0,l.Z)(function*(b,g){return G(b,"POST","/v1/accounts:signInWithPassword",Qt(b,g))})).apply(this,arguments)}function Ju(b,g){return kh.apply(this,arguments)}function kh(){return(kh=(0,l.Z)(function*(b,g){return _t(b,"POST","/v1/accounts:sendOobCode",Qt(b,g))})).apply(this,arguments)}function d_(b,g){return Rh.apply(this,arguments)}function Rh(){return(Rh=(0,l.Z)(function*(b,g){return Ju(b,g)})).apply(this,arguments)}function h_(b,g){return xp.apply(this,arguments)}function xp(){return(xp=(0,l.Z)(function*(b,g){return Ju(b,g)})).apply(this,arguments)}function Nh(b,g){return Xu.apply(this,arguments)}function Xu(){return(Xu=(0,l.Z)(function*(b,g){return Ju(b,g)})).apply(this,arguments)}function Ac(b,g){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,l.Z)(function*(b,g){return Ju(b,g)})).apply(this,arguments)}function Il(){return(Il=(0,l.Z)(function*(b,g){return G(b,"POST","/v1/accounts:signInWithEmailLink",Qt(b,g))})).apply(this,arguments)}function Do(){return(Do=(0,l.Z)(function*(b,g){return G(b,"POST","/v1/accounts:signInWithEmailLink",Qt(b,g))})).apply(this,arguments)}class Sl extends Dl{constructor(g,_,w,I=null){super("password",w),this._email=g,this._password=_,this._tenantId=I}static _fromEmailAndPassword(g,_){return new Sl(g,_,"password")}static _fromEmailAndCode(g,_,w=null){return new Sl(g,_,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(g){var _=this;return(0,l.Z)(function*(){switch(_.signInMethod){case"password":return function(b,g){return Fh.apply(this,arguments)}(g,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function(b,g){return Il.apply(this,arguments)}(g,{email:_._email,oobCode:_._password});default:Ut(g,"internal-error")}})()}_linkToIdToken(g,_){var w=this;return(0,l.Z)(function*(){switch(w.signInMethod){case"password":return Ap(g,{idToken:_,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function(b,g){return Do.apply(this,arguments)}(g,{idToken:_,email:w._email,oobCode:w._password});default:Ut(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function mr(b,g){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,l.Z)(function*(b,g){return G(b,"POST","/v1/accounts:signInWithIdp",Qt(b,g))})).apply(this,arguments)}class Lr extends Dl{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const _=new Lr(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(_.idToken=g.idToken),g.accessToken&&(_.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(_.nonce=g.nonce),g.pendingToken&&(_.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(_.accessToken=g.oauthToken,_.secret=g.oauthTokenSecret):Ut("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:I}=_,A=Z(_,["providerId","signInMethod"]);if(!w||!I)return null;const W=new Lr(w,I);return W.idToken=A.idToken||void 0,W.accessToken=A.accessToken||void 0,W.secret=A.secret,W.nonce=A.nonce,W.pendingToken=A.pendingToken||null,W}_getIdTokenResponse(g){return mr(g,this.buildRequest())}_linkToIdToken(g,_){const w=this.buildRequest();return w.idToken=_,mr(g,w)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,mr(g,_)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),g.postBody=(0,B.xO)(_)}return g}}function Oo(b,g){return xc.apply(this,arguments)}function xc(){return(xc=(0,l.Z)(function*(b,g){return _t(b,"POST","/v1/accounts:sendVerificationCode",Qt(b,g))})).apply(this,arguments)}function kc(){return(kc=(0,l.Z)(function*(b,g){return G(b,"POST","/v1/accounts:signInWithPhoneNumber",Qt(b,g))})).apply(this,arguments)}function di(){return(di=(0,l.Z)(function*(b,g){const _=yield G(b,"POST","/v1/accounts:signInWithPhoneNumber",Qt(b,g));if(_.temporaryProof)throw je(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Al={USER_NOT_FOUND:"user-not-found"};function xa(){return(xa=(0,l.Z)(function*(b,g){return G(b,"POST","/v1/accounts:signInWithPhoneNumber",Qt(b,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Al)})).apply(this,arguments)}class qs extends Dl{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,_){return new qs({verificationId:g,verificationCode:_})}static _fromTokenResponse(g,_){return new qs({phoneNumber:g,temporaryProof:_})}_getIdTokenResponse(g){return function(b,g){return kc.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,_){return function(b,g){return di.apply(this,arguments)}(g,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function(b,g){return xa.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:_,verificationId:w,verificationCode:I}=this.params;return g&&_?{temporaryProof:g,phoneNumber:_}:{sessionInfo:w,code:I}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:_,verificationCode:w,phoneNumber:I,temporaryProof:A}=g;return w||_||I||A?new qs({verificationId:_,verificationCode:w,phoneNumber:I,temporaryProof:A}):null}}class en{constructor(g){var _,w,I,A,W,ce;const Pe=(0,B.zd)((0,B.pd)(g)),Te=null!==(_=Pe.apiKey)&&void 0!==_?_:null,We=null!==(w=Pe.oobCode)&&void 0!==w?w:null,Ke=function(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(I=Pe.mode)&&void 0!==I?I:null);De(Te&&We&&Ke,"argument-error"),this.apiKey=Te,this.operation=Ke,this.code=We,this.continueUrl=null!==(A=Pe.continueUrl)&&void 0!==A?A:null,this.languageCode=null!==(W=Pe.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(ce=Pe.tenantId)&&void 0!==ce?ce:null}static parseLink(g){const _=function(b){const g=(0,B.zd)((0,B.pd)(b)).link,_=g?(0,B.zd)((0,B.pd)(g)).deep_link_id:null,w=(0,B.zd)((0,B.pd)(b)).deep_link_id;return(w?(0,B.zd)((0,B.pd)(w)).link:null)||w||_||g||b}(g);try{return new en(_)}catch(w){return null}}}let To=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,w){return Sl._fromEmailAndPassword(_,w)}static credentialWithLink(_,w){const I=en.parseLink(w);return De(I,"argument-error"),Sl._fromEmailAndCode(_,I.code,I.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class Xi{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Yt extends Xi{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class Fa extends Yt{static credentialFromJSON(g){const _="string"==typeof g?JSON.parse(g):g;return De("providerId"in _&&"signInMethod"in _,"argument-error"),Lr._fromParams(_)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return De(g.idToken||g.accessToken,"argument-error"),Lr._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return Fa.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return Fa.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:_,oauthAccessToken:w,oauthTokenSecret:I,pendingToken:A,nonce:W,providerId:ce}=g;if(!w&&!I&&!_&&!A||!ce)return null;try{return new Fa(ce)._credential({idToken:_,accessToken:w,nonce:W,pendingToken:A})}catch(Pe){return null}}}let Rc=(()=>{class b extends Yt{constructor(){super("facebook.com")}static credential(_){return Lr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch(w){return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Ws=(()=>{class b extends Yt{constructor(){super("google.com"),this.addScope("profile")}static credential(_,w){return Lr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:w})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:w,oauthAccessToken:I}=_;if(!w&&!I)return null;try{return b.credential(w,I)}catch(A){return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),hi=(()=>{class b extends Yt{constructor(){super("github.com")}static credential(_){return Lr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch(w){return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class ms extends Dl{constructor(g,_){super(g,g),this.pendingToken=_}_getIdTokenResponse(g){return mr(g,this.buildRequest())}_linkToIdToken(g,_){const w=this.buildRequest();return w.idToken=_,mr(g,w)}_getReauthenticationResolver(g){const _=this.buildRequest();return _.autoCreate=!1,mr(g,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const _="string"==typeof g?JSON.parse(g):g,{providerId:w,signInMethod:I,pendingToken:A}=_;return w&&I&&A&&w===I?new ms(w,A):null}static _create(g,_){return new ms(g,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Tr extends Xi{constructor(g){De(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return Tr.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return Tr.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const _=ms.fromJSON(g);return De(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:_,providerId:w}=g;if(!_||!w)return null;try{return ms._create(w,_)}catch(I){return null}}}let Nc=(()=>{class b extends Yt{constructor(){super("twitter.com")}static credential(_,w){return Lr._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:w})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:w,oauthTokenSecret:I}=_;if(!w||!I)return null;try{return b.credential(w,I)}catch(A){return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function Lc(b,g){return ys.apply(this,arguments)}function ys(){return(ys=(0,l.Z)(function*(b,g){return G(b,"POST","/v1/accounts:signUp",Qt(b,g))})).apply(this,arguments)}class Nn{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,_,w,I=!1){return(0,l.Z)(function*(){const A=yield ui._fromIdTokenResponse(g,w,I),W=xl(w);return new Nn({user:A,providerId:W,_tokenResponse:w,operationType:_})})()}static _forOperation(g,_,w){return(0,l.Z)(function*(){yield g._updateTokensIfNecessary(w,!0);const I=xl(w);return new Nn({user:g,providerId:I,_tokenResponse:w,operationType:_})})()}}function xl(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function lt(){return(lt=(0,l.Z)(function*(b){var g;const _=pn(b);if(yield _._initializationPromise,null===(g=_.currentUser)||void 0===g?void 0:g.isAnonymous)return new Nn({user:_.currentUser,providerId:null,operationType:"signIn"});const w=yield Lc(_,{returnSecureToken:!0}),I=yield Nn._fromIdTokenResponse(_,"signIn",w,!0);return yield _._updateCurrentUser(I.user),I})).apply(this,arguments)}class Vc extends B.ZR{constructor(g,_,w,I){var A;super(_.code,_.message),this.operationType=w,this.user=I,Object.setPrototypeOf(this,Vc.prototype),this.customData={appName:g.name,tenantId:null!==(A=g.tenantId)&&void 0!==A?A:void 0,_serverResponse:_.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(g,_,w,I){return new Vc(g,_,w,I)}}function Uh(b,g,_,w){return("reauthenticate"===g?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(A=>{throw"auth/multi-factor-auth-required"===A.code?Vc._fromErrorAndOperation(b,A,g,w):A})}function Bc(b){return new Set(b.map(({providerId:g})=>g).filter(g=>!!g))}function kl(){return(kl=(0,l.Z)(function*(b,g){const _=(0,B.m9)(b);yield Ce(!0,_,g);const{providerUserInfo:w}=yield Fn(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[g]}),I=Bc(w||[]);return _.providerData=_.providerData.filter(A=>I.has(A.providerId)),I.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function td(b,g){return Go.apply(this,arguments)}function Go(){return(Go=(0,l.Z)(function*(b,g,_=!1){const w=yield Mi(b,g._linkToIdToken(b.auth,yield b.getIdToken()),_);return Nn._forOperation(b,"link",w)})).apply(this,arguments)}function Ce(b,g,_){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,l.Z)(function*(b,g,_){yield Gs(g);const I=!1===b?"provider-already-linked":"no-such-provider";De(Bc(g.providerData).has(_)===b,g.auth,I)})).apply(this,arguments)}function Uc(b,g){return an.apply(this,arguments)}function an(){return(an=(0,l.Z)(function*(b,g,_=!1){const{auth:w}=b,I="reauthenticate";try{const A=yield Mi(b,Uh(w,I,g,b),_);De(A.idToken,w,"internal-error");const W=zs(A.idToken);De(W,w,"internal-error");const{sub:ce}=W;return De(b.uid===ce,w,"user-mismatch"),Nn._forOperation(b,I,A)}catch(A){throw"auth/user-not-found"===(null==A?void 0:A.code)&&Ut(w,"user-mismatch"),A}})).apply(this,arguments)}function Hc(b,g){return Io.apply(this,arguments)}function Io(){return(Io=(0,l.Z)(function*(b,g,_=!1){const w="signIn",I=yield Uh(b,w,g),A=yield Nn._fromIdTokenResponse(b,w,I);return _||(yield b._updateCurrentUser(A.user)),A})).apply(this,arguments)}function Vr(b,g){return ka.apply(this,arguments)}function ka(){return(ka=(0,l.Z)(function*(b,g){return Hc(pn(b),g)})).apply(this,arguments)}function Rl(b,g){return jh.apply(this,arguments)}function jh(){return(jh=(0,l.Z)(function*(b,g){const _=(0,B.m9)(b);return yield Ce(!1,_,g.providerId),td(_,g)})).apply(this,arguments)}function nd(b,g){return Ra.apply(this,arguments)}function Ra(){return(Ra=(0,l.Z)(function*(b,g){return Uc((0,B.m9)(b),g)})).apply(this,arguments)}function Na(b,g){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,l.Z)(function*(b,g){return G(b,"POST","/v1/accounts:signInWithCustomToken",Qt(b,g))})).apply(this,arguments)}function Nl(){return(Nl=(0,l.Z)(function*(b,g){const _=pn(b),w=yield Na(_,{token:g,returnSecureToken:!0}),I=yield Nn._fromIdTokenResponse(_,"signIn",w);return yield _._updateCurrentUser(I.user),I})).apply(this,arguments)}class Ii{constructor(g,_){this.factorId=g,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(g,_){return"phoneInfo"in _?Br._fromServerResponse(g,_):Ut(g,"internal-error")}}class Br extends Ii{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,_){return new Br(_)}}function rd(b,g,_){var w;De((null===(w=_.url)||void 0===w?void 0:w.length)>0,b,"invalid-continue-uri"),De(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),g.continueUrl=_.url,g.dynamicLinkDomain=_.dynamicLinkDomain,g.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(De(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),g.iOSBundleId=_.iOS.bundleId),_.android&&(De(_.android.packageName.length>0,b,"missing-android-pkg-name"),g.androidInstallApp=_.android.installApp,g.androidMinimumVersionCode=_.android.minimumVersion,g.androidPackageName=_.android.packageName)}function Ll(){return(Ll=(0,l.Z)(function*(b,g,_){const w=(0,B.m9)(b),I={requestType:"PASSWORD_RESET",email:g};_&&rd(w,I,_),yield h_(w,I)})).apply(this,arguments)}function Vl(){return(Vl=(0,l.Z)(function*(b,g,_){yield Ah((0,B.m9)(b),{oobCode:g,newPassword:_})})).apply(this,arguments)}function zc(){return(zc=(0,l.Z)(function*(b,g){yield u_((0,B.m9)(b),{oobCode:g})})).apply(this,arguments)}function La(b,g){return Va.apply(this,arguments)}function Va(){return(Va=(0,l.Z)(function*(b,g){const _=(0,B.m9)(b),w=yield Ah(_,{oobCode:g}),I=w.requestType;switch(De(I,_,"internal-error"),I){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":De(w.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":De(w.mfaInfo,_,"internal-error");default:De(w.email,_,"internal-error")}let A=null;return w.mfaInfo&&(A=Ii._fromServerResponse(pn(_),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:A},operation:I}})).apply(this,arguments)}function Zs(){return(Zs=(0,l.Z)(function*(b,g){const{data:_}=yield La((0,B.m9)(b),g);return _.email})).apply(this,arguments)}function sd(){return(sd=(0,l.Z)(function*(b,g,_){const w=pn(b),I=yield Lc(w,{returnSecureToken:!0,email:g,password:_}),A=yield Nn._fromIdTokenResponse(w,"signIn",I);return yield w._updateCurrentUser(A.user),A})).apply(this,arguments)}function $o(){return($o=(0,l.Z)(function*(b,g,_){const w=(0,B.m9)(b),I={requestType:"EMAIL_SIGNIN",email:g};De(_.handleCodeInApp,w,"argument-error"),_&&rd(w,I,_),yield Nh(w,I)})).apply(this,arguments)}function ir(){return(ir=(0,l.Z)(function*(b,g,_){const w=(0,B.m9)(b),I=To.credentialWithLink(g,_||rt());return De(I._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Vr(w,I)})).apply(this,arguments)}function Ba(b,g){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,l.Z)(function*(b,g){return _t(b,"POST","/v1/accounts:createAuthUri",Qt(b,g))})).apply(this,arguments)}function Rp(){return(Rp=(0,l.Z)(function*(b,g){const w={identifier:g,continueUri:at()?rt():"http://localhost"},{signinMethods:I}=yield Ba((0,B.m9)(b),w);return I||[]})).apply(this,arguments)}function Ua(){return(Ua=(0,l.Z)(function*(b,g){const _=(0,B.m9)(b),I={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};g&&rd(_.auth,I,g);const{email:A}=yield d_(_.auth,I);A!==b.email&&(yield b.reload())})).apply(this,arguments)}function qo(){return(qo=(0,l.Z)(function*(b,g,_){const w=(0,B.m9)(b),A={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:g};_&&rd(w.auth,A,_);const{email:W}=yield Ac(w.auth,A);W!==b.email&&(yield b.reload())})).apply(this,arguments)}function Gc(b,g){return bs.apply(this,arguments)}function bs(){return(bs=(0,l.Z)(function*(b,g){return _t(b,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function An(){return(An=(0,l.Z)(function*(b,{displayName:g,photoURL:_}){if(void 0===g&&void 0===_)return;const w=(0,B.m9)(b),A={idToken:yield w.getIdToken(),displayName:g,photoUrl:_,returnSecureToken:!0},W=yield Mi(w,Gc(w.auth,A));w.displayName=W.displayName||null,w.photoURL=W.photoUrl||null;const ce=w.providerData.find(({providerId:Pe})=>"password"===Pe);ce&&(ce.displayName=w.displayName,ce.photoURL=w.photoURL),yield w._updateTokensIfNecessary(W)})).apply(this,arguments)}function Wo(b,g,_){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,l.Z)(function*(b,g,_){const{auth:w}=b,A={idToken:yield b.getIdToken(),returnSecureToken:!0};g&&(A.email=g),_&&(A.password=_);const W=yield Mi(b,Ap(w,A));yield b._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class ja{constructor(g,_,w={}){this.isNewUser=g,this.providerId=_,this.profile=w}}class vs extends ja{constructor(g,_,w,I){super(g,_,w),this.username=I}}class ud extends ja{constructor(g,_){super(g,"facebook.com",_)}}class dd extends vs{constructor(g,_){super(g,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class g_ extends ja{constructor(g,_){super(g,"google.com",_)}}class m_ extends vs{constructor(g,_,w){super(g,"twitter.com",_,w)}}function eo(b){const{user:g,_tokenResponse:_}=b;return g.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function(b){var g,_;if(!b)return null;const{providerId:w}=b,I=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},A=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!w&&(null==b?void 0:b.idToken)){const W=null===(_=null===(g=zs(b.idToken))||void 0===g?void 0:g.firebase)||void 0===_?void 0:_.sign_in_provider;if(W)return new ja(A,"anonymous"!==W&&"custom"!==W?W:null)}if(!w)return null;switch(w){case"facebook.com":return new ud(A,I);case"github.com":return new dd(A,I);case"google.com":return new g_(A,I);case"twitter.com":return new m_(A,I,b.screenName||null);case"custom":case"anonymous":return new ja(A,null);default:return new ja(A,w,I)}}(_)}class fi{constructor(g,_){this.type=g,this.credential=_}static _fromIdtoken(g){return new fi("enroll",g)}static _fromMfaPendingCredential(g){return new fi("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var _,w;if(null==g?void 0:g.multiFactorSession){if(null===(_=g.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return fi._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null===(w=g.multiFactorSession)||void 0===w?void 0:w.idToken)return fi._fromIdtoken(g.multiFactorSession.idToken)}return null}}class Hl{constructor(g,_,w){this.session=g,this.hints=_,this.signInResolver=w}static _fromError(g,_){const w=pn(g),I=_.customData._serverResponse,A=(I.mfaInfo||[]).map(ce=>Ii._fromServerResponse(w,ce));De(I.mfaPendingCredential,w,"internal-error");const W=fi._fromMfaPendingCredential(I.mfaPendingCredential);return new Hl(W,A,function(){var ce=(0,l.Z)(function*(Pe){const Te=yield Pe._process(w,W);delete I.mfaInfo,delete I.mfaPendingCredential;const We=Object.assign(Object.assign({},I),{idToken:Te.idToken,refreshToken:Te.refreshToken});switch(_.operationType){case"signIn":const Ke=yield Nn._fromIdTokenResponse(w,_.operationType,We);return yield w._updateCurrentUser(Ke.user),Ke;case"reauthenticate":return De(_.user,w,"internal-error"),Nn._forOperation(_.user,_.operationType,We);default:Ut(w,"internal-error")}});return function(Pe){return ce.apply(this,arguments)}}())}resolveSignIn(g){var _=this;return(0,l.Z)(function*(){return _.signInResolver(g)})()}}function Rv(b,g){return _t(b,"POST","/v2/accounts/mfaEnrollment:start",Qt(b,g))}class Kh{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(w=>Ii._fromServerResponse(g.auth,w)))})}static _fromUser(g){return new Kh(g)}getSession(){var g=this;return(0,l.Z)(function*(){return fi._fromIdtoken(yield g.user.getIdToken())})()}enroll(g,_){var w=this;return(0,l.Z)(function*(){const I=g,A=yield w.getSession(),W=yield Mi(w.user,I._process(w.user.auth,A,_));return yield w.user._updateTokensIfNecessary(W),w.user.reload()})()}unenroll(g){var _=this;return(0,l.Z)(function*(){const w="string"==typeof g?g:g.uid,I=yield _.user.getIdToken(),A=yield Mi(_.user,function(b,g){return _t(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Qt(b,g))}(_.user.auth,{idToken:I,mfaEnrollmentId:w}));_.enrolledFactors=_.enrolledFactors.filter(({uid:W})=>W!==w),yield _.user._updateTokensIfNecessary(A);try{yield _.user.reload()}catch(W){if("auth/user-token-expired"!==W.code)throw W}})()}}const qc=new WeakMap,Ys="__sak";class hn{constructor(g,_){this.storageRetriever=g,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Ys,"1"),this.storage.removeItem(Ys),Promise.resolve(!0)):Promise.resolve(!1)}catch(g){return Promise.resolve(!1)}}_set(g,_){return this.storage.setItem(g,JSON.stringify(_)),Promise.resolve()}_get(g){const _=this.storage.getItem(g);return Promise.resolve(_?JSON.parse(_):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const Yo=(()=>{class b extends hn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,w)=>this.onStorageEvent(_,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const b=(0,B.z$)();return gr(b)||Ia(b)}()&&function(){try{return!(!window||window===window.top)}catch(b){return!1}}(),this.fallbackToPolling=zo(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const w of Object.keys(this.listeners)){const I=this.storage.getItem(w),A=this.localCache[w];I!==A&&_(w,A,I)}}onStorageEvent(_,w=!1){if(!_.key)return void this.forAllChangedKeys((ce,Pe,Te)=>{this.notifyListeners(ce,Te)});const I=_.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ce=this.storage.getItem(I);if(_.newValue!==ce)null!==_.newValue?this.storage.setItem(I,_.newValue):this.storage.removeItem(I);else if(this.localCache[I]===_.newValue&&!w)return}const A=()=>{const ce=this.storage.getItem(I);!w&&this.localCache[I]===ce||this.notifyListeners(I,ce)},W=this.storage.getItem(I);(0,B.w1)()&&10===document.documentMode&&W!==_.newValue&&_.newValue!==_.oldValue?setTimeout(A,10):A()}notifyListeners(_,w){this.localCache[_]=w;const I=this.listeners[_];if(I)for(const A of Array.from(I))A(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,w,I)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:w,newValue:I}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,w){var I=()=>super._set,A=this;return(0,l.Z)(function*(){yield I().call(A,_,w),A.localCache[_]=JSON.stringify(w)})()}_get(_){var w=()=>super._get,I=this;return(0,l.Z)(function*(){const A=yield w().call(I,_);return I.localCache[_]=JSON.stringify(A),A})()}_remove(_){var w=()=>super._remove,I=this;return(0,l.Z)(function*(){yield w().call(I,_),delete I.localCache[_]})()}}return b.type="LOCAL",b})(),tn=(()=>{class b extends hn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,w){}_removeListener(_,w){}}return b.type="SESSION",b})();let __=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const w=this.receivers.find(A=>A.isListeningto(_));if(w)return w;const I=new b(_);return this.receivers.push(I),I}isListeningto(_){return this.eventTarget===_}handleEvent(_){var w=this;return(0,l.Z)(function*(){const I=_,{eventId:A,eventType:W,data:ce}=I.data,Pe=w.handlersMap[W];if(!(null==Pe?void 0:Pe.size))return;I.ports[0].postMessage({status:"ack",eventId:A,eventType:W});const Te=Array.from(Pe).map(function(){var Ke=(0,l.Z)(function*(Dt){return Dt(I.origin,ce)});return function(Dt){return Ke.apply(this,arguments)}}()),We=yield function(b){return Promise.all(b.map(function(){var g=(0,l.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(w){return{fulfilled:!1,reason:w}}});return function(_){return g.apply(this,arguments)}}()))}(Te);I.ports[0].postMessage({status:"done",eventId:A,eventType:W,response:We})})()}_subscribe(_,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(w)}_unsubscribe(_,w){this.handlersMap[_]&&w&&this.handlersMap[_].delete(w),(!w||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function ws(b="",g=10){let _="";for(let w=0;w<g;w++)_+=Math.floor(10*Math.random());return b+_}class mn{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,_,w=50){var I=this;return(0,l.Z)(function*(){const A="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!A)throw new Error("connection_unavailable");let W,ce;return new Promise((Pe,Te)=>{const We=ws("",20);A.port1.start();const Ke=setTimeout(()=>{Te(new Error("unsupported_event"))},w);ce={messageChannel:A,onMessage(Dt){const Kn=Dt;if(Kn.data.eventId===We)switch(Kn.data.status){case"ack":clearTimeout(Ke),W=setTimeout(()=>{Te(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),Pe(Kn.data.response);break;default:clearTimeout(Ke),clearTimeout(W),Te(new Error("invalid_response"))}}},I.handlers.add(ce),A.port1.addEventListener("message",ce.onMessage),I.target.postMessage({eventType:g,eventId:We,data:_},[A.port2])}).finally(()=>{ce&&I.removeMessageHandler(ce)})})()}}function Vn(){return window}function Gl(){return void 0!==Vn().WorkerGlobalScope&&"function"==typeof Vn().importScripts}function Yc(){return(Yc=(0,l.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(b){return null}})).apply(this,arguments)}const Si="firebaseLocalStorageDb",to="firebaseLocalStorage",Ks="fbase_key";class Ur{constructor(g){this.request=g}toPromise(){return new Promise((g,_)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function pi(b,g){return b.transaction([to],g?"readwrite":"readonly").objectStore(to)}function $e(){const b=indexedDB.open(Si,1);return new Promise((g,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const w=b.result;try{w.createObjectStore(to,{keyPath:Ks})}catch(I){_(I)}}),b.addEventListener("success",(0,l.Z)(function*(){const w=b.result;w.objectStoreNames.contains(to)?g(w):(w.close(),yield function(){const b=indexedDB.deleteDatabase(Si);return new Ur(b).toPromise()}(),g(yield $e()))}))})}function Pi(b,g,_){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,l.Z)(function*(b,g,_){const w=pi(b,!0).put({[Ks]:g,value:_});return new Ur(w).toPromise()})).apply(this,arguments)}function _n(){return(_n=(0,l.Z)(function*(b,g){const _=pi(b,!1).get(g),w=yield new Ur(_).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function Xh(b,g){const _=pi(b,!0).delete(g);return new Ur(_).toPromise()}const Qc=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,l.Z)(function*(){return _.db||(_.db=yield $e()),_.db})()}_withRetries(_){var w=this;return(0,l.Z)(function*(){let I=0;for(;;)try{const A=yield w._openDb();return yield _(A)}catch(A){if(I++>3)throw A;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,l.Z)(function*(){return Gl()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,l.Z)(function*(){_.receiver=__._getInstance(Gl()?self:null),_.receiver._subscribe("keyChanged",function(){var w=(0,l.Z)(function*(I,A){return{keyProcessed:(yield _._poll()).includes(A.key)}});return function(I,A){return w.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var w=(0,l.Z)(function*(I,A){return["keyChanged"]});return function(I,A){return w.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,l.Z)(function*(){var w,I;if(_.activeServiceWorker=yield function(){return Yc.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new mn(_.activeServiceWorker);const A=yield _.sender._send("ping",{},800);!A||(null===(w=A[0])||void 0===w?void 0:w.fulfilled)&&(null===(I=A[0])||void 0===I?void 0:I.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var w=this;return(0,l.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function(){var b;return(null===(b=null==navigator?void 0:navigator.serviceWorker)||void 0===b?void 0:b.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:_},w.serviceWorkerReceiverAvailable?800:50)}catch(I){}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const _=yield $e();return yield Pi(_,Ys,"1"),yield Xh(_,Ys),!0}catch(_){}return!1})()}_withPendingWrite(_){var w=this;return(0,l.Z)(function*(){w.pendingWrites++;try{yield _()}finally{w.pendingWrites--}})()}_set(_,w){var I=this;return(0,l.Z)(function*(){return I._withPendingWrite((0,l.Z)(function*(){return yield I._withRetries(A=>Pi(A,_,w)),I.localCache[_]=w,I.notifyServiceWorker(_)}))})()}_get(_){var w=this;return(0,l.Z)(function*(){const I=yield w._withRetries(A=>function(b,g){return _n.apply(this,arguments)}(A,_));return w.localCache[_]=I,I})()}_remove(_){var w=this;return(0,l.Z)(function*(){return w._withPendingWrite((0,l.Z)(function*(){return yield w._withRetries(I=>Xh(I,_)),delete w.localCache[_],w.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,l.Z)(function*(){const w=yield _._withRetries(W=>{const ce=pi(W,!1).getAll();return new Ur(ce).toPromise()});if(!w)return[];if(0!==_.pendingWrites)return[];const I=[],A=new Set;for(const{fbase_key:W,value:ce}of w)A.add(W),JSON.stringify(_.localCache[W])!==JSON.stringify(ce)&&(_.notifyListeners(W,ce),I.push(W));for(const W of Object.keys(_.localCache))_.localCache[W]&&!A.has(W)&&(_.notifyListeners(W,null),I.push(W));return I})()}notifyListeners(_,w){this.localCache[_]=w;const I=this.listeners[_];if(I)for(const A of Array.from(I))A(w)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(w)}_removeListener(_,w){this.listeners[_]&&(this.listeners[_].delete(w),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function Kr(b,g){return _t(b,"POST","/v2/accounts/mfaSignIn:start",Qt(b,g))}function ef(){return(ef=(0,l.Z)(function*(b){return(yield _t(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function pd(b){return new Promise((g,_)=>{const w=document.createElement("script");w.setAttribute("src",b),w.onload=g,w.onerror=I=>{const A=En("internal-error");A.customData=I,_(A)},w.type="text/javascript",w.charset="UTF-8",function(){var b,g;return null!==(g=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==g?g:document}().appendChild(w)})}function Qs(b){return`__${b}${Math.floor(1e6*Math.random())}`}const Jo=1e12;class Un{constructor(g){this.auth=g,this.counter=Jo,this._widgets=new Map}render(g,_){const w=this.counter;return this._widgets.set(w,new Jc(g,this.auth.name,_||{})),this.counter++,w}reset(g){var _;const w=g||Jo;null===(_=this._widgets.get(w))||void 0===_||_.delete(),this._widgets.delete(w)}getResponse(g){var _;return(null===(_=this._widgets.get(g||Jo))||void 0===_?void 0:_.getResponse())||""}execute(g){var _=this;return(0,l.Z)(function*(){var w;return null===(w=_._widgets.get(g||Jo))||void 0===w||w.execute(),""})()}}class Jc{constructor(g,_,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const I="string"==typeof g?document.getElementById(g):g;De(I,"argument-error",{appName:_}),this.container=I,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(b){const g=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<50;w++)g.push(_.charAt(Math.floor(Math.random()*_.length)));return g.join("")}();const{callback:g,"expired-callback":_}=this.params;if(g)try{g(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const gi=Qs("rcb"),So=new Wt(3e4,6e4);class Ai{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Vn().grecaptcha}load(g,_=""){return De((b=_).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b),g,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Vn().grecaptcha):new Promise((w,I)=>{const A=Vn().setTimeout(()=>{I(En(g,"network-request-failed"))},So.get());Vn()[gi]=()=>{Vn().clearTimeout(A),delete Vn()[gi];const ce=Vn().grecaptcha;if(!ce)return void I(En(g,"internal-error"));const Pe=ce.render;ce.render=(Te,We)=>{const Ke=Pe(Te,We);return this.counter++,Ke},this.hostLanguage=_,w(ce)},pd(`https://www.google.com/recaptcha/api.js??${(0,B.xO)({onload:gi,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(A),I(En(g,"internal-error"))})});var b}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){return!!Vn().grecaptcha&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class nf{load(g){return(0,l.Z)(function*(){return new Un(g)})()}clearedOneInstance(){}}const gd="recaptcha",Js={theme:"light",type:"image"};class v_{constructor(g,_=Object.assign({},Js),w){this.parameters=_,this.type=gd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=pn(w),this.isInvisible="invisible"===this.parameters.size,De("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const I="string"==typeof g?document.getElementById(g):g;De(I,this.auth,"argument-error"),this.container=I,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new nf:new Ai,this.validateStartingState()}verify(){var g=this;return(0,l.Z)(function*(){g.assertNotDestroyed();const _=yield g.render(),w=g.getAssertedRecaptcha();return w.getResponse(_)||new Promise(A=>{const W=ce=>{!ce||(g.tokenChangeListeners.delete(W),A(ce))};g.tokenChangeListeners.add(W),g.isInvisible&&w.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){De(!this.parameters.sitekey,this.auth,"argument-error"),De(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),De("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return _=>{if(this.tokenChangeListeners.forEach(w=>w(_)),"function"==typeof g)g(_);else if("string"==typeof g){const w=Vn()[g];"function"==typeof w&&w(_)}}}assertNotDestroyed(){De(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,l.Z)(function*(){if(yield g.init(),!g.widgetId){let _=g.container;if(!g.isInvisible){const w=document.createElement("div");_.appendChild(w),_=w}g.widgetId=g.getAssertedRecaptcha().render(_,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,l.Z)(function*(){De(at()&&!Gl(),g.auth,"internal-error"),yield function(){let b=null;return new Promise(g=>{"complete"!==document.readyState?(b=()=>g(),window.addEventListener("load",b)):g()}).catch(g=>{throw b&&window.removeEventListener("load",b),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const _=yield function(b){return ef.apply(this,arguments)}(g.auth);De(_,g.auth,"internal-error"),g.parameters.sitekey=_})()}getAssertedRecaptcha(){return De(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class md{constructor(g,_){this.verificationId=g,this.onConfirmation=_}confirm(g){const _=qs._fromVerification(this.verificationId,g);return this.onConfirmation(_)}}function Tn(){return(Tn=(0,l.Z)(function*(b,g,_){const w=pn(b),I=yield S(w,g,(0,B.m9)(_));return new md(I,A=>Vr(w,A))})).apply(this,arguments)}function yr(){return(yr=(0,l.Z)(function*(b,g,_){const w=(0,B.m9)(b);yield Ce(!1,w,"phone");const I=yield S(w.auth,g,(0,B.m9)(_));return new md(I,A=>Rl(w,A))})).apply(this,arguments)}function O(){return(O=(0,l.Z)(function*(b,g,_){const w=(0,B.m9)(b),I=yield S(w.auth,g,(0,B.m9)(_));return new md(I,A=>nd(w,A))})).apply(this,arguments)}function S(b,g,_){return F.apply(this,arguments)}function F(){return(F=(0,l.Z)(function*(b,g,_){var w;const I=yield _.verify();try{let A;if(De("string"==typeof I,b,"argument-error"),De(_.type===gd,b,"argument-error"),A="string"==typeof g?{phoneNumber:g}:g,"session"in A){const W=A.session;if("phoneNumber"in A)return De("enroll"===W.type,b,"internal-error"),(yield Rv(b,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:A.phoneNumber,recaptchaToken:I}})).phoneSessionInfo.sessionInfo;{De("signin"===W.type,b,"internal-error");const ce=(null===(w=A.multiFactorHint)||void 0===w?void 0:w.uid)||A.multiFactorUid;return De(ce,b,"missing-multi-factor-info"),(yield Kr(b,{mfaPendingCredential:W.credential,mfaEnrollmentId:ce,phoneSignInInfo:{recaptchaToken:I}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield Oo(b,{phoneNumber:A.phoneNumber,recaptchaToken:I});return W}}finally{_._reset()}})).apply(this,arguments)}function te(){return(te=(0,l.Z)(function*(b,g){yield td((0,B.m9)(b),g)})).apply(this,arguments)}let he=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=pn(_)}verifyPhoneNumber(_,w){return S(this.auth,_,(0,B.m9)(w))}static credential(_,w){return qs._fromVerification(_,w)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:w,temporaryProof:I}=_;return w&&I?qs._fromTokenResponse(w,I):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function we(b,g){return g?Gt(g):(De(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class He extends Dl{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return mr(g,this._buildIdpRequest())}_linkToIdToken(g,_){return mr(g,this._buildIdpRequest(_))}_getReauthenticationResolver(g){return mr(g,this._buildIdpRequest())}_buildIdpRequest(g){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(_.idToken=g),_}}function ze(b){return Hc(b.auth,new He(b),b.bypassAuthState)}function Ft(b){const{auth:g,user:_}=b;return De(_,g,"internal-error"),Uc(_,new He(b),b.bypassAuthState)}function nn(b){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,l.Z)(function*(b){const{auth:g,user:_}=b;return De(_,g,"internal-error"),td(_,new He(b),b.bypassAuthState)})).apply(this,arguments)}class Qr{constructor(g,_,w,I,A=!1){this.auth=g,this.resolver=w,this.user=I,this.bypassAuthState=A,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var g=this;return new Promise(function(){var _=(0,l.Z)(function*(w,I){g.pendingPromise={resolve:w,reject:I};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(A){g.reject(A)}});return function(w,I){return _.apply(this,arguments)}}())}onAuthEvent(g){var _=this;return(0,l.Z)(function*(){const{urlResponse:w,sessionId:I,postBody:A,tenantId:W,error:ce,type:Pe}=g;if(ce)return void _.reject(ce);const Te={auth:_.auth,requestUri:w,sessionId:I,tenantId:W||void 0,postBody:A||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(Pe)(Te))}catch(We){_.reject(We)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return ze;case"linkViaPopup":case"linkViaRedirect":return nn;case"reauthViaPopup":case"reauthViaRedirect":return Ft;default:Ut(this.auth,"internal-error")}}resolve(g){Zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Zn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sr=new Wt(2e3,1e4);function ea(){return(ea=(0,l.Z)(function*(b,g,_){const w=pn(b);Zi(b,g,Xi);const I=we(w,_);return new jp(w,"signInViaPopup",g,I).executeNotNull()})).apply(this,arguments)}function no(){return(no=(0,l.Z)(function*(b,g,_){const w=(0,B.m9)(b);Zi(w.auth,g,Xi);const I=we(w.auth,_);return new jp(w.auth,"reauthViaPopup",g,I,w).executeNotNull()})).apply(this,arguments)}function pt(){return(pt=(0,l.Z)(function*(b,g,_){const w=(0,B.m9)(b);Zi(w.auth,g,Xi);const I=we(w.auth,_);return new jp(w.auth,"linkViaPopup",g,I,w).executeNotNull()})).apply(this,arguments)}let jp=(()=>{class b extends Qr{constructor(_,w,I,A,W){super(_,w,A,W),this.provider=I,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,l.Z)(function*(){const w=yield _.execute();return De(w,_.auth,"internal-error"),w})()}onExecution(){var _=this;return(0,l.Z)(function*(){Zn(1===_.filter.length,"Popup operations only handle one event");const w=ws();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],w),_.authWindow.associatedEvent=w,_.resolver._originValidation(_.auth).catch(I=>{_.reject(I)}),_.resolver._isIframeWebStorageSupported(_.auth,I=>{I||_.reject(En(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(En(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var w,I;this.pollId=(null===(I=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===I?void 0:I.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(En(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,sr.get())};_()}}return b.currentPopupAction=null,b})();const tu=new Map;class zp extends Qr{constructor(g,_,w=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,w),this.eventId=null}execute(){var g=()=>super.execute,_=this;return(0,l.Z)(function*(){let w=tu.get(_.auth._key());if(!w){try{const A=(yield function(b,g){return Zl.apply(this,arguments)}(_.resolver,_.auth))?yield g().call(_):null;w=()=>Promise.resolve(A)}catch(I){w=()=>Promise.reject(I)}tu.set(_.auth._key(),w)}return _.bypassAuthState||tu.set(_.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(g){var _=()=>super.onAuthEvent,w=this;return(0,l.Z)(function*(){if("signInViaRedirect"===g.type)return _().call(w,g);if("unknown"!==g.type){if(g.eventId){const I=yield w.auth._redirectUserForId(g.eventId);if(I)return w.user=I,_().call(w,g);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Zl(){return(Zl=(0,l.Z)(function*(b,g){const _=qa(g),w=C_(b);if(!(yield w._isAvailable()))return!1;const I="true"===(yield w._get(_));return yield w._remove(_),I})).apply(this,arguments)}function Gp(b,g){return io.apply(this,arguments)}function io(){return(io=(0,l.Z)(function*(b,g){return C_(b)._set(qa(g),"true")})).apply(this,arguments)}function C_(b){return Gt(b._redirectPersistence)}function qa(b){return Yr("pendingRedirect",b.config.apiKey,b.name)}function br(){return(br=(0,l.Z)(function*(b,g,_){const w=pn(b);Zi(b,g,Xi);const I=we(w,_);return yield Gp(I,w),I._openRedirect(w,g,"signInViaRedirect")})).apply(this,arguments)}function nu(){return(nu=(0,l.Z)(function*(b,g,_){const w=(0,B.m9)(b);Zi(w.auth,g,Xi);const I=we(w.auth,_);yield Gp(I,w.auth);const A=yield Yl(w);return I._openRedirect(w.auth,g,"reauthViaRedirect",A)})).apply(this,arguments)}function sf(){return(sf=(0,l.Z)(function*(b,g,_){const w=(0,B.m9)(b);Zi(w.auth,g,Xi);const I=we(w.auth,_);yield Ce(!1,w,g.providerId),yield Gp(I,w.auth);const A=yield Yl(w);return I._openRedirect(w.auth,g,"linkViaRedirect",A)})).apply(this,arguments)}function ta(){return(ta=(0,l.Z)(function*(b,g){return yield pn(b)._initializationPromise,na(b,g,!1)})).apply(this,arguments)}function na(b,g){return ru.apply(this,arguments)}function ru(){return(ru=(0,l.Z)(function*(b,g,_=!1){const w=pn(b),I=we(w,g),W=yield new zp(w,I,_).execute();return W&&!_&&(delete W.user._redirectEventId,yield w._persistUserIfCurrent(W.user),yield w._setRedirectUser(null,g)),W})).apply(this,arguments)}function Yl(b){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,l.Z)(function*(b){const g=ws(`${b.uid}:::`);return b._redirectEventId=g,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),g})).apply(this,arguments)}class Bv{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let _=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(g,w)&&(_=!0,this.sendToConsumer(g,w),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return M_(b);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=g,_=!0)),_}sendToConsumer(g,_){var w;if(g.error&&!M_(g)){const I=(null===(w=g.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";_.onError(En(this.auth,I))}else _.onAuthEvent(g)}isEventForConsumer(g,_){const w=null===_.eventId||!!g.eventId&&g.eventId===_.eventId;return _.filter.includes(g.type)&&w}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Za(g))}saveEventToCache(g){this.cachedEventUids.add(Za(g)),this.lastProcessedEventTime=Date.now()}}function Za(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(g=>g).join("-")}function M_({type:b,error:g}){return"unknown"===b&&"auth/no-auth-event"===(null==g?void 0:g.code)}function iu(b){return bd.apply(this,arguments)}function bd(){return(bd=(0,l.Z)(function*(b,g={}){return _t(b,"GET","/v1/projects",g)})).apply(this,arguments)}const ra=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vd=/^https?/;function Cd(){return(Cd=(0,l.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:g}=yield iu(b);for(const _ of g)try{if(af(_))return}catch(w){}Ut(b,"unauthorized-domain")})).apply(this,arguments)}function af(b){const g=rt(),{protocol:_,hostname:w}=new URL(g);if(b.startsWith("chrome-extension://")){const W=new URL(b);return""===W.hostname&&""===w?"chrome-extension:"===_&&b.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===_&&W.hostname===w}if(!vd.test(_))return!1;if(ra.test(b))return w===b;const I=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+I+"|"+I+")$","i").test(w)}const wd=new Wt(3e4,6e4);function ou(){const b=Vn().___jsl;if(null==b?void 0:b.H)for(const g of Object.keys(b.H))if(b.H[g].r=b.H[g].r||[],b.H[g].L=b.H[g].L||[],b.H[g].r=[...b.H[g].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let su=null;function Kl(b){return su=su||function(b){return new Promise((g,_)=>{var w,I,A;function W(){ou(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{ou(),_(En(b,"network-request-failed"))},timeout:wd.get()})}if(null===(I=null===(w=Vn().gapi)||void 0===w?void 0:w.iframes)||void 0===I?void 0:I.Iframe)g(gapi.iframes.getContext());else{if(!(null===(A=Vn().gapi)||void 0===A?void 0:A.load)){const ce=Qs("iframefcb");return Vn()[ce]=()=>{gapi.load?W():_(En(b,"network-request-failed"))},pd(`https://apis.google.com/js/api.js?onload=${ce}`)}W()}}).catch(g=>{throw su=null,g})}(b),su}const Uv=new Wt(5e3,15e3),jv={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ia(b){const g=b.config;De(g.authDomain,b,"auth-domain-config-required");const _=g.emulator?Re(g,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,w={apiKey:g.apiKey,appName:b.name,v:ae.SDK_VERSION},I=zv.get(b.config.apiHost);I&&(w.eid=I);const A=b._getFrameworks();return A.length&&(w.fw=A.join(",")),`${_}?${(0,B.xO)(w).slice(1)}`}function cf(){return(cf=(0,l.Z)(function*(b){const g=yield Kl(b),_=Vn().gapi;return De(_,b,"internal-error"),g.open({where:document.body,url:ia(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jv,dontclear:!0},w=>new Promise(function(){var I=(0,l.Z)(function*(A,W){yield w.restyle({setHideOnLeave:!1});const ce=En(b,"network-request-failed"),Pe=Vn().setTimeout(()=>{W(ce)},Uv.get());function Te(){Vn().clearTimeout(Pe),A(w)}w.ping(Te).then(Te,()=>{W(ce)})});return function(A,W){return I.apply(this,arguments)}}()))})).apply(this,arguments)}const O_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class uf{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(g){}}}function S_(b,g,_,w,I,A){De(b.config.authDomain,b,"auth-domain-config-required"),De(b.config.apiKey,b,"invalid-api-key");const W={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:w,v:ae.SDK_VERSION,eventId:I};if(g instanceof Xi){g.setDefaultLanguage(b.languageCode),W.providerId=g.providerId||"",(0,B.xb)(g.getCustomParameters())||(W.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Pe,Te]of Object.entries(A||{}))W[Pe]=Te}if(g instanceof Yt){const Pe=g.getScopes().filter(Te=>""!==Te);Pe.length>0&&(W.scopes=Pe.join(","))}b.tenantId&&(W.tid=b.tenantId);const ce=W;for(const Pe of Object.keys(ce))void 0===ce[Pe]&&delete ce[Pe];return`${function({config:b}){return b.emulator?Re(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,B.xO)(ce).slice(1)}`}const Ya="webStorageSupport";class cu extends class{constructor(g){this.factorId=g}_process(g,_,w){switch(_.type){case"enroll":return this._finalizeEnroll(g,_.credential,w);case"signin":return this._finalizeSignIn(g,_.credential);default:return fr("unexpected MultiFactorSessionType")}}}{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new cu(g)}_finalizeEnroll(g,_,w){return function(b,g){return _t(b,"POST","/v2/accounts/mfaEnrollment:finalize",Qt(b,g))}(g,{idToken:_,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,_){return function(b,g){return _t(b,"POST","/v2/accounts/mfaSignIn:finalize",Qt(b,g))}(g,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let P_=(()=>{class b{constructor(){}static assertion(_){return cu._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var b,uu="@firebase/auth";class MM{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var _=this;return(0,l.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const _=this.auth.onIdTokenChanged(w=>{var I;g((null===(I=w)||void 0===I?void 0:I.stsTokenManager.accessToken)||null)});this.internalListeners.set(g,_),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const _=this.internalListeners.get(g);!_||(this.internalListeners.delete(g),_(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function oo(){return window}function Dd(){return(Dd=(0,l.Z)(function*(b,g,_){var w;const{BuildInfo:I}=oo();Zn(g.sessionId,"AuthEvent did not contain a session ID");const A=yield Id(g.sessionId),W={};return Ia()?W.ibi=I.packageName:Rr()?W.apn=I.packageName:Ut(b,"operation-not-supported-in-this-environment"),I.displayName&&(W.appDisplayName=I.displayName),W.sessionId=A,S_(b,_,g.type,void 0,null!==(w=g.eventId)&&void 0!==w?w:void 0,W)})).apply(this,arguments)}function Od(){return(Od=(0,l.Z)(function*(b){const{BuildInfo:g}=oo(),_={};Ia()?_.iosBundleId=g.packageName:Rr()?_.androidPackageName=g.packageName:Ut(b,"operation-not-supported-in-this-environment"),yield iu(b,_)})).apply(this,arguments)}function ff(){return(ff=(0,l.Z)(function*(b,g,_){const{cordova:w}=oo();let I=()=>{};try{yield new Promise((A,W)=>{let ce=null;function Pe(){var Ke;A();const Dt=null===(Ke=w.plugins.browsertab)||void 0===Ke?void 0:Ke.close;"function"==typeof Dt&&Dt(),"function"==typeof(null==_?void 0:_.close)&&_.close()}function Te(){ce||(ce=window.setTimeout(()=>{W(En(b,"redirect-cancelled-by-user"))},2e3))}function We(){"visible"===(null==document?void 0:document.visibilityState)&&Te()}g.addPassiveListener(Pe),document.addEventListener("resume",Te,!1),Rr()&&document.addEventListener("visibilitychange",We,!1),I=()=>{g.removePassiveListener(Pe),document.removeEventListener("resume",Te,!1),document.removeEventListener("visibilitychange",We,!1),ce&&window.clearTimeout(ce)}})}finally{I()}})).apply(this,arguments)}function Id(b){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,l.Z)(function*(b){const g=Qp(b),_=yield crypto.subtle.digest("SHA-256",g);return Array.from(new Uint8Array(_)).map(I=>I.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Qp(b){if(Zn(/[0-9a-zA-Z]+/.test(b),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(b);const g=new ArrayBuffer(b.length),_=new Uint8Array(g);for(let w=0;w<b.length;w++)_[w]=b.charCodeAt(w);return _}b="Browser",(0,ae._registerComponent)(new Je.wA("auth",(g,{options:_})=>{const w=g.getProvider("app").getImmediate(),{apiKey:I,authDomain:A}=w.options;return(W=>{De(I&&!I.includes(":"),"invalid-api-key",{appName:W.name}),De(!(null==A?void 0:A.includes(":")),"argument-error",{appName:W.name});const ce={apiKey:I,authDomain:A,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rr(b)},Pe=new Pp(W,ce);return function(b,g){const _=(null==g?void 0:g.persistence)||[],w=(Array.isArray(_)?_:[_]).map(Gt);(null==g?void 0:g.errorMap)&&b._updateErrorMap(g.errorMap),b._initializeWithPersistence(w,null==g?void 0:g.popupRedirectResolver)}(Pe,_),Pe})(w)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,_,w)=>{g.getProvider("auth-internal").initialize()})),(0,ae._registerComponent)(new Je.wA("auth-internal",g=>{const _=pn(g.getProvider("auth").getImmediate());return new MM(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ae.registerVersion)(uu,"0.19.3",void 0),(0,ae.registerVersion)(uu,"0.19.3","esm2017");class Jp extends Bv{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(g=>{this.resolveInialized=g})}addPassiveListener(g){this.passiveListeners.add(g)}removePassiveListener(g){this.passiveListeners.delete(g)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(g){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(g)),super.onEvent(g)}initialized(){var g=this;return(0,l.Z)(function*(){yield g.initPromise})()}}function eg(b){return pf.apply(this,arguments)}function pf(){return(pf=(0,l.Z)(function*(b){const g=yield Ms()._get(ng(b));return g&&(yield Ms()._remove(ng(b))),g})).apply(this,arguments)}function tg(){const b=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<20;_++){const w=Math.floor(Math.random()*g.length);b.push(g.charAt(w))}return b.join("")}function Ms(){return Gt(Yo)}function ng(b){return Yr("authEvent",b.config.apiKey,b.name)}function Ka(b){if(!(null==b?void 0:b.includes("?")))return{};const[g,..._]=b.split("?");return(0,B.zd)(_.join("?"))}function Jl(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:En("no-auth-event")}}function pu(){var b;return(null===(b=null==self?void 0:self.location)||void 0===b?void 0:b.protocol)||null}function og(b=(0,B.z$)()){return!("file:"!==pu()&&"ionic:"!==pu()||!b.toLowerCase().match(/iphone|ipad|ipod|android/))}function k_(){try{const b=self.localStorage,g=ws();if(b)return b.setItem(g,"1"),b.removeItem(g),!function(b=(0,B.z$)()){return(0,B.w1)()&&11===(null==document?void 0:document.documentMode)||function(b=(0,B.z$)()){return/Edge\/\d+/.test(b)}(b)}()||(0,B.hl)()}catch(b){return ag()&&(0,B.hl)()}return!1}function ag(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function mf(){return("http:"===pu()||"https:"===pu()||(0,B.ru)()||og())&&!((0,B.b$)()||(0,B.UG)())&&k_()&&!ag()}function Xl(){return og()&&"undefined"!=typeof document}function _f(){return(_f=(0,l.Z)(function*(){return!!Xl()&&new Promise(b=>{const g=setTimeout(()=>{b(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(g),b(!0)})})})).apply(this,arguments)}const Jr={LOCAL:"local",NONE:"none",SESSION:"session"},ec=De,Qa="persistence";function cg(b){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,l.Z)(function*(b){yield b._initializationPromise;const g=N_(),_=Yr(Qa,b.config.apiKey,b.name);(null==g?void 0:g.sessionStorage)&&g.sessionStorage.setItem(_,b._getPersistence())})).apply(this,arguments)}function N_(){return"undefined"!=typeof window?window:null}const Xv=De;class Ds{constructor(){this.browserResolver=Gt(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tn,this._completeRedirectFn=na}_openPopup(g,_,w,I){var A=this;return(0,l.Z)(function*(){var W;Zn(null===(W=A.eventManagers[g._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const ce=S_(g,_,w,rt(),I);return function(b,g,_,w=500,I=600){const A=Math.max((window.screen.availHeight-I)/2,0).toString(),W=Math.max((window.screen.availWidth-w)/2,0).toString();let ce="";const Pe=Object.assign(Object.assign({},O_),{width:w.toString(),height:I.toString(),top:A,left:W}),Te=(0,B.z$)().toLowerCase();_&&(ce=Eo(Te)?"_blank":_),Ta(Te)&&(g=g||"http://localhost",Pe.scrollbars="yes");const We=Object.entries(Pe).reduce((Dt,[Kn,aa])=>`${Dt}${Kn}=${aa},`,"");if(function(b=(0,B.z$)()){var g;return Ia(b)&&!!(null===(g=window.navigator)||void 0===g?void 0:g.standalone)}(Te)&&"_self"!==ce)return function(b,g){const _=document.createElement("a");_.href=b,_.target=g;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(w)}(g||"",ce),new uf(null);const Ke=window.open(g||"",ce,We);De(Ke,b,"popup-blocked");try{Ke.focus()}catch(Dt){}return new uf(Ke)}(g,ce,ws())})()}_openRedirect(g,_,w,I){var A=this;return(0,l.Z)(function*(){return yield A._originValidation(g),b=S_(g,_,w,rt(),I),Vn().location.href=b,new Promise(()=>{});var b})()}_initialize(g){const _=g._key();if(this.eventManagers[_]){const{manager:I,promise:A}=this.eventManagers[_];return I?Promise.resolve(I):(Zn(A,"If manager is not set, promise should be"),A)}const w=this.initAndGetManager(g);return this.eventManagers[_]={promise:w},w}initAndGetManager(g){var _=this;return(0,l.Z)(function*(){const w=yield function(b){return cf.apply(this,arguments)}(g),I=new Bv(g);return w.register("authEvent",A=>(De(null==A?void 0:A.authEvent,g,"invalid-auth-event"),{status:I.onEvent(A.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[g._key()]={manager:I},_.iframes[g._key()]=w,I})()}_isIframeWebStorageSupported(g,_){this.iframes[g._key()].send(Ya,{type:Ya},I=>{var A;const W=null===(A=null==I?void 0:I[0])||void 0===A?void 0:A[Ya];void 0!==W&&_(!!W),Ut(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function(b){return Cd.apply(this,arguments)}(g)),this.originValidationPromises[_]}get _shouldInitProactively(){return zo()||gr()||Ia()}}),this.cordovaResolver=Gt(class{constructor(){this._redirectPersistence=tn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=na}_initialize(g){var _=this;return(0,l.Z)(function*(){const w=g._key();let I=_.eventManagers.get(w);return I||(I=new Jp(g),_.eventManagers.set(w,I),_.attachCallbackListeners(g,I)),I})()}_openPopup(g){Ut(g,"operation-not-supported-in-this-environment")}_openRedirect(g,_,w,I){var A=this;return(0,l.Z)(function*(){!function(b){var g,_,w,I,A,W,ce,Pe,Te,We;const Ke=oo();De("function"==typeof(null===(g=null==Ke?void 0:Ke.universalLinks)||void 0===g?void 0:g.subscribe),b,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),De(void 0!==(null===(_=null==Ke?void 0:Ke.BuildInfo)||void 0===_?void 0:_.packageName),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),De("function"==typeof(null===(A=null===(I=null===(w=null==Ke?void 0:Ke.cordova)||void 0===w?void 0:w.plugins)||void 0===I?void 0:I.browsertab)||void 0===A?void 0:A.openUrl),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),De("function"==typeof(null===(Pe=null===(ce=null===(W=null==Ke?void 0:Ke.cordova)||void 0===W?void 0:W.plugins)||void 0===ce?void 0:ce.browsertab)||void 0===Pe?void 0:Pe.isAvailable),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),De("function"==typeof(null===(We=null===(Te=null==Ke?void 0:Ke.cordova)||void 0===Te?void 0:Te.InAppBrowser)||void 0===We?void 0:We.open),b,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(g);const W=yield A._initialize(g);yield W.initialized(),W.resetRedirect(),tu.clear(),yield A._originValidation(g);const ce=function(b,g,_=null){return{type:g,eventId:_,urlResponse:null,sessionId:tg(),postBody:null,tenantId:b.tenantId,error:En(b,"no-auth-event")}}(g,w,I);yield function(b,g){return Ms()._set(ng(b),g)}(g,ce);const Pe=yield function(b,g,_){return Dd.apply(this,arguments)}(g,ce,_),Te=yield function(b){const{cordova:g}=oo();return new Promise(_=>{g.plugins.browsertab.isAvailable(w=>{let I=null;w?g.plugins.browsertab.openUrl(b):I=g.InAppBrowser.open(b,function(b=(0,B.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}()?"_blank":"_system","location=yes"),_(I)})})}(Pe);return function(b,g,_){return ff.apply(this,arguments)}(g,W,Te)})()}_isIframeWebStorageSupported(g,_){throw new Error("Method not implemented.")}_originValidation(g){const _=g._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function(b){return Od.apply(this,arguments)}(g)),this.originValidationPromises[_]}attachCallbackListeners(g,_){const{universalLinks:w,handleOpenURL:I,BuildInfo:A}=oo(),W=setTimeout((0,l.Z)(function*(){yield eg(g),_.onEvent(Jl())}),500),ce=function(){var We=(0,l.Z)(function*(Ke){clearTimeout(W);const Dt=yield eg(g);let Kn=null;Dt&&(null==Ke?void 0:Ke.url)&&(Kn=function(b,g){var _,w;const I=function(b){const g=Ka(b),_=g.link?decodeURIComponent(g.link):void 0,w=Ka(_).link,I=g.deep_link_id?decodeURIComponent(g.deep_link_id):void 0;return Ka(I).link||I||w||_||b}(g);if(I.includes("/__/auth/callback")){const A=Ka(I),W=A.firebaseError?function(b){try{return JSON.parse(b)}catch(g){return null}}(decodeURIComponent(A.firebaseError)):null,ce=null===(w=null===(_=null==W?void 0:W.code)||void 0===_?void 0:_.split("auth/"))||void 0===w?void 0:w[1],Pe=ce?En(ce):null;return Pe?{type:b.type,eventId:b.eventId,tenantId:b.tenantId,error:Pe,urlResponse:null,sessionId:null,postBody:null}:{type:b.type,eventId:b.eventId,tenantId:b.tenantId,sessionId:b.sessionId,urlResponse:I,postBody:null}}return null}(Dt,Ke.url)),_.onEvent(Kn||Jl())});return function(Dt){return We.apply(this,arguments)}}();void 0!==w&&"function"==typeof w.subscribe&&w.subscribe(null,ce);const Pe=I,Te=`${A.packageName.toLowerCase()}://`;oo().handleOpenURL=function(){var We=(0,l.Z)(function*(Ke){if(Ke.toLowerCase().startsWith(Te)&&ce({url:Ke}),"function"==typeof Pe)try{Pe(Ke)}catch(Dt){console.error(Dt)}});return function(Ke){return We.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=tn,this._completeRedirectFn=na}_initialize(g){var _=this;return(0,l.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(g)})()}_openPopup(g,_,w,I){var A=this;return(0,l.Z)(function*(){return yield A.selectUnderlyingResolver(),A.assertedUnderlyingResolver._openPopup(g,_,w,I)})()}_openRedirect(g,_,w,I){var A=this;return(0,l.Z)(function*(){return yield A.selectUnderlyingResolver(),A.assertedUnderlyingResolver._openRedirect(g,_,w,I)})()}_isIframeWebStorageSupported(g,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(g,_)}_originValidation(g){return this.assertedUnderlyingResolver._originValidation(g)}get _shouldInitProactively(){return Xl()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Xv(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var g=this;return(0,l.Z)(function*(){if(g.underlyingResolver)return;const _=yield function(){return _f.apply(this,arguments)}();g.underlyingResolver=_?g.cordovaResolver:g.browserResolver})()}}function L_(b){return b.unwrap()}function _i(b){return B_(b)}function B_(b){const{_tokenResponse:g}=b instanceof B.ZR?b.customData:b;if(!g)return null;if(!(b instanceof B.ZR)&&"temporaryProof"in g&&"phoneNumber"in g)return he.credentialFromResult(b);const _=g.providerId;if(!_||"password"===_)return null;let w;switch(_){case"google.com":w=Ws;break;case"facebook.com":w=Rc;break;case"github.com":w=hi;break;case"twitter.com":w=Nc;break;default:const{oauthIdToken:I,oauthAccessToken:A,oauthTokenSecret:W,pendingToken:ce,nonce:Pe}=g;return A||W||I||ce?ce?_.startsWith("saml.")?ms._create(_,ce):Lr._fromParams({providerId:_,signInMethod:_,pendingToken:ce,idToken:I,accessToken:A}):new Fa(_).credential({idToken:I,accessToken:A,rawNonce:Pe}):null}return b instanceof B.ZR?w.credentialFromError(b):w.credentialFromResult(b)}function jr(b,g){return g.catch(_=>{throw _ instanceof B.ZR&&function(b,g){var _;const w=null===(_=g.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===g.code)g.resolver=new U_(b,function(b,g){var _;const w=(0,B.m9)(b),I=g;return De(g.customData.operationType,w,"argument-error"),De(null===(_=I.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,w,"argument-error"),Hl._fromError(w,I)}(b,g));else if(w){const I=B_(g),A=g;I&&(A.credential=I,A.tenantId=w.tenantId||void 0,A.email=w.email||void 0,A.phoneNumber=w.phoneNumber||void 0)}}(b,_),_}).then(_=>{const I=_.user;return{operationType:_.operationType,credential:_i(_),additionalUserInfo:eo(_),user:sa.getOrCreate(I)}})}function yf(b,g){return gu.apply(this,arguments)}function gu(){return(gu=(0,l.Z)(function*(b,g){const _=yield g;return{verificationId:_.verificationId,confirm:w=>jr(b,_.confirm(w))}})).apply(this,arguments)}class U_{constructor(g,_){this.resolver=_,this.auth=function(b){return b.wrapped()}(g)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(g){return jr(L_(this.auth),this.resolver.resolveSignIn(g))}}class sa{constructor(g){this._delegate=g,this.multiFactor=function(b){const g=(0,B.m9)(b);return qc.has(g)||qc.set(g,Kh._fromUser(g)),qc.get(g)}(g)}static getOrCreate(g){return sa.USER_MAP.has(g)||sa.USER_MAP.set(g,new sa(g)),sa.USER_MAP.get(g)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(g){return this._delegate.getIdTokenResult(g)}getIdToken(g){return this._delegate.getIdToken(g)}linkAndRetrieveDataWithCredential(g){return this.linkWithCredential(g)}linkWithCredential(g){var _=this;return(0,l.Z)(function*(){return jr(_.auth,Rl(_._delegate,g))})()}linkWithPhoneNumber(g,_){var w=this;return(0,l.Z)(function*(){return yf(w.auth,function(b,g,_){return yr.apply(this,arguments)}(w._delegate,g,_))})()}linkWithPopup(g){var _=this;return(0,l.Z)(function*(){return jr(_.auth,function(b,g,_){return pt.apply(this,arguments)}(_._delegate,g,Ds))})()}linkWithRedirect(g){var _=this;return(0,l.Z)(function*(){return yield cg(pn(_.auth)),function(b,g,_){return function(b,g,_){return sf.apply(this,arguments)}(b,g,_)}(_._delegate,g,Ds)})()}reauthenticateAndRetrieveDataWithCredential(g){return this.reauthenticateWithCredential(g)}reauthenticateWithCredential(g){var _=this;return(0,l.Z)(function*(){return jr(_.auth,nd(_._delegate,g))})()}reauthenticateWithPhoneNumber(g,_){return yf(this.auth,function(b,g,_){return O.apply(this,arguments)}(this._delegate,g,_))}reauthenticateWithPopup(g){return jr(this.auth,function(b,g,_){return no.apply(this,arguments)}(this._delegate,g,Ds))}reauthenticateWithRedirect(g){var _=this;return(0,l.Z)(function*(){return yield cg(pn(_.auth)),function(b,g,_){return function(b,g,_){return nu.apply(this,arguments)}(b,g,_)}(_._delegate,g,Ds)})()}sendEmailVerification(g){return function(b,g){return Ua.apply(this,arguments)}(this._delegate,g)}unlink(g){var _=this;return(0,l.Z)(function*(){return yield function(b,g){return kl.apply(this,arguments)}(_._delegate,g),_})()}updateEmail(g){return function(b,g){return Wo((0,B.m9)(b),g,null)}(this._delegate,g)}updatePassword(g){return function(b,g){return Wo((0,B.m9)(b),null,g)}(this._delegate,g)}updatePhoneNumber(g){return function(b,g){return te.apply(this,arguments)}(this._delegate,g)}updateProfile(g){return function(b,g){return An.apply(this,arguments)}(this._delegate,g)}verifyBeforeUpdateEmail(g,_){return function(b,g,_){return qo.apply(this,arguments)}(this._delegate,g,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}sa.USER_MAP=new WeakMap;const Os=De;let H_=(()=>{class b{constructor(_,w){if(this.app=_,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:I}=_.options;Os(I,"invalid-api-key",{appName:_.name});let A=[ct];if("undefined"!=typeof window){A=function(b,g){const _=N_();if(!(null==_?void 0:_.sessionStorage))return[];const w=Yr(Qa,b,g);switch(_.sessionStorage.getItem(w)){case Jr.NONE:return[ct];case Jr.LOCAL:return[Qc,tn];case Jr.SESSION:return[tn];default:return[]}}(I,_.name);for(const ce of[Qc,Yo,tn])A.includes(ce)||A.push(ce)}Os(I,"invalid-api-key",{appName:_.name});const W="undefined"!=typeof window?Ds:void 0;this._delegate=w.initialize({options:{persistence:A,popupRedirectResolver:W}}),this._delegate._updateErrorMap(hs),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?sa.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,w){!function(b,g,_){const w=pn(b);De(w._canInitEmulator,w,"emulator-config-failed"),De(/^https?:\/\//.test(g),w,"invalid-emulator-scheme");const I=!!(null==_?void 0:_.disableWarnings),A=Pa(g),{host:W,port:ce}=function(b){const g=Pa(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(g.length));if(!_)return{host:"",port:null};const w=_[2].split("@").pop()||"",I=/^(\[[^\]]+\])(:|$)/.exec(w);if(I){const A=I[1];return{host:A,port:Qi(w.substr(A.length+1))}}{const[A,W]=w.split(":");return{host:A,port:Qi(W)}}}(g);w.config.emulator={url:`${A}//${W}${null===ce?"":`:${ce}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:W,port:ce,protocol:A.replace(":",""),options:Object.freeze({disableWarnings:I})}),I||function(){function b(){const g=document.createElement("p"),_=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}(this._delegate,_,w)}applyActionCode(_){return function(b,g){return zc.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return La(this._delegate,_)}confirmPasswordReset(_,w){return function(b,g,_){return Vl.apply(this,arguments)}(this._delegate,_,w)}createUserWithEmailAndPassword(_,w){var I=this;return(0,l.Z)(function*(){return jr(I._delegate,function(b,g,_){return sd.apply(this,arguments)}(I._delegate,_,w))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function(b,g){return Rp.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function(b,g){const _=en.parseLink(g);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}(0,_)}getRedirectResult(){var _=this;return(0,l.Z)(function*(){Os(mf(),_._delegate,"operation-not-supported-in-this-environment");const w=yield function(b,g){return ta.apply(this,arguments)}(_._delegate,Ds);return w?jr(_._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function(b,g){pn(b)._logFramework(g)}(this._delegate,_)}onAuthStateChanged(_,w,I){const{next:A,error:W,complete:ce}=tc(_,w,I);return this._delegate.onAuthStateChanged(A,W,ce)}onIdTokenChanged(_,w,I){const{next:A,error:W,complete:ce}=tc(_,w,I);return this._delegate.onIdTokenChanged(A,W,ce)}sendSignInLinkToEmail(_,w){return function(b,g,_){return $o.apply(this,arguments)}(this._delegate,_,w)}sendPasswordResetEmail(_,w){return function(b,g,_){return Ll.apply(this,arguments)}(this._delegate,_,w||void 0)}setPersistence(_){var w=this;return(0,l.Z)(function*(){let I;switch(function(b,g){ec(Object.values(Jr).includes(g),b,"invalid-persistence-type"),(0,B.b$)()?ec(g!==Jr.SESSION,b,"unsupported-persistence-type"):(0,B.UG)()?ec(g===Jr.NONE,b,"unsupported-persistence-type"):ag()?ec(g===Jr.NONE||g===Jr.LOCAL&&(0,B.hl)(),b,"unsupported-persistence-type"):ec(g===Jr.NONE||k_(),b,"unsupported-persistence-type")}(w._delegate,_),_){case Jr.SESSION:I=tn;break;case Jr.LOCAL:I=(yield Gt(Qc)._isAvailable())?Qc:Yo;break;case Jr.NONE:I=ct;break;default:return Ut("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(I)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return jr(this._delegate,function(b){return lt.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return jr(this._delegate,Vr(this._delegate,_))}signInWithCustomToken(_){return jr(this._delegate,function(b,g){return Nl.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,w){return jr(this._delegate,function(b,g,_){return Vr((0,B.m9)(b),To.credential(g,_))}(this._delegate,_,w))}signInWithEmailLink(_,w){return jr(this._delegate,function(b,g,_){return ir.apply(this,arguments)}(this._delegate,_,w))}signInWithPhoneNumber(_,w){return yf(this._delegate,function(b,g,_){return Tn.apply(this,arguments)}(this._delegate,_,w))}signInWithPopup(_){var w=this;return(0,l.Z)(function*(){return Os(mf(),w._delegate,"operation-not-supported-in-this-environment"),jr(w._delegate,function(b,g,_){return ea.apply(this,arguments)}(w._delegate,_,Ds))})()}signInWithRedirect(_){var w=this;return(0,l.Z)(function*(){return Os(mf(),w._delegate,"operation-not-supported-in-this-environment"),yield cg(w._delegate),function(b,g,_){return function(b,g,_){return br.apply(this,arguments)}(b,g,_)}(w._delegate,_,Ds)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function(b,g){return Zs.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return b.Persistence=Jr,b})();function tc(b,g,_){let w=b;"function"!=typeof b&&({next:w,error:g,complete:_}=b);const I=w;return{next:W=>I(W&&sa.getOrCreate(W)),error:g,complete:_}}class Ao{constructor(){this.providerId="phone",this._delegate=new he(L_(ne.Z.auth()))}static credential(g,_){return he.credential(g,_)}verifyPhoneNumber(g,_){return this._delegate.verifyPhoneNumber(g,_)}unwrap(){return this._delegate}}Ao.PHONE_SIGN_IN_METHOD=he.PHONE_SIGN_IN_METHOD,Ao.PROVIDER_ID=he.PROVIDER_ID;const TM=De;class IM{constructor(g,_,w=ne.Z.app()){var I;TM(null===(I=w.options)||void 0===I?void 0:I.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new v_(g,_,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(b){b.INTERNAL.registerComponent(new Je.wA("auth-compat",g=>{const _=g.getProvider("app-compat").getImmediate(),w=g.getProvider("auth");return new H_(_,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:To,FacebookAuthProvider:Rc,GithubAuthProvider:hi,GoogleAuthProvider:Ws,OAuthProvider:Fa,SAMLAuthProvider:Tr,PhoneAuthProvider:Ao,PhoneMultiFactorGenerator:P_,RecaptchaVerifier:IM,TwitterAuthProvider:Nc,Auth:H_,AuthCredential:Dl,Error:B.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),b.registerVersion("@firebase/auth-compat","0.2.3")}(ne.Z)},6676:function(qe,ye){!function(V){"use strict";function l(de){return Array.prototype.slice.call(de)}function ne(de){return new Promise(function(se,Me){de.onsuccess=function(){se(de.result)},de.onerror=function(){Me(de.error)}})}function B(de,se,Me){var ke,Ue=new Promise(function(xt,Nt){ne(ke=de[se].apply(de,Me)).then(xt,Nt)});return Ue.request=ke,Ue}function ae(de,se,Me){var ke=B(de,se,Me);return ke.then(function(Ue){if(Ue)return new U(Ue,ke.request)})}function re(de,se,Me){Me.forEach(function(ke){Object.defineProperty(de.prototype,ke,{get:function(){return this[se][ke]},set:function(Ue){this[se][ke]=Ue}})})}function ee(de,se,Me,ke){ke.forEach(function(Ue){Ue in Me.prototype&&(de.prototype[Ue]=function(){return B(this[se],Ue,arguments)})})}function K(de,se,Me,ke){ke.forEach(function(Ue){Ue in Me.prototype&&(de.prototype[Ue]=function(){return this[se][Ue].apply(this[se],arguments)})})}function Z(de,se,Me,ke){ke.forEach(function(Ue){Ue in Me.prototype&&(de.prototype[Ue]=function(){return ae(this[se],Ue,arguments)})})}function Q(de){this._index=de}function U(de,se){this._cursor=de,this._request=se}function H(de){this._store=de}function $(de){this._tx=de,this.complete=new Promise(function(se,Me){de.oncomplete=function(){se()},de.onerror=function(){Me(de.error)},de.onabort=function(){Me(de.error)}})}function ue(de,se,Me){this._db=de,this.oldVersion=se,this.transaction=new $(Me)}function me(de){this._db=de}re(Q,"_index",["name","keyPath","multiEntry","unique"]),ee(Q,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),Z(Q,"_index",IDBIndex,["openCursor","openKeyCursor"]),re(U,"_cursor",["direction","key","primaryKey","value"]),ee(U,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(de){de in IDBCursor.prototype&&(U.prototype[de]=function(){var se=this,Me=arguments;return Promise.resolve().then(function(){return se._cursor[de].apply(se._cursor,Me),ne(se._request).then(function(ke){if(ke)return new U(ke,se._request)})})})}),H.prototype.createIndex=function(){return new Q(this._store.createIndex.apply(this._store,arguments))},H.prototype.index=function(){return new Q(this._store.index.apply(this._store,arguments))},re(H,"_store",["name","keyPath","indexNames","autoIncrement"]),ee(H,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),Z(H,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),K(H,"_store",IDBObjectStore,["deleteIndex"]),$.prototype.objectStore=function(){return new H(this._tx.objectStore.apply(this._tx,arguments))},re($,"_tx",["objectStoreNames","mode"]),K($,"_tx",IDBTransaction,["abort"]),ue.prototype.createObjectStore=function(){return new H(this._db.createObjectStore.apply(this._db,arguments))},re(ue,"_db",["name","version","objectStoreNames"]),K(ue,"_db",IDBDatabase,["deleteObjectStore","close"]),me.prototype.transaction=function(){return new $(this._db.transaction.apply(this._db,arguments))},re(me,"_db",["name","version","objectStoreNames"]),K(me,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(de){[H,Q].forEach(function(se){de in se.prototype&&(se.prototype[de.replace("open","iterate")]=function(){var Me=l(arguments),ke=Me[Me.length-1],Ue=this._store||this._index,xt=Ue[de].apply(Ue,Me.slice(0,-1));xt.onsuccess=function(){ke(xt.result)}})})}),[Q,H].forEach(function(de){de.prototype.getAll||(de.prototype.getAll=function(se,Me){var ke=this,Ue=[];return new Promise(function(xt){ke.iterateCursor(se,function(Nt){Nt?(Ue.push(Nt.value),void 0===Me||Ue.length!=Me?Nt.continue():xt(Ue)):xt(Ue)})})})}),V.openDb=function(de,se,Me){var ke=B(indexedDB,"open",[de,se]),Ue=ke.request;return Ue&&(Ue.onupgradeneeded=function(xt){Me&&Me(new ue(Ue.result,xt.oldVersion,Ue.transaction))}),ke.then(function(xt){return new me(xt)})},V.deleteDb=function(de){return B(indexedDB,"deleteDatabase",[de])},Object.defineProperty(V,"__esModule",{value:!0})}(ye)},3098:(qe,ye,V)=>{"use strict";V.d(ye,{P:()=>re});var l=V(9193),ne=V(5917),B=V(205);class re{constructor(K,Z,Q){this.kind=K,this.value=Z,this.error=Q,this.hasValue="N"===K}observe(K){switch(this.kind){case"N":return K.next&&K.next(this.value);case"E":return K.error&&K.error(this.error);case"C":return K.complete&&K.complete()}}do(K,Z,Q){switch(this.kind){case"N":return K&&K(this.value);case"E":return Z&&Z(this.error);case"C":return Q&&Q()}}accept(K,Z,Q){return K&&"function"==typeof K.next?this.observe(K):this.do(K,Z,Q)}toObservable(){switch(this.kind){case"N":return(0,ne.of)(this.value);case"E":return(0,B._)(this.error);case"C":return(0,l.c)()}throw new Error("unexpected notification kind value")}static createNext(K){return void 0!==K?new re("N",K):re.undefinedValueNotification}static createError(K){return new re("E",void 0,K)}static createComplete(){return re.completeNotification}}re.completeNotification=new re("C"),re.undefinedValueNotification=new re("N",void 0)},8891:(qe,ye,V)=>{"use strict";V.d(ye,{y:()=>Q});var l=V(7393),B=V(9181),ae=V(6490),ee=V(6554),K=V(4022),Z=V(2494);let Q=(()=>{class H{constructor(ue){this._isScalar=!1,ue&&(this._subscribe=ue)}lift(ue){const me=new H;return me.source=this,me.operator=ue,me}subscribe(ue,me,Ne){const{operator:Ee}=this,de=function(H,$,ue){if(H){if(H instanceof l.L)return H;if(H[B.b])return H[B.b]()}return H||$||ue?new l.L(H,$,ue):new l.L(ae.c)}(ue,me,Ne);if(de.add(Ee?Ee.call(de,this.source):this.source||Z.v.useDeprecatedSynchronousErrorHandling&&!de.syncErrorThrowable?this._subscribe(de):this._trySubscribe(de)),Z.v.useDeprecatedSynchronousErrorHandling&&de.syncErrorThrowable&&(de.syncErrorThrowable=!1,de.syncErrorThrown))throw de.syncErrorValue;return de}_trySubscribe(ue){try{return this._subscribe(ue)}catch(me){Z.v.useDeprecatedSynchronousErrorHandling&&(ue.syncErrorThrown=!0,ue.syncErrorValue=me),function(H){for(;H;){const{closed:$,destination:ue,isStopped:me}=H;if($||me)return!1;H=ue&&ue instanceof l.L?ue:null}return!0}(ue)?ue.error(me):console.warn(me)}}forEach(ue,me){return new(me=U(me))((Ne,Ee)=>{let de;de=this.subscribe(se=>{try{ue(se)}catch(Me){Ee(Me),de&&de.unsubscribe()}},Ee,Ne)})}_subscribe(ue){const{source:me}=this;return me&&me.subscribe(ue)}[ee.L](){return this}pipe(...ue){return 0===ue.length?this:(0,K.U)(ue)(this)}toPromise(ue){return new(ue=U(ue))((me,Ne)=>{let Ee;this.subscribe(de=>Ee=de,de=>Ne(de),()=>me(Ee))})}}return H.create=$=>new H($),H})();function U(H){if(H||(H=Z.v.Promise||Promise),!H)throw new Error("no Promise impl found");return H}},6490:(qe,ye,V)=>{"use strict";V.d(ye,{c:()=>B});var l=V(2494),ne=V(4449);const B={closed:!0,next(ae){},error(ae){if(l.v.useDeprecatedSynchronousErrorHandling)throw ae;(0,ne.z)(ae)},complete(){}}},9765:(qe,ye,V)=>{"use strict";V.d(ye,{Yc:()=>K,xQ:()=>Z});var l=V(8891),ne=V(7393),B=V(5319),ae=V(7971),re=V(8858),ee=V(9181);class K extends ne.L{constructor(H){super(H),this.destination=H}}let Z=(()=>{class U extends l.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ee.b](){return new K(this)}lift($){const ue=new Q(this,this);return ue.operator=$,ue}next($){if(this.closed)throw new ae.N;if(!this.isStopped){const{observers:ue}=this,me=ue.length,Ne=ue.slice();for(let Ee=0;Ee<me;Ee++)Ne[Ee].next($)}}error($){if(this.closed)throw new ae.N;this.hasError=!0,this.thrownError=$,this.isStopped=!0;const{observers:ue}=this,me=ue.length,Ne=ue.slice();for(let Ee=0;Ee<me;Ee++)Ne[Ee].error($);this.observers.length=0}complete(){if(this.closed)throw new ae.N;this.isStopped=!0;const{observers:$}=this,ue=$.length,me=$.slice();for(let Ne=0;Ne<ue;Ne++)me[Ne].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe($){if(this.closed)throw new ae.N;return super._trySubscribe($)}_subscribe($){if(this.closed)throw new ae.N;return this.hasError?($.error(this.thrownError),B.w.EMPTY):this.isStopped?($.complete(),B.w.EMPTY):(this.observers.push($),new re.W(this,$))}asObservable(){const $=new l.y;return $.source=this,$}}return U.create=(H,$)=>new Q(H,$),U})();class Q extends Z{constructor(H,$){super(),this.destination=H,this.source=$}next(H){const{destination:$}=this;$&&$.next&&$.next(H)}error(H){const{destination:$}=this;$&&$.error&&this.destination.error(H)}complete(){const{destination:H}=this;H&&H.complete&&this.destination.complete()}_subscribe(H){const{source:$}=this;return $?this.source.subscribe(H):B.w.EMPTY}}},8858:(qe,ye,V)=>{"use strict";V.d(ye,{W:()=>ne});var l=V(5319);class ne extends l.w{constructor(ae,re){super(),this.subject=ae,this.subscriber=re,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ae=this.subject,re=ae.observers;if(this.subject=null,!re||0===re.length||ae.isStopped||ae.closed)return;const ee=re.indexOf(this.subscriber);-1!==ee&&re.splice(ee,1)}}},7393:(qe,ye,V)=>{"use strict";V.d(ye,{L:()=>K});var l=V(9105),ne=V(6490),B=V(5319),ae=V(9181),re=V(2494),ee=V(4449);class K extends B.w{constructor(U,H,$){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ne.c;break;case 1:if(!U){this.destination=ne.c;break}if("object"==typeof U){U instanceof K?(this.syncErrorThrowable=U.syncErrorThrowable,this.destination=U,U.add(this)):(this.syncErrorThrowable=!0,this.destination=new Z(this,U));break}default:this.syncErrorThrowable=!0,this.destination=new Z(this,U,H,$)}}[ae.b](){return this}static create(U,H,$){const ue=new K(U,H,$);return ue.syncErrorThrowable=!1,ue}next(U){this.isStopped||this._next(U)}error(U){this.isStopped||(this.isStopped=!0,this._error(U))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(U){this.destination.next(U)}_error(U){this.destination.error(U),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:U}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=U,this}}class Z extends K{constructor(U,H,$,ue){super(),this._parentSubscriber=U;let me,Ne=this;(0,l.m)(H)?me=H:H&&(me=H.next,$=H.error,ue=H.complete,H!==ne.c&&(Ne=Object.create(H),(0,l.m)(Ne.unsubscribe)&&this.add(Ne.unsubscribe.bind(Ne)),Ne.unsubscribe=this.unsubscribe.bind(this))),this._context=Ne,this._next=me,this._error=$,this._complete=ue}next(U){if(!this.isStopped&&this._next){const{_parentSubscriber:H}=this;re.v.useDeprecatedSynchronousErrorHandling&&H.syncErrorThrowable?this.__tryOrSetError(H,this._next,U)&&this.unsubscribe():this.__tryOrUnsub(this._next,U)}}error(U){if(!this.isStopped){const{_parentSubscriber:H}=this,{useDeprecatedSynchronousErrorHandling:$}=re.v;if(this._error)$&&H.syncErrorThrowable?(this.__tryOrSetError(H,this._error,U),this.unsubscribe()):(this.__tryOrUnsub(this._error,U),this.unsubscribe());else if(H.syncErrorThrowable)$?(H.syncErrorValue=U,H.syncErrorThrown=!0):(0,ee.z)(U),this.unsubscribe();else{if(this.unsubscribe(),$)throw U;(0,ee.z)(U)}}}complete(){if(!this.isStopped){const{_parentSubscriber:U}=this;if(this._complete){const H=()=>this._complete.call(this._context);re.v.useDeprecatedSynchronousErrorHandling&&U.syncErrorThrowable?(this.__tryOrSetError(U,H),this.unsubscribe()):(this.__tryOrUnsub(H),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(U,H){try{U.call(this._context,H)}catch($){if(this.unsubscribe(),re.v.useDeprecatedSynchronousErrorHandling)throw $;(0,ee.z)($)}}__tryOrSetError(U,H,$){if(!re.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{H.call(this._context,$)}catch(ue){return re.v.useDeprecatedSynchronousErrorHandling?(U.syncErrorValue=ue,U.syncErrorThrown=!0,!0):((0,ee.z)(ue),!0)}return!1}_unsubscribe(){const{_parentSubscriber:U}=this;this._context=null,this._parentSubscriber=null,U.unsubscribe()}}},5319:(qe,ye,V)=>{"use strict";V.d(ye,{w:()=>ee});var l=V(9796),ne=V(1555),B=V(9105);const re=(()=>{function Z(Q){return Error.call(this),this.message=Q?`${Q.length} errors occurred during unsubscription:\n${Q.map((U,H)=>`${H+1}) ${U.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Q,this}return Z.prototype=Object.create(Error.prototype),Z})();class ee{constructor(Q){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Q&&(this._ctorUnsubscribe=!0,this._unsubscribe=Q)}unsubscribe(){let Q;if(this.closed)return;let{_parentOrParents:U,_ctorUnsubscribe:H,_unsubscribe:$,_subscriptions:ue}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,U instanceof ee)U.remove(this);else if(null!==U)for(let me=0;me<U.length;++me)U[me].remove(this);if((0,B.m)($)){H&&(this._unsubscribe=void 0);try{$.call(this)}catch(me){Q=me instanceof re?K(me.errors):[me]}}if((0,l.k)(ue)){let me=-1,Ne=ue.length;for(;++me<Ne;){const Ee=ue[me];if((0,ne.K)(Ee))try{Ee.unsubscribe()}catch(de){Q=Q||[],de instanceof re?Q=Q.concat(K(de.errors)):Q.push(de)}}}if(Q)throw new re(Q)}add(Q){let U=Q;if(!Q)return ee.EMPTY;switch(typeof Q){case"function":U=new ee(Q);case"object":if(U===this||U.closed||"function"!=typeof U.unsubscribe)return U;if(this.closed)return U.unsubscribe(),U;if(!(U instanceof ee)){const ue=U;U=new ee,U._subscriptions=[ue]}break;default:throw new Error("unrecognized teardown "+Q+" added to Subscription.")}let{_parentOrParents:H}=U;if(null===H)U._parentOrParents=this;else if(H instanceof ee){if(H===this)return U;U._parentOrParents=[H,this]}else{if(-1!==H.indexOf(this))return U;H.push(this)}const $=this._subscriptions;return null===$?this._subscriptions=[U]:$.push(U),U}remove(Q){const U=this._subscriptions;if(U){const H=U.indexOf(Q);-1!==H&&U.splice(H,1)}}}var Z;function K(Z){return Z.reduce((Q,U)=>Q.concat(U instanceof re?U.errors:U),[])}ee.EMPTY=((Z=new ee).closed=!0,Z)},2494:(qe,ye,V)=>{"use strict";V.d(ye,{v:()=>ne});let l=!1;const ne={Promise:void 0,set useDeprecatedSynchronousErrorHandling(B){if(B){const ae=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ae.stack)}else l&&console.log("RxJS: Back to a better error behavior. Thank you. <3");l=B},get useDeprecatedSynchronousErrorHandling(){return l}}},5345:(qe,ye,V)=>{"use strict";V.d(ye,{IY:()=>ae,Ds:()=>ee,ft:()=>Z});var l=V(7393),ne=V(8891),B=V(7444);class ae extends l.L{constructor(U){super(),this.parent=U}_next(U){this.parent.notifyNext(U)}_error(U){this.parent.notifyError(U),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ee extends l.L{notifyNext(U){this.destination.next(U)}notifyError(U){this.destination.error(U)}notifyComplete(){this.destination.complete()}}function Z(Q,U){if(U.closed)return;if(Q instanceof ne.y)return Q.subscribe(U);let H;try{H=(0,B.s)(Q)(U)}catch($){U.error($)}return H}},2441:(qe,ye,V)=>{"use strict";V.d(ye,{c:()=>re,N:()=>ee});var l=V(9765),ne=V(8891),B=V(5319),ae=V(1307);class re extends ne.y{constructor(H,$){super(),this.source=H,this.subjectFactory=$,this._refCount=0,this._isComplete=!1}_subscribe(H){return this.getSubject().subscribe(H)}getSubject(){const H=this._subject;return(!H||H.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let H=this._connection;return H||(this._isComplete=!1,H=this._connection=new B.w,H.add(this.source.subscribe(new K(this.getSubject(),this))),H.closed&&(this._connection=null,H=B.w.EMPTY)),H}refCount(){return(0,ae.x)()(this)}}const ee=(()=>{const U=re.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:U._subscribe},_isComplete:{value:U._isComplete,writable:!0},getSubject:{value:U.getSubject},connect:{value:U.connect},refCount:{value:U.refCount}}})();class K extends l.Yc{constructor(H,$){super(H),this.connectable=$}_error(H){this._unsubscribe(),super._error(H)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const H=this.connectable;if(H){this.connectable=null;const $=H._connection;H._refCount=0,H._subject=null,H._connection=null,$&&$.unsubscribe()}}}},9193:(qe,ye,V)=>{"use strict";V.d(ye,{E:()=>ne,c:()=>B});var l=V(8891);const ne=new l.y(re=>re.complete());function B(re){return re?function(re){return new l.y(ee=>re.schedule(()=>ee.complete()))}(re):ne}},4402:(qe,ye,V)=>{"use strict";V.d(ye,{D:()=>Ne});var l=V(8891),ne=V(7444),B=V(5319),ae=V(6554),K=V(4087),Z=V(377),H=V(4072),$=V(9489);function Ne(Ee,de){return de?function(Ee,de){if(null!=Ee){if(function(Ee){return Ee&&"function"==typeof Ee[ae.L]}(Ee))return function(Ee,de){return new l.y(se=>{const Me=new B.w;return Me.add(de.schedule(()=>{const ke=Ee[ae.L]();Me.add(ke.subscribe({next(Ue){Me.add(de.schedule(()=>se.next(Ue)))},error(Ue){Me.add(de.schedule(()=>se.error(Ue)))},complete(){Me.add(de.schedule(()=>se.complete()))}}))})),Me})}(Ee,de);if((0,H.t)(Ee))return function(Ee,de){return new l.y(se=>{const Me=new B.w;return Me.add(de.schedule(()=>Ee.then(ke=>{Me.add(de.schedule(()=>{se.next(ke),Me.add(de.schedule(()=>se.complete()))}))},ke=>{Me.add(de.schedule(()=>se.error(ke)))}))),Me})}(Ee,de);if((0,$.z)(Ee))return(0,K.r)(Ee,de);if(function(Ee){return Ee&&"function"==typeof Ee[Z.hZ]}(Ee)||"string"==typeof Ee)return function(Ee,de){if(!Ee)throw new Error("Iterable cannot be null");return new l.y(se=>{const Me=new B.w;let ke;return Me.add(()=>{ke&&"function"==typeof ke.return&&ke.return()}),Me.add(de.schedule(()=>{ke=Ee[Z.hZ](),Me.add(de.schedule(function(){if(se.closed)return;let Ue,xt;try{const Nt=ke.next();Ue=Nt.value,xt=Nt.done}catch(Nt){return void se.error(Nt)}xt?se.complete():(se.next(Ue),this.schedule())}))})),Me})}(Ee,de)}throw new TypeError((null!==Ee&&typeof Ee||Ee)+" is not observable")}(Ee,de):Ee instanceof l.y?Ee:new l.y((0,ne.s)(Ee))}},6693:(qe,ye,V)=>{"use strict";V.d(ye,{n:()=>ae});var l=V(8891),ne=V(5015),B=V(4087);function ae(re,ee){return ee?(0,B.r)(re,ee):new l.y((0,ne.V)(re))}},6682:(qe,ye,V)=>{"use strict";V.d(ye,{T:()=>re});var l=V(8891),ne=V(4869),B=V(3282),ae=V(6693);function re(...ee){let K=Number.POSITIVE_INFINITY,Z=null,Q=ee[ee.length-1];return(0,ne.K)(Q)?(Z=ee.pop(),ee.length>1&&"number"==typeof ee[ee.length-1]&&(K=ee.pop())):"number"==typeof Q&&(K=ee.pop()),null===Z&&1===ee.length&&ee[0]instanceof l.y?ee[0]:(0,B.J)(K)((0,ae.n)(ee,Z))}},5917:(qe,ye,V)=>{"use strict";V.d(ye,{of:()=>ae});var l=V(4869),ne=V(6693),B=V(4087);function ae(...re){let ee=re[re.length-1];return(0,l.K)(ee)?(re.pop(),(0,B.r)(re,ee)):(0,ne.n)(re)}},205:(qe,ye,V)=>{"use strict";V.d(ye,{_:()=>ne});var l=V(8891);function ne(ae,re){return new l.y(re?ee=>re.schedule(B,0,{error:ae,subscriber:ee}):ee=>ee.error(ae))}function B({error:ae,subscriber:re}){re.error(ae)}},8002:(qe,ye,V)=>{"use strict";V.d(ye,{U:()=>ne});var l=V(7393);function ne(re,ee){return function(Z){if("function"!=typeof re)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Z.lift(new B(re,ee))}}class B{constructor(ee,K){this.project=ee,this.thisArg=K}call(ee,K){return K.subscribe(new ae(ee,this.project,this.thisArg))}}class ae extends l.L{constructor(ee,K,Z){super(ee),this.project=K,this.count=0,this.thisArg=Z||this}_next(ee){let K;try{K=this.project.call(this.thisArg,ee,this.count++)}catch(Z){return void this.destination.error(Z)}this.destination.next(K)}}},3282:(qe,ye,V)=>{"use strict";V.d(ye,{J:()=>B});var l=V(9773),ne=V(4487);function B(ae=Number.POSITIVE_INFINITY){return(0,l.zg)(ne.y,ae)}},9773:(qe,ye,V)=>{"use strict";V.d(ye,{zg:()=>ae});var l=V(8002),ne=V(4402),B=V(5345);function ae(Z,Q,U=Number.POSITIVE_INFINITY){return"function"==typeof Q?H=>H.pipe(ae(($,ue)=>(0,ne.D)(Z($,ue)).pipe((0,l.U)((me,Ne)=>Q($,me,ue,Ne))),U)):("number"==typeof Q&&(U=Q),H=>H.lift(new re(Z,U)))}class re{constructor(Q,U=Number.POSITIVE_INFINITY){this.project=Q,this.concurrent=U}call(Q,U){return U.subscribe(new ee(Q,this.project,this.concurrent))}}class ee extends B.Ds{constructor(Q,U,H=Number.POSITIVE_INFINITY){super(Q),this.project=U,this.concurrent=H,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(Q){this.active<this.concurrent?this._tryNext(Q):this.buffer.push(Q)}_tryNext(Q){let U;const H=this.index++;try{U=this.project(Q,H)}catch($){return void this.destination.error($)}this.active++,this._innerSub(U)}_innerSub(Q){const U=new B.IY(this),H=this.destination;H.add(U);const $=(0,B.ft)(Q,U);$!==U&&H.add($)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(Q){this.destination.next(Q)}notifyComplete(){const Q=this.buffer;this.active--,Q.length>0?this._next(Q.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},9746:(qe,ye,V)=>{"use strict";V.d(ye,{QV:()=>B,ht:()=>re});var l=V(7393),ne=V(3098);function B(K,Z=0){return function(U){return U.lift(new ae(K,Z))}}class ae{constructor(Z,Q=0){this.scheduler=Z,this.delay=Q}call(Z,Q){return Q.subscribe(new re(Z,this.scheduler,this.delay))}}class re extends l.L{constructor(Z,Q,U=0){super(Z),this.scheduler=Q,this.delay=U}static dispatch(Z){const{notification:Q,destination:U}=Z;Q.observe(U),this.unsubscribe()}scheduleMessage(Z){this.destination.add(this.scheduler.schedule(re.dispatch,this.delay,new ee(Z,this.destination)))}_next(Z){this.scheduleMessage(ne.P.createNext(Z))}_error(Z){this.scheduleMessage(ne.P.createError(Z)),this.unsubscribe()}_complete(){this.scheduleMessage(ne.P.createComplete()),this.unsubscribe()}}class ee{constructor(Z,Q){this.notification=Z,this.destination=Q}}},1307:(qe,ye,V)=>{"use strict";V.d(ye,{x:()=>ne});var l=V(7393);function ne(){return function(ee){return ee.lift(new B(ee))}}class B{constructor(ee){this.connectable=ee}call(ee,K){const{connectable:Z}=this;Z._refCount++;const Q=new ae(ee,Z),U=K.subscribe(Q);return Q.closed||(Q.connection=Z.connect()),U}}class ae extends l.L{constructor(ee,K){super(ee),this.connectable=K}_unsubscribe(){const{connectable:ee}=this;if(!ee)return void(this.connection=null);this.connectable=null;const K=ee._refCount;if(K<=0)return void(this.connection=null);if(ee._refCount=K-1,K>1)return void(this.connection=null);const{connection:Z}=this,Q=ee._connection;this.connection=null,Q&&(!Z||Q===Z)&&Q.unsubscribe()}}},8819:(qe,ye,V)=>{"use strict";V.d(ye,{B:()=>K});var l=V(2441);var ae=V(1307),re=V(9765);function ee(){return new re.xQ}function K(){return Z=>(0,ae.x)()(function(Z,Q){return function(H){let $;$="function"==typeof Z?Z:function(){return Z};const ue=Object.create(H,l.N);return ue.source=H,ue.subjectFactory=$,ue}}(ee)(Z))}},9673:(qe,ye,V)=>{"use strict";V.d(ye,{R:()=>re});var l=V(8891),ne=V(4581),B=V(6561);class ae extends l.y{constructor(Z,Q=0,U=ne.e){super(),this.source=Z,this.delayTime=Q,this.scheduler=U,(!(0,B.k)(Q)||Q<0)&&(this.delayTime=0),(!U||"function"!=typeof U.schedule)&&(this.scheduler=ne.e)}static create(Z,Q=0,U=ne.e){return new ae(Z,Q,U)}static dispatch(Z){const{source:Q,subscriber:U}=Z;return this.add(Q.subscribe(U))}_subscribe(Z){return this.scheduler.schedule(ae.dispatch,this.delayTime,{source:this.source,subscriber:Z})}}function re(K,Z=0){return function(U){return U.lift(new ee(K,Z))}}class ee{constructor(Z,Q){this.scheduler=Z,this.delay=Q}call(Z,Q){return new ae(Q,this.delay,this.scheduler).subscribe(Z)}}},3342:(qe,ye,V)=>{"use strict";V.d(ye,{b:()=>ae});var l=V(7393);function ne(){}var B=V(9105);function ae(K,Z,Q){return function(H){return H.lift(new re(K,Z,Q))}}class re{constructor(Z,Q,U){this.nextOrObserver=Z,this.error=Q,this.complete=U}call(Z,Q){return Q.subscribe(new ee(Z,this.nextOrObserver,this.error,this.complete))}}class ee extends l.L{constructor(Z,Q,U,H){super(Z),this._tapNext=ne,this._tapError=ne,this._tapComplete=ne,this._tapError=U||ne,this._tapComplete=H||ne,(0,B.m)(Q)?(this._context=this,this._tapNext=Q):Q&&(this._context=Q,this._tapNext=Q.next||ne,this._tapError=Q.error||ne,this._tapComplete=Q.complete||ne)}_next(Z){try{this._tapNext.call(this._context,Z)}catch(Q){return void this.destination.error(Q)}this.destination.next(Z)}_error(Z){try{this._tapError.call(this._context,Z)}catch(Q){return void this.destination.error(Q)}this.destination.error(Z)}_complete(){try{this._tapComplete.call(this._context)}catch(Z){return void this.destination.error(Z)}return this.destination.complete()}}},4087:(qe,ye,V)=>{"use strict";V.d(ye,{r:()=>B});var l=V(8891),ne=V(5319);function B(ae,re){return new l.y(ee=>{const K=new ne.w;let Z=0;return K.add(re.schedule(function(){Z!==ae.length?(ee.next(ae[Z++]),ee.closed||K.add(this.schedule())):ee.complete()})),K})}},6465:(qe,ye,V)=>{"use strict";V.d(ye,{o:()=>B});var l=V(5319);class ne extends l.w{constructor(re,ee){super()}schedule(re,ee=0){return this}}class B extends ne{constructor(re,ee){super(re,ee),this.scheduler=re,this.work=ee,this.pending=!1}schedule(re,ee=0){if(this.closed)return this;this.state=re;const K=this.id,Z=this.scheduler;return null!=K&&(this.id=this.recycleAsyncId(Z,K,ee)),this.pending=!0,this.delay=ee,this.id=this.id||this.requestAsyncId(Z,this.id,ee),this}requestAsyncId(re,ee,K=0){return setInterval(re.flush.bind(re,this),K)}recycleAsyncId(re,ee,K=0){if(null!==K&&this.delay===K&&!1===this.pending)return ee;clearInterval(ee)}execute(re,ee){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const K=this._execute(re,ee);if(K)return K;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(re,ee){let Z,K=!1;try{this.work(re)}catch(Q){K=!0,Z=!!Q&&Q||new Error(Q)}if(K)return this.unsubscribe(),Z}_unsubscribe(){const re=this.id,ee=this.scheduler,K=ee.actions,Z=K.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Z&&K.splice(Z,1),null!=re&&(this.id=this.recycleAsyncId(ee,re,null)),this.delay=null}}},6102:(qe,ye,V)=>{"use strict";V.d(ye,{v:()=>ne});let l=(()=>{class B{constructor(re,ee=B.now){this.SchedulerAction=re,this.now=ee}schedule(re,ee=0,K){return new this.SchedulerAction(this,re).schedule(K,ee)}}return B.now=()=>Date.now(),B})();class ne extends l{constructor(ae,re=l.now){super(ae,()=>ne.delegate&&ne.delegate!==this?ne.delegate.now():re()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ae,re=0,ee){return ne.delegate&&ne.delegate!==this?ne.delegate.schedule(ae,re,ee):super.schedule(ae,re,ee)}flush(ae){const{actions:re}=this;if(this.active)return void re.push(ae);let ee;this.active=!0;do{if(ee=ae.execute(ae.state,ae.delay))break}while(ae=re.shift());if(this.active=!1,ee){for(;ae=re.shift();)ae.unsubscribe();throw ee}}}},4581:(qe,ye,V)=>{"use strict";V.d(ye,{e:()=>$,E:()=>H});let l=1;const ne=Promise.resolve(),B={};function ae(ue){return ue in B&&(delete B[ue],!0)}const re={setImmediate(ue){const me=l++;return B[me]=!0,ne.then(()=>ae(me)&&ue()),me},clearImmediate(ue){ae(ue)}};var K=V(6465),Q=V(6102);const H=new class extends Q.v{flush(me){this.active=!0,this.scheduled=void 0;const{actions:Ne}=this;let Ee,de=-1,se=Ne.length;me=me||Ne.shift();do{if(Ee=me.execute(me.state,me.delay))break}while(++de<se&&(me=Ne.shift()));if(this.active=!1,Ee){for(;++de<se&&(me=Ne.shift());)me.unsubscribe();throw Ee}}}(class extends K.o{constructor(me,Ne){super(me,Ne),this.scheduler=me,this.work=Ne}requestAsyncId(me,Ne,Ee=0){return null!==Ee&&Ee>0?super.requestAsyncId(me,Ne,Ee):(me.actions.push(this),me.scheduled||(me.scheduled=re.setImmediate(me.flush.bind(me,null))))}recycleAsyncId(me,Ne,Ee=0){if(null!==Ee&&Ee>0||null===Ee&&this.delay>0)return super.recycleAsyncId(me,Ne,Ee);0===me.actions.length&&(re.clearImmediate(Ne),me.scheduled=void 0)}}),$=H},3637:(qe,ye,V)=>{"use strict";V.d(ye,{z:()=>B,P:()=>ae});var l=V(6465);const B=new(V(6102).v)(l.o),ae=B},7771:(qe,ye,V)=>{"use strict";V.d(ye,{c:()=>ee,N:()=>re});var l=V(6465),B=V(6102);const re=new class extends B.v{}(class extends l.o{constructor(Z,Q){super(Z,Q),this.scheduler=Z,this.work=Q}schedule(Z,Q=0){return Q>0?super.schedule(Z,Q):(this.delay=Q,this.state=Z,this.scheduler.flush(this),this)}execute(Z,Q){return Q>0||this.closed?super.execute(Z,Q):this._execute(Z,Q)}requestAsyncId(Z,Q,U=0){return null!==U&&U>0||null===U&&this.delay>0?super.requestAsyncId(Z,Q,U):Z.flush(this)}}),ee=re},377:(qe,ye,V)=>{"use strict";V.d(ye,{hZ:()=>ne});const ne="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(qe,ye,V)=>{"use strict";V.d(ye,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(qe,ye,V)=>{"use strict";V.d(ye,{b:()=>l});const l="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(qe,ye,V)=>{"use strict";V.d(ye,{N:()=>ne});const ne=(()=>{function B(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return B.prototype=Object.create(Error.prototype),B})()},4449:(qe,ye,V)=>{"use strict";function l(ne){setTimeout(()=>{throw ne},0)}V.d(ye,{z:()=>l})},4487:(qe,ye,V)=>{"use strict";function l(ne){return ne}V.d(ye,{y:()=>l})},9796:(qe,ye,V)=>{"use strict";V.d(ye,{k:()=>l});const l=Array.isArray||(ne=>ne&&"number"==typeof ne.length)},9489:(qe,ye,V)=>{"use strict";V.d(ye,{z:()=>l});const l=ne=>ne&&"number"==typeof ne.length&&"function"!=typeof ne},9105:(qe,ye,V)=>{"use strict";function l(ne){return"function"==typeof ne}V.d(ye,{m:()=>l})},6561:(qe,ye,V)=>{"use strict";V.d(ye,{k:()=>ne});var l=V(9796);function ne(B){return!(0,l.k)(B)&&B-parseFloat(B)+1>=0}},1555:(qe,ye,V)=>{"use strict";function l(ne){return null!==ne&&"object"==typeof ne}V.d(ye,{K:()=>l})},4072:(qe,ye,V)=>{"use strict";function l(ne){return!!ne&&"function"!=typeof ne.subscribe&&"function"==typeof ne.then}V.d(ye,{t:()=>l})},4869:(qe,ye,V)=>{"use strict";function l(ne){return ne&&"function"==typeof ne.schedule}V.d(ye,{K:()=>l})},4022:(qe,ye,V)=>{"use strict";V.d(ye,{z:()=>ne,U:()=>B});var l=V(4487);function ne(...ae){return B(ae)}function B(ae){return 0===ae.length?l.y:1===ae.length?ae[0]:function(ee){return ae.reduce((K,Z)=>Z(K),ee)}}},7444:(qe,ye,V)=>{"use strict";V.d(ye,{s:()=>H});var l=V(5015),ne=V(4449),ae=V(377),ee=V(6554),Z=V(9489),Q=V(4072),U=V(1555);const H=$=>{if($&&"function"==typeof $[ee.L])return($=>ue=>{const me=$[ee.L]();if("function"!=typeof me.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return me.subscribe(ue)})($);if((0,Z.z)($))return(0,l.V)($);if((0,Q.t)($))return($=>ue=>($.then(me=>{ue.closed||(ue.next(me),ue.complete())},me=>ue.error(me)).then(null,ne.z),ue))($);if($&&"function"==typeof $[ae.hZ])return($=>ue=>{const me=$[ae.hZ]();for(;;){let Ne;try{Ne=me.next()}catch(Ee){return ue.error(Ee),ue}if(Ne.done){ue.complete();break}if(ue.next(Ne.value),ue.closed)break}return"function"==typeof me.return&&ue.add(()=>{me.return&&me.return()}),ue})($);{const me=`You provided ${(0,U.K)($)?"an invalid object":`'${$}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(me)}}},5015:(qe,ye,V)=>{"use strict";V.d(ye,{V:()=>l});const l=ne=>B=>{for(let ae=0,re=ne.length;ae<re&&!B.closed;ae++)B.next(ne[ae]);B.complete()}},8705:(qe,ye,V)=>{"use strict";var l=V(7716);let ne=null;function B(){return ne}const K=new l.OlP("DocumentToken");let Z=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,l.Yz7)({factory:Q,token:n,providedIn:"platform"}),n})();function Q(){return(0,l.LFG)(H)}const U=new l.OlP("Location Initialized");let H=(()=>{class n extends Z{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return B().getBaseHref(this._doc)}onPopState(e){const r=B().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",e,!1),()=>r.removeEventListener("popstate",e)}onHashChange(e){const r=B().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",e,!1),()=>r.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,r,i){$()?this._history.pushState(e,r,i):this.location.hash=i}replaceState(e,r,i){$()?this._history.replaceState(e,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(K))},n.\u0275prov=(0,l.Yz7)({factory:ue,token:n,providedIn:"platform"}),n})();function $(){return!!window.history.pushState}function ue(){return new H((0,l.LFG)(K))}function me(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function Ne(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function Ee(n){return n&&"?"!==n[0]?"?"+n:n}let de=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,l.Yz7)({factory:se,token:n,providedIn:"root"}),n})();function se(n){const t=(0,l.LFG)(K).location;return new ke((0,l.LFG)(Z),t&&t.origin||"")}const Me=new l.OlP("appBaseHref");let ke=(()=>{class n extends de{constructor(e,r){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return me(this._baseHref,e)}path(e=!1){const r=this._platformLocation.pathname+Ee(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${r}${i}`:r}pushState(e,r,i,a){const d=this.prepareExternalUrl(i+Ee(a));this._platformLocation.pushState(e,r,d)}replaceState(e,r,i,a){const d=this.prepareExternalUrl(i+Ee(a));this._platformLocation.replaceState(e,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Z),l.LFG(Me,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ue=(()=>{class n extends de{constructor(e,r){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(e){const r=me(this._baseHref,e);return r.length>0?"#"+r:r}pushState(e,r,i,a){let d=this.prepareExternalUrl(i+Ee(a));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(e,r,d)}replaceState(e,r,i,a){let d=this.prepareExternalUrl(i+Ee(a));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(e,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var r,i;null===(i=(r=this._platformLocation).historyGo)||void 0===i||i.call(r,e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Z),l.LFG(Me,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),xt=(()=>{class n{constructor(e,r){this._subject=new l.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const i=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Ne(Ct(i)),this._platformStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,r=""){return this.path()==this.normalize(e+Ee(r))}normalize(e){return n.stripTrailingSlash(function(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,Ct(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,r="",i=null){this._platformStrategy.pushState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ee(r)),i)}replaceState(e,r="",i=null){this._platformStrategy.replaceState(i,"",e,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Ee(r)),i)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var r,i;null===(i=(r=this._platformStrategy).historyGo)||void 0===i||i.call(r,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(e="",r){this._urlChangeListeners.forEach(i=>i(e,r))}subscribe(e,r,i){return this._subject.subscribe({next:e,error:r,complete:i})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(de),l.LFG(Z))},n.normalizeQueryParams=Ee,n.joinWithSlash=me,n.stripTrailingSlash=Ne,n.\u0275prov=(0,l.Yz7)({factory:Nt,token:n,providedIn:"root"}),n})();function Nt(){return new xt((0,l.LFG)(de),(0,l.LFG)(Z))}function Ct(n){return n.replace(/\/index.html$/,"")}var gt=(()=>((gt=gt||{})[gt.Zero=0]="Zero",gt[gt.One=1]="One",gt[gt.Two=2]="Two",gt[gt.Few=3]="Few",gt[gt.Many=4]="Many",gt[gt.Other=5]="Other",gt))();const wo=l.kL8;class Yr{}let pr=(()=>{class n extends Yr{constructor(e){super(),this.locale=e}getPluralCategory(e,r){switch(wo(r||this.locale)(e)){case gt.Zero:return"zero";case gt.One:return"one";case gt.Two:return"two";case gt.Few:return"few";case gt.Many:return"many";default:return"other"}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.soG))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function gr(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const r=e.indexOf("="),[i,a]=-1==r?[e,""]:[e.slice(0,r),e.slice(r+1)];if(i.trim()===t)return decodeURIComponent(a)}return null}let Eo=(()=>{class n{constructor(e,r,i,a){this._iterableDiffers=e,this._keyValueDiffers=r,this._ngEl=i,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,l.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),e.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,l.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),e.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!0)):Object.keys(e).forEach(r=>this._toggleClass(r,!!e[r])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(r=>this._toggleClass(r,!1)):Object.keys(e).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(e,r){(e=e.trim())&&e.split(/\s+/g).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Rr{constructor(t,e,r,i){this.$implicit=t,this.ngForOf=e,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let $t=(()=>{class n{constructor(e,r,i){this._viewContainer=e,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(n){return n.name||typeof n}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const r=[];e.forEachOperation((i,a,d)=>{if(null==i.previousIndex){const f=this._viewContainer.createEmbeddedView(this._template,new Rr(null,this._ngForOf,-1,-1),null===d?void 0:d),m=new Sh(i,f);r.push(m)}else if(null==d)this._viewContainer.remove(null===a?void 0:a);else if(null!==a){const f=this._viewContainer.get(a);this._viewContainer.move(f,d);const m=new Sh(i,f);r.push(m)}});for(let i=0;i<r.length;i++)this._perViewChange(r[i].view,r[i].record);for(let i=0,a=this._viewContainer.length;i<a;i++){const d=this._viewContainer.get(i);d.context.index=i,d.context.count=a,d.context.ngForOf=this._ngForOf}e.forEachIdentityChange(i=>{this._viewContainer.get(i.currentIndex).context.$implicit=i.item})}_perViewChange(e,r){e.context.$implicit=r.item}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class Sh{constructor(t,e){this.record=t,this.view=e}}let Nr=(()=>{class n{constructor(e,r){this._viewContainer=e,this._context=new Ku,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Sa("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Sa("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,r){return!0}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Ku{constructor(){this.$implicit=null,this.ngIf=null}}function Sa(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(t)}'.`)}class zo{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Mo=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const r=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||r,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),r}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let r=0;r<this._defaultViews.length;r++)this._defaultViews[r].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),n})(),rr=(()=>{class n{constructor(e,r,i){this.ngSwitch=i,i._addCase(),this._view=new zo(e,r)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(Mo,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),n})(),mr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[{provide:Yr,useClass:pr}]}),n})();function Fc(n){return"server"===n}let Al=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new Vh((0,l.LFG)(K),window)}),n})();class Vh{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const d=a.getElementById(t)||a.querySelector(`[name="${t}"]`);if(d)return d}i=r.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),r=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=xa(this.window.history)||xa(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function xa(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ed{}class Bh extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new Bh,ne||(ne=n)}onAndCancel(t,e,r){return t.addEventListener(e,r,!1),()=>{t.removeEventListener(e,r,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(To=To||document.querySelector("base"),To?To.getAttribute("href"):null);return null==e?null:function(n){Yt=Yt||document.createElement("a"),Yt.setAttribute("href",n);const t=Yt.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){To=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return gr(document.cookie,t)}}let Yt,To=null;const Rc=new l.OlP("TRANSITION_ID"),hi=[{provide:l.ip1,useFactory:function(n,t,e){return()=>{e.get(l.CZH).donePromise.then(()=>{const r=B(),i=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[Rc,K,l.zs3],multi:!0}];class Yn{static init(){(0,l.VLi)(new Yn)}addToWindow(t){l.dqk.getAngularTestability=(r,i=!0)=>{const a=t.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},l.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const i=l.dqk.getAllAngularTestabilities();let a=i.length,d=!1;const f=function(m){d=d||m,a--,0==a&&r(d)};i.forEach(function(m){m.whenStable(f)})})}findTestabilityInTree(t,e,r){if(null==e)return null;const i=t.getTestability(e);return null!=i?i:r?B().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let ms=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Go=new l.OlP("EventManagerPlugins");let Ce=(()=>{class n{constructor(e,r){this._zone=r,this._eventNameToPlugin=new Map,e.forEach(i=>i.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,r,i){return this._findPluginFor(r).addEventListener(e,r,i)}addGlobalEventListener(e,r,i){return this._findPluginFor(r).addGlobalEventListener(e,r,i)}getZone(){return this._zone}_findPluginFor(e){const r=this._eventNameToPlugin.get(e);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const d=i[a];if(d.supports(e))return this._eventNameToPlugin.set(e,d),d}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Go),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Mt{constructor(t){this._doc=t}addGlobalEventListener(t,e,r){const i=B().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${e}`);return this.addEventListener(i,e,r)}}let Uc=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const r=new Set;e.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),an=(()=>{class n extends Uc{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,r,i){e.forEach(a=>{const d=this._doc.createElement("style");d.textContent=a,i.push(r.appendChild(d))})}addHost(e){const r=[];this._addStylesToHost(this._stylesSet,e,r),this._hostNodes.set(e,r)}removeHost(e){const r=this._hostNodes.get(e);r&&r.forEach(Hc),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(e,i,r)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Hc))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(K))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Hc(n){B().remove(n)}const Io={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Vr=/%COMP%/g;function Ln(n,t,e){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?Ln(n,i,e):(i=i.replace(Vr,n),e.push(i))}return e}function Ti(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Ii=(()=>{class n{constructor(e,r,i){this.eventManager=e,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Br(e)}createRenderer(e,r){if(!e||!r)return this.defaultRenderer;switch(r.encapsulation){case l.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new id(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(e),i}case 1:case l.ifc.ShadowDom:return new Vl(this.eventManager,this.sharedStylesHost,e,r);default:if(!this.rendererByCompId.has(r.id)){const i=Ln(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Ce),l.LFG(an),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Br{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Io[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,r){t&&t.insertBefore(e,r)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return e||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,r,i){if(i){e=i+":"+e;const a=Io[i];a?t.setAttributeNS(a,e,r):t.setAttribute(e,r)}else t.setAttribute(e,r)}removeAttribute(t,e,r){if(r){const i=Io[r];i?t.removeAttributeNS(i,e):t.removeAttribute(`${r}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,r,i){i&(l.JOm.DashCase|l.JOm.Important)?t.style.setProperty(e,r,i&l.JOm.Important?"important":""):t.style[e]=r}removeStyle(t,e,r){r&l.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,r){t[e]=r}setValue(t,e){t.nodeValue=e}listen(t,e,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Ti(r)):this.eventManager.addEventListener(t,e,Ti(r))}}class id extends Br{constructor(t,e,r,i){super(t),this.component=r;const a=Ln(i+"-"+r.id,r.styles,[]);e.addStyles(a),this.contentAttr="_ngcontent-%COMP%".replace(Vr,i+"-"+r.id),this.hostAttr="_nghost-%COMP%".replace(Vr,i+"-"+r.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const r=super.createElement(t,e);return super.setAttribute(r,this.contentAttr,""),r}}class Vl extends Br{constructor(t,e,r,i){super(t),this.sharedStylesHost=e,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Ln(i.id,i.styles,[]);for(let d=0;d<a.length;d++){const f=document.createElement("style");f.textContent=a[d],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,r){return super.insertBefore(this.nodeOrShadowRoot(t),e,r)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let Bl=(()=>{class n extends Mt{constructor(e){super(e)}supports(e){return!0}addEventListener(e,r,i){return e.addEventListener(r,i,!1),()=>this.removeEventListener(e,r,i)}removeEventListener(e,r,i){return e.removeEventListener(r,i)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(K))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const $o=["alt","control","meta","shift"],ad={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ir={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Np={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ua=(()=>{class n extends Mt{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,r,i){const a=n.parseEventName(r),d=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>B().onAndCancel(e,a.domEventName,d))}static parseEventName(e){const r=e.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let d="";if($o.forEach(m=>{const C=r.indexOf(m);C>-1&&(r.splice(C,1),d+=m+".")}),d+=a,0!=r.length||0===a.length)return null;const f={};return f.domEventName=i,f.fullKey=d,f}static getEventFullKey(e){let r="",i=function(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&ir.hasOwnProperty(t)&&(t=ir[t]))}return ad[t]||t}(e);return i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),$o.forEach(a=>{a!=i&&Np[a](e)&&(r+=a+".")}),r+=i,r}static eventCallback(e,r,i){return a=>{n.getEventFullKey(a)===e&&i.runGuarded(()=>r(a))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(K))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),qo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=(0,l.Yz7)({factory:function(){return(0,l.LFG)(bs)},token:n,providedIn:"root"}),n})(),bs=(()=>{class n extends qo{constructor(e){super(),this._doc=e}sanitize(e,r){if(null==r)return null;switch(e){case l.q3G.NONE:return r;case l.q3G.HTML:return(0,l.qzn)(r,"HTML")?(0,l.z3N)(r):(0,l.EiD)(this._doc,String(r)).toString();case l.q3G.STYLE:return(0,l.qzn)(r,"Style")?(0,l.z3N)(r):r;case l.q3G.SCRIPT:if((0,l.qzn)(r,"Script"))return(0,l.z3N)(r);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.yhl)(r),(0,l.qzn)(r,"URL")?(0,l.z3N)(r):(0,l.mCW)(String(r));case l.q3G.RESOURCE_URL:if((0,l.qzn)(r,"ResourceURL"))return(0,l.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,l.JVY)(e)}bypassSecurityTrustStyle(e){return(0,l.L6k)(e)}bypassSecurityTrustScript(e){return(0,l.eBb)(e)}bypassSecurityTrustUrl(e){return(0,l.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,l.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(K))},n.\u0275prov=(0,l.Yz7)({factory:function(){return function(n){return new bs(n.get(K))}((0,l.LFG)(l.gxx))},token:n,providedIn:"root"}),n})();const vs=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:"browser"},{provide:l.g9A,useValue:function(){Bh.makeCurrent(),Yn.init()},multi:!0},{provide:K,useFactory:function(){return(0,l.RDi)(document),document},deps:[]}]),ud=[[],{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function(){return new l.qLn},deps:[]},{provide:Go,useClass:Bl,multi:!0,deps:[K,l.R0b,l.Lbi]},{provide:Go,useClass:Ua,multi:!0,deps:[K]},[],{provide:Ii,useClass:Ii,deps:[Ce,an,l.AFp]},{provide:l.FYo,useExisting:Ii},{provide:Uc,useExisting:an},{provide:an,useClass:an,deps:[K]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b]},{provide:Ce,useClass:Ce,deps:[Go,l.R0b]},{provide:ed,useClass:ms,deps:[]},[]];let dd=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:l.AFp,useValue:e.appId},{provide:Rc,useExisting:l.AFp},hi]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(n,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:ud,imports:[mr,l.hGG]}),n})();"undefined"!=typeof window&&window;var hn=V(4402),Le=V(5917),it=V(9765),fd=V(7971);class Ir extends it.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new fd.N;return this._value}next(t){super.next(this._value=t)}}var Yo=V(4869),zl=V(9796),tn=V(7393);class Wc extends tn.L{notifyNext(t,e,r,i,a){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class __ extends tn.L{constructor(t,e,r){super(),this.parent=t,this.outerValue=e,this.outerIndex=r,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var ws=V(7444),mn=V(8891);function Vn(n,t,e,r,i=new __(n,e,r)){if(!i.closed)return t instanceof mn.y?t.subscribe(i):(0,ws.s)(t)(i)}var Zc=V(6693);const Gl={};class Yc{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new $l(t,this.resultSelector))}}class $l extends Wc{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Gl),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let r=0;r<e;r++)this.add(Vn(this,t[r],void 0,r))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,r){const i=this.values,d=this.toRespond?i[r]===Gl?--this.toRespond:this.toRespond:0;i[r]=e,0===d&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)}}const Si=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})();var Ko=V(3282);function Ks(...n){return(0,Ko.J)(1)((0,Le.of)(...n))}var Ur=V(9193);function pi(n){return new mn.y(t=>{let e;try{e=n()}catch(i){return void t.error(i)}return(e?(0,hn.D)(e):(0,Ur.c)()).subscribe(t)})}var Jh=V(2441),$e=V(8002),Pi=V(5345);function Dn(n,t){return"function"==typeof t?e=>e.pipe(Dn((r,i)=>(0,hn.D)(n(r,i)).pipe((0,$e.U)((a,d)=>t(r,a,i,d))))):e=>e.lift(new y_(n))}class y_{constructor(t){this.project=t}call(t,e){return e.subscribe(new _n(t,this.project))}}class _n extends Pi.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const r=this.index++;try{e=this.project(t,r)}catch(i){return void this.destination.error(i)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const r=new Pi.IY(this),i=this.destination;i.add(r),this.innerSubscription=(0,Pi.ft)(t,r),this.innerSubscription!==r&&i.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Kc=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();function _r(n){return t=>0===n?(0,Ur.c)():t.lift(new Nv(n))}class Nv{constructor(t){if(this.total=t,this.total<0)throw new Kc}call(t,e){return e.subscribe(new Qc(t,this.total))}}class Qc extends tn.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,r=++this.count;r<=e&&(this.destination.next(t),r===e&&(this.destination.complete(),this.unsubscribe()))}}function Kr(...n){const t=n[n.length-1];return(0,Yo.K)(t)?(n.pop(),e=>Ks(n,e,t)):e=>Ks(n,e)}function Ga(n,t){let e=!1;return arguments.length>=2&&(e=!0),function(i){return i.lift(new b_(n,t,e))}}class b_{constructor(t,e,r=!1){this.accumulator=t,this.seed=e,this.hasSeed=r}call(t,e){return e.subscribe(new ef(t,this.accumulator,this.seed,this.hasSeed))}}class ef extends tn.L{constructor(t,e,r,i){super(t),this.accumulator=e,this._seed=r,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let r;try{r=this.accumulator(this.seed,t,e)}catch(i){this.destination.error(i)}this.seed=r,this.destination.next(r)}}function On(n,t){return function(r){return r.lift(new pd(n,t))}}class pd{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new Qs(t,this.predicate,this.thisArg))}}class Qs extends tn.L{constructor(t,e,r){super(t),this.predicate=e,this.thisArg=r,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}e&&this.destination.next(t)}}function Qo(n){return function(e){const r=new Bn(n),i=e.lift(r);return r.caught=i}}class Bn{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Jo(t,this.selector,this.caught))}}class Jo extends Pi.Ds{constructor(t,e,r){super(t),this.selector=e,this.caught=r}error(t){if(!this.isStopped){let e;try{e=this.selector(t,this.caught)}catch(a){return void super.error(a)}this._unsubscribeAndRecycle();const r=new Pi.IY(this);this.add(r);const i=(0,Pi.ft)(e,r);i!==r&&this.add(i)}}}var Un=V(9773);function Jc(n,t){return(0,Un.zg)(n,t,1)}function tf(n){return function(e){return 0===n?(0,Ur.c)():e.lift(new gi(n))}}class gi{constructor(t){if(this.total=t,this.total<0)throw new Kc}call(t,e){return e.subscribe(new So(t,this.total))}}class So extends tn.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,r=this.total,i=this.count++;e.length<r?e.push(t):e[i%r]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const r=this.count>=this.total?this.total:this.count,i=this.ring;for(let a=0;a<r;a++){const d=e++%r;t.next(i[d])}}t.complete()}}function ql(n=nf){return t=>t.lift(new Ai(n))}class Ai{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new Xo(t,this.errorFactory))}}class Xo extends tn.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function nf(){return new Si}function gd(n=null){return t=>t.lift(new Js(n))}class Js{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new v_(t,this.defaultValue))}}class v_ extends tn.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Xs=V(4487);function or(n,t){const e=arguments.length>=2;return r=>r.pipe(n?On((i,a)=>n(i,a,r)):Xs.y,_r(1),e?gd(t):ql(()=>new Si))}var Tn=V(3342),$a=V(1307),yr=V(5319);function rf(n){return t=>t.lift(new O(n))}class O{constructor(t){this.callback=t}call(t,e){return e.subscribe(new S(t,this.callback))}}class S extends tn.L{constructor(t,e){super(t),this.add(new yr.w(e))}}class F{constructor(t,e){this.id=t,this.url=e}}class z extends F{constructor(t,e,r="imperative",i=null){super(t,e),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class te extends F{constructor(t,e,r){super(t,e),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class he extends F{constructor(t,e,r){super(t,e),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class we extends F{constructor(t,e,r){super(t,e),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class He extends F{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ze extends F{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ft extends F{constructor(t,e,r,i,a){super(t,e),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class nn extends F{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hn extends F{constructor(t,e,r,i){super(t,e),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qr{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class sr{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Xc{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ea{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eu{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class no{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ro{constructor(t,e,r){this.routerEvent=t,this.position=e,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const pt="primary";class jp{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function yn(n){return new jp(n)}const tu="ngNavigationCancelingError";function zp(n){const t=Error("NavigationCancelingError: "+n);return t[tu]=!0,t}function Zl(n,t,e){const r=e.path.split("/");if(r.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const d=r[a],f=n[a];if(d.startsWith(":"))i[d.substring(1)]=f;else if(d!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function io(n,t){const e=n?Object.keys(n):void 0,r=t?Object.keys(t):void 0;if(!e||!r||e.length!=r.length)return!1;let i;for(let a=0;a<e.length;a++)if(i=e[a],!$p(n[i],t[i]))return!1;return!0}function $p(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),r=[...t].sort();return e.every((i,a)=>r[a]===i)}return n===t}function C_(n){return Array.prototype.concat.apply([],n)}function qa(n){return n.length>0?n[n.length-1]:null}function ar(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function br(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,hn.D)(Promise.resolve(n)):(0,Le.of)(n)}const w_={exact:function sf(n,t,e){if(!Za(n.segments,t.segments)||!ru(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!n.children[r]||!sf(n.children[r],t.children[r],e))return!1;return!0},subset:ta},nu={exact:function(n,t){return io(n,t)},subset:function(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>$p(n[e],t[e]))},ignored:()=>!0};function _d(n,t,e){return w_[e.paths](n.root,t.root,e.matrixParams)&&nu[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function ta(n,t,e){return na(n,t,t.segments,e)}function na(n,t,e,r){if(n.segments.length>e.length){const i=n.segments.slice(0,e.length);return!(!Za(i,e)||t.hasChildren()||!ru(i,e,r))}if(n.segments.length===e.length){if(!Za(n.segments,e)||!ru(n.segments,e,r))return!1;for(const i in t.children)if(!n.children[i]||!ta(n.children[i],t.children[i],r))return!1;return!0}{const i=e.slice(0,n.segments.length),a=e.slice(n.segments.length);return!!(Za(n.segments,i)&&ru(n.segments,i,r)&&n.children[pt])&&na(n.children[pt],t,a,r)}}function ru(n,t,e){return t.every((r,i)=>nu[e](n[i].parameters,r.parameters))}class Yl{constructor(t,e,r){this.root=t,this.queryParams=e,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yn(this.queryParams)),this._queryParamMap}toString(){return bd.serialize(this)}}class Pt{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ar(e,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ra(this)}}class yd{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=yn(this.parameters)),this._parameterMap}toString(){return su(this)}}function Za(n,t){return n.length===t.length&&n.every((e,r)=>e.path===t[r].path)}class qp{}class iu{parse(t){const e=new cf(t);return new Yl(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var n;return`${`/${vd(t.root,!0)}`}${function(n){const t=Object.keys(n).map(e=>{const r=n[e];return Array.isArray(r)?r.map(i=>`${Cd(e)}=${Cd(i)}`).join("&"):`${Cd(e)}=${Cd(r)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${n=t.fragment,encodeURI(n)}`:""}`}}const bd=new iu;function ra(n){return n.segments.map(t=>su(t)).join("/")}function vd(n,t){if(!n.hasChildren())return ra(n);if(t){const e=n.children[pt]?vd(n.children[pt],!1):"",r=[];return ar(n.children,(i,a)=>{a!==pt&&r.push(`${a}:${vd(i,!1)}`)}),r.length>0?`${e}(${r.join("//")})`:e}{const e=function(n,t){let e=[];return ar(n.children,(r,i)=>{i===pt&&(e=e.concat(t(r,i)))}),ar(n.children,(r,i)=>{i!==pt&&(e=e.concat(t(r,i)))}),e}(n,(r,i)=>i===pt?[vd(n.children[pt],!1)]:[`${i}:${vd(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[pt]?`${ra(n)}/${e[0]}`:`${ra(n)}/(${e.join("//")})`}}function D_(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Cd(n){return D_(n).replace(/%3B/gi,";")}function wd(n){return D_(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ou(n){return decodeURIComponent(n)}function Wp(n){return ou(n.replace(/\+/g,"%20"))}function su(n){return`${wd(n.path)}${function(n){return Object.keys(n).map(t=>`;${wd(t)}=${wd(n[t])}`).join("")}(n.parameters)}`}const Hv=/^[^\/()?;=#]+/;function lf(n){const t=n.match(Hv);return t?t[0]:""}const jv=/^[^=?&#]+/,ia=/^[^?&#]+/;class cf{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pt([],{}):new Pt([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(r[pt]=new Pt(t,e)),r}parseSegment(){const t=lf(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new yd(ou(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=lf(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const i=lf(this.remaining);i&&(r=i,this.capture(r))}t[ou(e)]=ou(r)}parseQueryParam(t){const e=function(n){const t=n.match(jv);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let r="";if(this.consumeOptional("=")){const d=function(n){const t=n.match(ia);return t?t[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const i=Wp(e),a=Wp(r);if(t.hasOwnProperty(i)){let d=t[i];Array.isArray(d)||(d=[d],t[i]=d),d.push(a)}else t[i]=a}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=lf(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let a;r.indexOf(":")>-1?(a=r.substr(0,r.indexOf(":")),this.capture(a),this.capture(":")):t&&(a=pt);const d=this.parseChildren();e[a]=1===Object.keys(d).length?d[pt]:new Pt([],d),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class O_{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Zp(t,this._root);return e?e.children.map(r=>r.value):[]}firstChild(t){const e=Zp(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Yp(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Yp(t,this._root).map(e=>e.value)}}function Zp(n,t){if(n===t.value)return t;for(const e of t.children){const r=Zp(n,e);if(r)return r}return null}function Yp(n,t){if(n===t.value)return[t];for(const e of t.children){const r=Yp(n,e);if(r.length)return r.unshift(t),r}return[]}class oa{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Ed(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class uf extends O_{constructor(t,e){super(t),this.snapshot=e,hf(this,t)}toString(){return this.snapshot.toString()}}function T_(n,t){const e=function(n,t){const d=new df([],{},{},"",{},pt,t,null,n.root,-1,{});return new Ya("",new oa(d,[]))}(n,t),r=new Ir([new yd("",{})]),i=new Ir({}),a=new Ir({}),d=new Ir({}),f=new Ir(""),m=new lu(r,i,d,f,a,pt,t,e.root);return m.snapshot=e.root,new uf(new oa(m,[]),e)}class lu{constructor(t,e,r,i,a,d,f,m){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=d,this.component=f,this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,$e.U)(t=>yn(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,$e.U)(t=>yn(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function I_(n,t="emptyOnly"){const e=n.pathFromRoot;let r=0;if("always"!==t)for(r=e.length-1;r>=1;){const i=e[r],a=e[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function(n){return n.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(r))}class df{constructor(t,e,r,i,a,d,f,m,C,M,T){this.url=t,this.params=e,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=d,this.component=f,this.routeConfig=m,this._urlSegment=C,this._lastPathIndex=M,this._resolve=T}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=yn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ya extends O_{constructor(t,e){super(e),this.url=t,hf(this,e)}toString(){return Po(this._root)}}function hf(n,t){t.value._routerState=n,t.children.forEach(e=>hf(n,e))}function Po(n){const t=n.children.length>0?` { ${n.children.map(Po).join(", ")} } `:"";return`${n.value}${t}`}function Ql(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,io(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),io(t.params,e.params)||n.params.next(e.params),function(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!io(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),io(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function cu(n,t){return io(n.params,t.params)&&function(n,t){return Za(n,t)&&n.every((e,r)=>io(e.parameters,t[r].parameters))}(n.url,t.url)&&!(!n.parent!=!t.parent)&&(!n.parent||cu(n.parent,t.parent))}function uu(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const r=e.value;r._futureSnapshot=t.value;const i=function(n,t,e){return t.children.map(r=>{for(const i of e.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return uu(n,r,i);return uu(n,r)})}(n,t,e);return new oa(r,i)}{if(n.shouldAttach(t.value)){const a=n.retrieve(t.value);if(null!==a){const d=a.route;return A_(t,d),d}}const r=function(n){return new lu(new Ir(n.url),new Ir(n.params),new Ir(n.queryParams),new Ir(n.fragment),new Ir(n.data),n.outlet,n.component,n)}(t.value),i=t.children.map(a=>uu(n,a));return new oa(r,i)}}function A_(n,t){if(n.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=n.value;for(let e=0;e<n.children.length;++e)A_(n.children[e],t.children[e])}function Md(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function oo(n){return"object"==typeof n&&null!=n&&n.outlets}function x_(n,t,e,r,i){let a={};return r&&ar(r,(d,f)=>{a[f]=Array.isArray(d)?d.map(m=>`${m}`):`${d}`}),new Yl(e.root===n?t:$v(e.root,n,t),a,i)}function $v(n,t,e){const r={};return ar(n.children,(i,a)=>{r[a]=i===t?e:$v(i,t,e)}),new Pt(n.segments,r)}class Dd{constructor(t,e,r){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=r,t&&r.length>0&&Md(r[0]))throw new Error("Root segment cannot have matrix parameters");const i=r.find(oo);if(i&&i!==qa(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Od{constructor(t,e,r){this.segmentGroup=t,this.processChildren=e,this.index=r}}function Td(n,t,e){if(n||(n=new Pt([],{})),0===n.segments.length&&n.hasChildren())return Id(n,t,e);const r=function(n,t,e){let r=0,i=t;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=e.length)return a;const d=n.segments[i],f=e[r];if(oo(f))break;const m=`${f}`,C=r<e.length-1?e[r+1]:null;if(i>0&&void 0===m)break;if(m&&C&&"object"==typeof C&&void 0===C.outlets){if(!F_(m,C,d))return a;r+=2}else{if(!F_(m,{},d))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,t,e),i=e.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new Pt(n.segments.slice(0,r.pathIndex),{});return a.children[pt]=new Pt(n.segments.slice(r.pathIndex),n.children),Id(a,0,i)}return r.match&&0===i.length?new Pt(n.segments,{}):r.match&&!n.hasChildren()?Qp(n,t,e):r.match?Id(n,0,i):Qp(n,t,e)}function Id(n,t,e){if(0===e.length)return new Pt(n.segments,{});{const r=function(n){return oo(n[0])?n[0].outlets:{[pt]:n}}(e),i={};return ar(r,(a,d)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[d]=Td(n.children[d],t,a))}),ar(n.children,(a,d)=>{void 0===r[d]&&(i[d]=a)}),new Pt(n.segments,i)}}function Qp(n,t,e){const r=n.segments.slice(0,t);let i=0;for(;i<e.length;){const a=e[i];if(oo(a)){const m=jn(a.outlets);return new Pt(r,m)}if(0===i&&Md(e[0])){r.push(new yd(n.segments[t].path,Jp(e[0]))),i++;continue}const d=oo(a)?a.outlets[pt]:`${a}`,f=i<e.length-1?e[i+1]:null;d&&f&&Md(f)?(r.push(new yd(d,Jp(f))),i+=2):(r.push(new yd(d,{})),i++)}return new Pt(r,{})}function jn(n){const t={};return ar(n,(e,r)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[r]=Qp(new Pt([],{}),0,e))}),t}function Jp(n){const t={};return ar(n,(e,r)=>t[r]=`${e}`),t}function F_(n,t,e){return n==e.path&&io(t,e.parameters)}class eg{constructor(t,e,r,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=r,this.forwardEvent=i}activate(t){const e=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,r,t),Ql(this.futureState.root),this.activateChildRoutes(e,r,t)}deactivateChildRoutes(t,e,r){const i=Ed(e);t.children.forEach(a=>{const d=a.value.outlet;this.deactivateRoutes(a,i[d],r),delete i[d]}),ar(i,(a,d)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(t,e,r){const i=t.value,a=e?e.value:null;if(i===a)if(i.component){const d=r.getContext(i.outlet);d&&this.deactivateChildRoutes(t,e,d.children)}else this.deactivateChildRoutes(t,e,r);else a&&this.deactivateRouteAndItsChildren(e,r)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const r=e.getContext(t.value.outlet);if(r&&r.outlet){const i=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:i,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){const r=e.getContext(t.value.outlet),i=r&&t.value.component?r.children:e,a=Ed(t);for(const d of Object.keys(a))this.deactivateRouteAndItsChildren(a[d],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,e,r){const i=Ed(e);t.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new no(a.value.snapshot))}),t.children.length&&this.forwardEvent(new ea(t.value.snapshot))}activateRoutes(t,e,r){const i=t.value,a=e?e.value:null;if(Ql(i),i===a)if(i.component){const d=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,d.children)}else this.activateChildRoutes(t,e,r);else if(i.component){const d=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),d.children.onOutletReAttached(f.contexts),d.attachRef=f.componentRef,d.route=f.route.value,d.outlet&&d.outlet.attach(f.componentRef,f.route.value),pf(f.route)}else{const f=function(n){for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(i.snapshot),m=f?f.module.componentFactoryResolver:null;d.attachRef=null,d.route=i,d.resolver=m,d.outlet&&d.outlet.activateWith(i,m),this.activateChildRoutes(t,null,d.children)}}else this.activateChildRoutes(t,null,r)}}function pf(n){Ql(n.value),n.children.forEach(pf)}class tg{constructor(t,e){this.routes=t,this.module=e}}function Ms(n){return"function"==typeof n}function du(n){return n instanceof Yl}const hu=Symbol("INITIAL_VALUE");function Jl(){return Dn(n=>function(...n){let t,e;return(0,Yo.K)(n[n.length-1])&&(e=n.pop()),"function"==typeof n[n.length-1]&&(t=n.pop()),1===n.length&&(0,zl.k)(n[0])&&(n=n[0]),(0,Zc.n)(n,e).lift(new Yc(t))}(n.map(t=>t.pipe(_r(1),Kr(hu)))).pipe(Ga((t,e)=>{let r=!1;return e.reduce((i,a,d)=>i!==hu?i:(a===hu&&(r=!0),r||!1!==a&&d!==e.length-1&&!du(a)?i:a),t)},hu),On(t=>t!==hu),(0,$e.U)(t=>du(t)?t:!0===t),_r(1)))}let Hr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,r){1&e&&l._UZ(0,"router-outlet")},directives:function(){return[hg]},encapsulation:2}),n})();function fu(n,t=""){for(let e=0;e<n.length;e++){const r=n[e];ig(r,Kv(t,r))}}function ig(n,t){n.children&&fu(n.children,t)}function Kv(n,t){return t?n||t.path?n&&!t.path?`${n}/`:!n&&t.path?t.path:`${n}/${t.path}`:"":n}function pu(n){const t=n.children&&n.children.map(pu),e=t?Object.assign(Object.assign({},n),{children:t}):Object.assign({},n);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==pt&&(e.component=Hr),e}function so(n){return n.outlet||pt}function og(n,t){const e=n.filter(r=>so(r)===t);return e.push(...n.filter(r=>so(r)!==t)),e}const sg={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function gf(n,t,e){var r;if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},sg):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const a=(t.matcher||Zl)(e,n,t);if(!a)return Object.assign({},sg);const d={};ar(a.posParams,(m,C)=>{d[C]=m.path});const f=a.consumed.length>0?Object.assign(Object.assign({},d),a.consumed[a.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:a.consumed,lastChild:a.consumed.length,parameters:f,positionalParamSegments:null!==(r=a.posParams)&&void 0!==r?r:{}}}function Pd(n,t,e,r,i="corrected"){if(e.length>0&&function(n,t,e){return e.some(r=>Xl(n,t,r)&&so(r)!==pt)}(n,e,r)){const d=new Pt(t,function(n,t,e,r){const i={};i[pt]=r,r._sourceSegment=n,r._segmentIndexShift=t.length;for(const a of e)if(""===a.path&&so(a)!==pt){const d=new Pt([],{});d._sourceSegment=n,d._segmentIndexShift=t.length,i[so(a)]=d}return i}(n,t,r,new Pt(e,n.children)));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:[]}}if(0===e.length&&function(n,t,e){return e.some(r=>Xl(n,t,r))}(n,e,r)){const d=new Pt(n.segments,function(n,t,e,r,i,a){const d={};for(const f of r)if(Xl(n,e,f)&&!i[so(f)]){const m=new Pt([],{});m._sourceSegment=n,m._segmentIndexShift="legacy"===a?n.segments.length:t.length,d[so(f)]=m}return Object.assign(Object.assign({},i),d)}(n,t,e,r,n.children,i));return d._sourceSegment=n,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:e}}const a=new Pt(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}function Xl(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function lg(n,t,e,r){return!!(so(n)===r||r!==pt&&Xl(t,e,n))&&("**"===n.path||gf(t,n,e).matched)}function _f(n,t,e){return 0===t.length&&!n.children[e]}class Jr{constructor(t){this.segmentGroup=t||null}}class ec{constructor(t){this.urlTree=t}}function Qa(n){return new mn.y(t=>t.error(new Jr(n)))}function R_(n){return new mn.y(t=>t.error(new ec(n)))}function cg(n){return new mn.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class N_{constructor(t,e,r,i,a){this.configLoader=e,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0,this.ngModule=t.get(l.h0i)}apply(){const t=Pd(this.urlTree.root,[],[],this.config).segmentGroup,e=new Pt(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,pt).pipe((0,$e.U)(a=>this.createUrlTree(Ds(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Qo(a=>{if(a instanceof ec)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof Jr?this.noMatchError(a):a}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,pt).pipe((0,$e.U)(i=>this.createUrlTree(Ds(i),t.queryParams,t.fragment))).pipe(Qo(i=>{throw i instanceof Jr?this.noMatchError(i):i}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,r){const i=t.segments.length>0?new Pt([],{[pt]:t}):t;return new Yl(i,e,r)}expandSegmentGroup(t,e,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,e,r).pipe((0,$e.U)(a=>new Pt([],a))):this.expandSegment(t,r,e,r.segments,i,!0)}expandChildren(t,e,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,hn.D)(i).pipe(Jc(a=>{const d=r.children[a],f=og(e,a);return this.expandSegmentGroup(t,f,d,a).pipe((0,$e.U)(m=>({segment:m,outlet:a})))}),Ga((a,d)=>(a[d.outlet]=d.segment,a),{}),function(n,t){const e=arguments.length>=2;return r=>r.pipe(n?On((i,a)=>n(i,a,r)):Xs.y,tf(1),e?gd(t):ql(()=>new Si))}())}expandSegment(t,e,r,i,a,d){return(0,hn.D)(r).pipe(Jc(f=>this.expandSegmentAgainstRoute(t,e,r,f,i,a,d).pipe(Qo(C=>{if(C instanceof Jr)return(0,Le.of)(null);throw C}))),or(f=>!!f),Qo((f,m)=>{if(f instanceof Si||"EmptyError"===f.name){if(_f(e,i,a))return(0,Le.of)(new Pt([],{}));throw new Jr(e)}throw f}))}expandSegmentAgainstRoute(t,e,r,i,a,d,f){return lg(i,e,a,d)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,e,i,a,d):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,r,i,a,d):Qa(e):Qa(e)}expandSegmentAgainstRouteUsingRedirect(t,e,r,i,a,d){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,d):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,a,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?R_(a):this.lineralizeSegments(r,a).pipe((0,Un.zg)(d=>{const f=new Pt(d,{});return this.expandSegment(t,f,e,d,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,r,i,a,d){const{matched:f,consumedSegments:m,lastChild:C,positionalParamSegments:M}=gf(e,i,a);if(!f)return Qa(e);const T=this.applyRedirectCommands(m,i.redirectTo,M);return i.redirectTo.startsWith("/")?R_(T):this.lineralizeSegments(i,T).pipe((0,Un.zg)(x=>this.expandSegment(t,e,r,x.concat(a.slice(C)),d,!1)))}matchSegmentAgainstRoute(t,e,r,i,a){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,Le.of)(r._loadedConfig):this.configLoader.load(t.injector,r)).pipe((0,$e.U)(x=>(r._loadedConfig=x,new Pt(i,{})))):(0,Le.of)(new Pt(i,{}));const{matched:d,consumedSegments:f,lastChild:m}=gf(e,r,i);if(!d)return Qa(e);const C=i.slice(m);return this.getChildConfig(t,r,i).pipe((0,Un.zg)(T=>{const x=T.module,R=T.routes,{segmentGroup:j,slicedSegments:ie}=Pd(e,f,C,R),pe=new Pt(j.segments,j.children);if(0===ie.length&&pe.hasChildren())return this.expandChildren(x,R,pe).pipe((0,$e.U)(tt=>new Pt(f,tt)));if(0===R.length&&0===ie.length)return(0,Le.of)(new Pt(f,{}));const Ae=so(r)===a;return this.expandSegment(x,pe,R,ie,Ae?pt:a,!0).pipe((0,$e.U)(et=>new Pt(f.concat(et.segments),et.children)))}))}getChildConfig(t,e,r){return e.children?(0,Le.of)(new tg(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,Le.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,r).pipe((0,Un.zg)(i=>{return i?this.configLoader.load(t.injector,e).pipe((0,$e.U)(a=>(e._loadedConfig=a,a))):(n=e,new mn.y(t=>t.error(zp(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))));var n})):(0,Le.of)(new tg([],t))}runCanLoadGuards(t,e,r){const i=e.canLoad;if(!i||0===i.length)return(0,Le.of)(!0);const a=i.map(d=>{const f=t.get(d);let m;if((n=f)&&Ms(n.canLoad))m=f.canLoad(e,r);else{if(!Ms(f))throw new Error("Invalid CanLoad guard");m=f(e,r)}var n;return br(m)});return(0,Le.of)(a).pipe(Jl(),(0,Tn.b)(d=>{if(!du(d))return;const f=zp(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw f.url=d,f}),(0,$e.U)(d=>!0===d))}lineralizeSegments(t,e){let r=[],i=e.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return(0,Le.of)(r);if(i.numberOfChildren>1||!i.children[pt])return cg(t.redirectTo);i=i.children[pt]}}applyRedirectCommands(t,e,r){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,r)}applyRedirectCreatreUrlTree(t,e,r,i){const a=this.createSegmentGroup(t,e.root,r,i);return new Yl(a,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const r={};return ar(t,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[a]=e[f]}else r[a]=i}),r}createSegmentGroup(t,e,r,i){const a=this.createSegments(t,e.segments,r,i);let d={};return ar(e.children,(f,m)=>{d[m]=this.createSegmentGroup(t,f,r,i)}),new Pt(a,d)}createSegments(t,e,r,i){return e.map(a=>a.path.startsWith(":")?this.findPosParam(t,a,i):this.findOrReturn(a,r))}findPosParam(t,e,r){const i=r[e.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return i}findOrReturn(t,e){let r=0;for(const i of e){if(i.path===t.path)return e.splice(r),i;r++}return t}}function Ds(n){const t={};for(const r of Object.keys(n.children)){const a=Ds(n.children[r]);(a.segments.length>0||a.hasChildren())&&(t[r]=a)}return function(n){if(1===n.numberOfChildren&&n.children[pt]){const t=n.children[pt];return new Pt(n.segments.concat(t.segments),t.children)}return n}(new Pt(n.segments,t))}class Ad{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class _i{constructor(t,e){this.component=t,this.route=e}}function V_(n,t,e){const r=n._root;return gu(r,t?t._root:null,e,[r.value])}function jr(n,t,e){const r=function(n){if(!n)return null;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:e).get(n)}function gu(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Ed(t);return n.children.forEach(d=>{(function(n,t,e,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,d=t?t.value:null,f=e?e.getContext(n.value.outlet):null;if(d&&a.routeConfig===d.routeConfig){const m=function(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!Za(n.url,t.url);case"pathParamsOrQueryParamsChange":return!Za(n.url,t.url)||!io(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!cu(n,t)||!io(n.queryParams,t.queryParams);case"paramsChange":default:return!cu(n,t)}}(d,a,a.routeConfig.runGuardsAndResolvers);m?i.canActivateChecks.push(new Ad(r)):(a.data=d.data,a._resolvedData=d._resolvedData),gu(n,t,a.component?f?f.children:null:e,r,i),m&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new _i(f.outlet.component,d))}else d&&Os(t,f,i),i.canActivateChecks.push(new Ad(r)),gu(n,null,a.component?f?f.children:null:e,r,i)})(d,a[d.value.outlet],e,r.concat([d.value]),i),delete a[d.value.outlet]}),ar(a,(d,f)=>Os(d,e.getContext(f),i)),i}function Os(n,t,e){const r=Ed(n),i=n.value;ar(r,(a,d)=>{Os(a,i.component?t?t.children.getContext(d):null:t,e)}),e.canDeactivateChecks.push(new _i(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class g{}function _(n){return new mn.y(t=>t.error(n))}class I{constructor(t,e,r,i,a,d){this.rootComponentType=t,this.config=e,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=d}recognize(){const t=Pd(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,pt);if(null===e)return null;const r=new df([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},pt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new oa(r,e),a=new Ya(this.url,i);return this.inheritParamsAndData(a._root),a}inheritParamsAndData(t){const e=t.value,r=I_(e,this.paramsInheritanceStrategy);e.params=Object.freeze(r.params),e.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,e,r){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,r)}processChildren(t,e){const r=[];for(const a of Object.keys(e.children)){const d=e.children[a],f=og(t,a),m=this.processSegmentGroup(f,d,a);if(null===m)return null;r.push(...m)}const i=Pe(r);return i.sort((t,e)=>t.value.outlet===pt?-1:e.value.outlet===pt?1:t.value.outlet.localeCompare(e.value.outlet)),i}processSegment(t,e,r,i){for(const a of t){const d=this.processSegmentAgainstRoute(a,e,r,i);if(null!==d)return d}return _f(e,r,i)?[]:null}processSegmentAgainstRoute(t,e,r,i){if(t.redirectTo||!lg(t,e,r,i))return null;let a,d=[],f=[];if("**"===t.path){const R=r.length>0?qa(r).parameters:{};a=new df(r,R,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Dt(t),so(t),t.component,t,We(e),Ke(e)+r.length,Kn(t))}else{const R=gf(e,t,r);if(!R.matched)return null;d=R.consumedSegments,f=r.slice(R.lastChild),a=new df(d,R.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Dt(t),so(t),t.component,t,We(e),Ke(e)+d.length,Kn(t))}const m=(n=t).children?n.children:n.loadChildren?n._loadedConfig.routes:[],{segmentGroup:C,slicedSegments:M}=Pd(e,d,f,m.filter(R=>void 0===R.redirectTo),this.relativeLinkResolution);var n;if(0===M.length&&C.hasChildren()){const R=this.processChildren(m,C);return null===R?null:[new oa(a,R)]}if(0===m.length&&0===M.length)return[new oa(a,[])];const T=so(t)===i,x=this.processSegment(m,C,M,T?pt:i);return null===x?null:[new oa(a,x)]}}function ce(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Pe(n){const t=[],e=new Set;for(const r of n){if(!ce(r)){t.push(r);continue}const i=t.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),e.add(i)):t.push(r)}for(const r of e){const i=Pe(r.children);t.push(new oa(r.value,i))}return t.filter(r=>!e.has(r))}function We(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Ke(n){let t=n,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function Dt(n){return n.data||{}}function Kn(n){return n.resolve||{}}function Fd(n){return Dn(t=>{const e=n(t);return e?(0,hn.D)(e).pipe((0,$e.U)(()=>t)):(0,Le.of)(t)})}class ug extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const kd=new l.OlP("ROUTES");class vf{constructor(t,e,r,i){this.loader=t,this.compiler=e,this.onLoadStartListener=r,this.onLoadEndListener=i}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const i=this.loadModuleFactory(e.loadChildren).pipe((0,$e.U)(a=>{this.onLoadEndListener&&this.onLoadEndListener(e);const d=a.create(t);return new tg(C_(d.injector.get(kd,void 0,l.XFs.Self|l.XFs.Optional)).map(pu),d)}),Qo(a=>{throw e._loader$=void 0,a}));return e._loader$=new Jh.c(i,()=>new it.xQ).pipe((0,$a.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,hn.D)(this.loader.load(t)):br(t()).pipe((0,Un.zg)(e=>e instanceof l.YKP?(0,Le.of)(e):(0,hn.D)(this.compiler.compileModuleAsync(e))))}}class Cf{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Xa,this.attachRef=null}}class Xa{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const r=this.getOrCreateContext(t);r.outlet=e,this.contexts.set(t,r)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Cf,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class BP{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function PM(n){throw n}function AM(n,t,e){return t.parse("/")}function mu(n,t){return(0,Le.of)(null)}const xM={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},FM={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let xi=(()=>{class n{constructor(e,r,i,a,d,f,m,C){this.rootComponentType=e,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=C,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new it.xQ,this.errorHandler=PM,this.malformedUriErrorHandler=AM,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:mu,afterPreactivation:mu},this.urlHandlingStrategy=new BP,this.routeReuseStrategy=new ug,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(l.h0i),this.console=d.get(l.c2e);const x=d.get(l.R0b);this.isNgZoneEnabled=x instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(C),this.currentUrlTree=new Yl(new Pt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new vf(f,m,R=>this.triggerEvent(new Qr(R)),R=>this.triggerEvent(new sr(R))),this.routerState=T_(this.currentUrlTree,this.rootComponentType),this.transitions=new Ir({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const r=this.events;return e.pipe(On(i=>0!==i.id),(0,$e.U)(i=>Object.assign(Object.assign({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Dn(i=>{let a=!1,d=!1;return(0,Le.of)(i).pipe((0,Tn.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.currentRawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Dn(f=>{const m=this.browserUrlTree.toString(),C=!this.navigated||f.extractedUrl.toString()!==m||m!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||C)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return Z_(f.source)&&(this.browserUrlTree=f.extractedUrl),(0,Le.of)(f).pipe(Dn(T=>{const x=this.transitions.getValue();return r.next(new z(T.id,this.serializeUrl(T.extractedUrl),T.source,T.restoredState)),x!==this.transitions.getValue()?Ur.E:Promise.resolve(T)}),function(n,t,e,r){return Dn(i=>function(n,t,e,r,i){return new N_(n,t,e,r,i).apply()}(n,t,e,i.extractedUrl,r).pipe((0,$e.U)(a=>Object.assign(Object.assign({},i),{urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Tn.b)(T=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:T.urlAfterRedirects})}),function(n,t,e,r,i){return(0,Un.zg)(a=>function(n,t,e,r,i="emptyOnly",a="legacy"){try{const d=new I(n,t,e,r,i,a).recognize();return null===d?_(new g):(0,Le.of)(d)}catch(d){return _(d)}}(n,t,a.urlAfterRedirects,e(a.urlAfterRedirects),r,i).pipe((0,$e.U)(d=>Object.assign(Object.assign({},a),{targetSnapshot:d}))))}(this.rootComponentType,this.config,T=>this.serializeUrl(T),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Tn.b)(T=>{"eager"===this.urlUpdateStrategy&&(T.extras.skipLocationChange||this.setBrowserUrl(T.urlAfterRedirects,T),this.browserUrlTree=T.urlAfterRedirects);const x=new He(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);r.next(x)}));if(C&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:x,extractedUrl:R,source:j,restoredState:ie,extras:pe}=f,Ae=new z(x,this.serializeUrl(R),j,ie);r.next(Ae);const Ge=T_(R,this.rootComponentType).snapshot;return(0,Le.of)(Object.assign(Object.assign({},f),{targetSnapshot:Ge,urlAfterRedirects:R,extras:Object.assign(Object.assign({},pe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=f.rawUrl,this.browserUrlTree=f.urlAfterRedirects,f.resolve(null),Ur.E}),Fd(f=>{const{targetSnapshot:m,id:C,extractedUrl:M,rawUrl:T,extras:{skipLocationChange:x,replaceUrl:R}}=f;return this.hooks.beforePreactivation(m,{navigationId:C,appliedUrlTree:M,rawUrlTree:T,skipLocationChange:!!x,replaceUrl:!!R})}),(0,Tn.b)(f=>{const m=new ze(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(m)}),(0,$e.U)(f=>Object.assign(Object.assign({},f),{guards:V_(f.targetSnapshot,f.currentSnapshot,this.rootContexts)})),function(n,t){return(0,Un.zg)(e=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:d}}=e;return 0===d.length&&0===a.length?(0,Le.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(n,t,e,r){return(0,hn.D)(n).pipe((0,Un.zg)(i=>function(n,t,e,r,i){const a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!a||0===a.length)return(0,Le.of)(!0);const d=a.map(f=>{const m=jr(f,t,i);let C;if(function(n){return n&&Ms(n.canDeactivate)}(m))C=br(m.canDeactivate(n,t,e,r));else{if(!Ms(m))throw new Error("Invalid CanDeactivate guard");C=br(m(n,t,e,r))}return C.pipe(or())});return(0,Le.of)(d).pipe(Jl())}(i.component,i.route,e,t,r)),or(i=>!0!==i,!0))}(d,r,i,n).pipe((0,Un.zg)(f=>f&&function(n){return"boolean"==typeof n}(f)?function(n,t,e,r){return(0,hn.D)(t).pipe(Jc(i=>Ks(function(n,t){return null!==n&&t&&t(new Xc(n)),(0,Le.of)(!0)}(i.route.parent,r),function(n,t){return null!==n&&t&&t(new eu(n)),(0,Le.of)(!0)}(i.route,r),function(n,t,e){const r=t[t.length-1],a=t.slice(0,t.length-1).reverse().map(d=>function(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(d)).filter(d=>null!==d).map(d=>pi(()=>{const f=d.guards.map(m=>{const C=jr(m,d.node,e);let M;if(function(n){return n&&Ms(n.canActivateChild)}(C))M=br(C.canActivateChild(r,n));else{if(!Ms(C))throw new Error("Invalid CanActivateChild guard");M=br(C(r,n))}return M.pipe(or())});return(0,Le.of)(f).pipe(Jl())}));return(0,Le.of)(a).pipe(Jl())}(n,i.path,e),function(n,t,e){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Le.of)(!0);const i=r.map(a=>pi(()=>{const d=jr(a,t,e);let f;if(function(n){return n&&Ms(n.canActivate)}(d))f=br(d.canActivate(t,n));else{if(!Ms(d))throw new Error("Invalid CanActivate guard");f=br(d(t,n))}return f.pipe(or())}));return(0,Le.of)(i).pipe(Jl())}(n,i.route,e))),or(i=>!0!==i,!0))}(r,a,n,t):(0,Le.of)(f)),(0,$e.U)(f=>Object.assign(Object.assign({},e),{guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,Tn.b)(f=>{if(du(f.guardsResult)){const C=zp(`Redirecting to "${this.serializeUrl(f.guardsResult)}"`);throw C.url=f.guardsResult,C}const m=new Ft(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(m)}),On(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,""),!1)),Fd(f=>{if(f.guards.canActivateChecks.length)return(0,Le.of)(f).pipe((0,Tn.b)(m=>{const C=new nn(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(C)}),Dn(m=>{let C=!1;return(0,Le.of)(m).pipe(function(n,t){return(0,Un.zg)(e=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=e;if(!i.length)return(0,Le.of)(e);let a=0;return(0,hn.D)(i).pipe(Jc(d=>function(n,t,e,r){return function(n,t,e,r){const i=Object.keys(n);if(0===i.length)return(0,Le.of)({});const a={};return(0,hn.D)(i).pipe((0,Un.zg)(d=>function(n,t,e,r){const i=jr(n,t,r);return br(i.resolve?i.resolve(t,e):i(t,e))}(n[d],t,e,r).pipe((0,Tn.b)(f=>{a[d]=f}))),tf(1),(0,Un.zg)(()=>Object.keys(a).length===i.length?(0,Le.of)(a):Ur.E))}(n._resolve,n,t,r).pipe((0,$e.U)(a=>(n._resolvedData=a,n.data=Object.assign(Object.assign({},n.data),I_(n,e).resolve),null)))}(d.route,r,n,t)),(0,Tn.b)(()=>a++),tf(1),(0,Un.zg)(d=>a===i.length?(0,Le.of)(e):Ur.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Tn.b)({next:()=>C=!0,complete:()=>{C||(this.restoreHistory(m),this.cancelNavigationTransition(m,"At least one route resolver didn't emit any value."))}}))}),(0,Tn.b)(m=>{const C=new Hn(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(C)}))}),Fd(f=>{const{targetSnapshot:m,id:C,extractedUrl:M,rawUrl:T,extras:{skipLocationChange:x,replaceUrl:R}}=f;return this.hooks.afterPreactivation(m,{navigationId:C,appliedUrlTree:M,rawUrlTree:T,skipLocationChange:!!x,replaceUrl:!!R})}),(0,$e.U)(f=>{const m=function(n,t,e){const r=uu(n,t._root,e?e._root:void 0);return new uf(r,t)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return Object.assign(Object.assign({},f),{targetRouterState:m})}),(0,Tn.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,t,e)=>(0,$e.U)(r=>(new eg(t,r.targetRouterState,r.currentRouterState,e).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,Tn.b)({next(){a=!0},complete(){a=!0}}),rf(()=>{var f;if(!a&&!d){const m=`Navigation ID ${i.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(i),this.cancelNavigationTransition(i,m)):this.cancelNavigationTransition(i,m)}(null===(f=this.currentNavigation)||void 0===f?void 0:f.id)===i.id&&(this.currentNavigation=null)}),Qo(f=>{if(d=!0,function(n){return n&&n[tu]}(f)){const m=du(f.url);m||(this.navigated=!0,this.restoreHistory(i,!0));const C=new he(i.id,this.serializeUrl(i.extractedUrl),f.message);r.next(C),m?setTimeout(()=>{const M=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),T={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Z_(i.source)};this.scheduleNavigation(M,"imperative",null,T,{resolve:i.resolve,reject:i.reject,promise:i.promise})},0):i.resolve(!1)}else{this.restoreHistory(i,!0);const m=new we(i.id,this.serializeUrl(i.extractedUrl),f);r.next(m);try{i.resolve(this.errorHandler(f))}catch(C){i.reject(C)}}return Ur.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const r=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:i,state:a,urlTree:d}=r,f={replaceUrl:!0};if(a){const m=Object.assign({},a);delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(f.state=m)}this.scheduleNavigation(d,i,a,f)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(e){var r;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(r=e.state)||void 0===r?void 0:r.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,r){if(!e)return!0;const i=r.urlTree.toString()===e.urlTree.toString();return r.transitionId!==e.transitionId||!i||!("hashchange"===r.source&&"popstate"===e.source||"popstate"===r.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){fu(e),this.config=e.map(pu),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,r={}){const{relativeTo:i,queryParams:a,fragment:d,queryParamsHandling:f,preserveFragment:m}=r,C=i||this.routerState.root,M=m?this.currentUrlTree.fragment:d;let T=null;switch(f){case"merge":T=Object.assign(Object.assign({},this.currentUrlTree.queryParams),a);break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=a||null}return null!==T&&(T=this.removeEmptyProps(T)),function(n,t,e,r,i){if(0===e.length)return x_(t.root,t.root,t,r,i);const a=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Dd(!0,0,n);let t=0,e=!1;const r=n.reduce((i,a,d)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return ar(a.outlets,(m,C)=>{f[C]="string"==typeof m?m.split("/"):m}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===d?(a.split("/").forEach((f,m)=>{0==m&&"."===f||(0==m&&""===f?e=!0:".."===f?t++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new Dd(e,t,r)}(e);if(a.toRoot())return x_(t.root,new Pt([],{}),t,r,i);const d=function(n,t,e){if(n.isAbsolute)return new Od(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const a=e.snapshot._urlSegment;return new Od(a,a===t.root,0)}const r=Md(n.commands[0])?0:1;return function(n,t,e){let r=n,i=t,a=e;for(;a>i;){if(a-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Od(r,!1,i-a)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(a,t,n),f=d.processChildren?Id(d.segmentGroup,d.index,a.commands):Td(d.segmentGroup,d.index,a.commands);return x_(d.segmentGroup,f,t,r,i)}(C,this.currentUrlTree,e,T,null!=M?M:null)}navigateByUrl(e,r={skipLocationChange:!1}){const i=du(e)?e:this.parseUrl(e),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(e,r={skipLocationChange:!1}){return function(n){for(let t=0;t<n.length;t++){const e=n[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,r),r)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let r;try{r=this.urlSerializer.parse(e)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,e)}return r}isActive(e,r){let i;if(i=!0===r?Object.assign({},xM):!1===r?Object.assign({},FM):r,du(e))return _d(this.currentUrlTree,e,i);const a=this.parseUrl(e);return _d(this.currentUrlTree,a,i)}removeEmptyProps(e){return Object.keys(e).reduce((r,i)=>{const a=e[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new te(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,r,i,a,d){var f,m;if(this.disposed)return Promise.resolve(!1);const C=this.getTransition(),M=Z_(r)&&C&&!Z_(C.source),R=(this.lastSuccessfulId===C.id||this.currentNavigation?C.rawUrl:C.urlAfterRedirects).toString()===e.toString();if(M&&R)return Promise.resolve(!0);let j,ie,pe;d?(j=d.resolve,ie=d.reject,pe=d.promise):pe=new Promise((et,tt)=>{j=et,ie=tt});const Ae=++this.navigationId;let Ge;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),Ge=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?null!==(f=this.browserPageId)&&void 0!==f?f:0:(null!==(m=this.browserPageId)&&void 0!==m?m:0)+1):Ge=0,this.setTransition({id:Ae,targetPageId:Ge,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:a,resolve:j,reject:ie,promise:pe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),pe.catch(et=>Promise.reject(et))}setBrowserUrl(e,r){const i=this.urlSerializer.serialize(e),a=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(e,r=!1){var i,a;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.currentNavigation)||void 0===i?void 0:i.finalUrl)||0===d?this.currentUrlTree===(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)&&0===d&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,r){const i=new he(e.id,this.serializeUrl(e.extractedUrl),r);this.triggerEvent(i),e.resolve(!1)}generateNgRouterState(e,r){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:r}:{navigationId:e}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.DyG),l.LFG(qp),l.LFG(Xa),l.LFG(xt),l.LFG(l.zs3),l.LFG(l.v3s),l.LFG(l.Sil),l.LFG(void 0))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Z_(n){return"imperative"!==n}let dg=(()=>{class n{constructor(e,r,i,a,d){this.router=e,this.route=r,this.commands=[],this.onChanges=new it.xQ,null==i&&a.setAttribute(d.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}onClick(){const e={skipLocationChange:Rd(this.skipLocationChange),replaceUrl:Rd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Rd(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(xi),l.Y36(lu),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,r){1&e&&l.NdJ("click",function(){return r.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[l.TTD]}),n})(),wf=(()=>{class n{constructor(e,r,i){this.router=e,this.route=r,this.locationStrategy=i,this.commands=[],this.onChanges=new it.xQ,this.subscription=e.events.subscribe(a=>{a instanceof te&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,r,i,a,d){if(0!==e||r||i||a||d||"string"==typeof this.target&&"_self"!=this.target)return!0;const f={skipLocationChange:Rd(this.skipLocationChange),replaceUrl:Rd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,f),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Rd(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(xi),l.Y36(lu),l.Y36(de))},n.\u0275dir=l.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,r){1&e&&l.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&e&&(l.Ikx("href",r.href,l.LSH),l.uIk("target",r.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[l.TTD]}),n})();function Rd(n){return""===n||!!n}let hg=(()=>{class n{constructor(e,r,i,a,d){this.parentContexts=e,this.location=r,this.resolver=i,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.name=a||pt,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,r){this.activated=e,this._activatedRoute=r,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const d=(r=r||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),f=this.parentContexts.getOrCreateContext(this.name).children,m=new Y_(e,f,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,m),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Xa),l.Y36(l.s_b),l.Y36(l._Vd),l.$8M("name"),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class Y_{constructor(t,e,r){this.route=t,this.childContexts=e,this.parent=r}get(t,e){return t===lu?this.route:t===Xa?this.childContexts:this.parent.get(t,e)}}class tC{}class rC{preload(t,e){return(0,Le.of)(null)}}let K_=(()=>{class n{constructor(e,r,i,a,d){this.router=e,this.injector=a,this.preloadingStrategy=d,this.loader=new vf(r,i,C=>e.triggerEvent(new Qr(C)),C=>e.triggerEvent(new sr(C)))}setUpPreloading(){this.subscription=this.router.events.pipe(On(e=>e instanceof te),Jc(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(l.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,r){const i=[];for(const a of r)if(a.loadChildren&&!a.canLoad&&a._loadedConfig){const d=a._loadedConfig;i.push(this.processRoutes(d.module,d.routes))}else a.loadChildren&&!a.canLoad?i.push(this.preloadConfig(e,a)):a.children&&i.push(this.processRoutes(e,a.children));return(0,hn.D)(i).pipe((0,Ko.J)(),(0,$e.U)(a=>{}))}preloadConfig(e,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,Le.of)(r._loadedConfig):this.loader.load(e.injector,r)).pipe((0,Un.zg)(a=>(r._loadedConfig=a,this.processRoutes(a.module,a.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(xi),l.LFG(l.v3s),l.LFG(l.Sil),l.LFG(l.zs3),l.LFG(tC))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Nd=(()=>{class n{constructor(e,r,i={}){this.router=e,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof z?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof te&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof ro&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,r){this.router.triggerEvent(new ro(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(xi),l.LFG(Al),l.LFG(void 0))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const _u=new l.OlP("ROUTER_CONFIGURATION"),RM=new l.OlP("ROUTER_FORROOT_GUARD"),NM=[xt,{provide:qp,useClass:iu},{provide:xi,useFactory:function(n,t,e,r,i,a,d,f={},m,C){const M=new xi(null,n,t,e,r,i,a,C_(d));return m&&(M.urlHandlingStrategy=m),C&&(M.routeReuseStrategy=C),function(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy)}(f,M),f.enableTracing&&M.events.subscribe(T=>{var x,R;null===(x=console.group)||void 0===x||x.call(console,`Router Event: ${T.constructor.name}`),console.log(T.toString()),console.log(T),null===(R=console.groupEnd)||void 0===R||R.call(console)}),M},deps:[qp,Xa,xt,l.zs3,l.v3s,l.Sil,kd,_u,[class{},new l.FiY],[class{},new l.FiY]]},Xa,{provide:lu,useFactory:function(n){return n.routerState.root},deps:[xi]},{provide:l.v3s,useClass:l.EAV},K_,rC,class{preload(t,e){return e().pipe(Qo(()=>(0,Le.of)(null)))}},{provide:_u,useValue:{enableTracing:!1}}];function iC(){return new l.PXZ("Router",xi)}let oC=(()=>{class n{constructor(e,r){}static forRoot(e,r){return{ngModule:n,providers:[NM,sC(e),{provide:RM,useFactory:HP,deps:[[xi,new l.FiY,new l.tp0]]},{provide:_u,useValue:r||{}},{provide:de,useFactory:LM,deps:[Z,[new l.tBr(Me),new l.FiY],_u]},{provide:Nd,useFactory:X2,deps:[xi,Al,_u]},{provide:tC,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:rC},{provide:l.PXZ,multi:!0,useFactory:iC},[aC,{provide:l.ip1,multi:!0,useFactory:VM,deps:[aC]},{provide:BM,useFactory:GP,deps:[aC]},{provide:l.tb,multi:!0,useExisting:BM}]]}}static forChild(e){return{ngModule:n,providers:[sC(e)]}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(RM,8),l.LFG(xi,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function X2(n,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new Nd(n,t,e)}function LM(n,t,e={}){return e.useHash?new Ue(n,t):new ke(n,t)}function HP(n){return"guarded"}function sC(n){return[{provide:l.deG,multi:!0,useValue:n},{provide:kd,multi:!0,useValue:n}]}let aC=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new it.xQ}appInitializer(){return this.injector.get(U,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const i=new Promise(f=>r=f),a=this.injector.get(xi),d=this.injector.get(_u);return"disabled"===d.initialNavigation?(a.setUpLocationChangeListener(),r(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(a.hooks.afterPreactivation=()=>this.initNavigation?(0,Le.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),a.initialNavigation()):r(!0),i})}bootstrapListener(e){const r=this.injector.get(_u),i=this.injector.get(K_),a=this.injector.get(Nd),d=this.injector.get(xi),f=this.injector.get(l.z2F);e===f.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&d.initialNavigation(),i.setUpPreloading(),a.init(),d.resetRootComponentType(f.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function VM(n){return n.appInitializer.bind(n)}function GP(n){return n.bootstrapListener.bind(n)}const BM=new l.OlP("Router Initializer");var UM=V(1555);function HM(...n){if(1===n.length){const t=n[0];if((0,zl.k)(t))return Q_(t,null);if((0,UM.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return Q_(e.map(r=>t[r]),e)}}if("function"==typeof n[n.length-1]){const t=n.pop();return Q_(n=1===n.length&&(0,zl.k)(n[0])?n[0]:n,null).pipe((0,$e.U)(e=>t(...e)))}return Q_(n,null)}function Q_(n,t){return new mn.y(e=>{const r=n.length;if(0===r)return void e.complete();const i=new Array(r);let a=0,d=0;for(let f=0;f<r;f++){const m=(0,hn.D)(n[f]);let C=!1;e.add(m.subscribe({next:M=>{C||(C=!0,d++),i[f]=M},error:M=>e.error(M),complete:()=>{a++,(a===r||!C)&&(d===r&&e.next(t?t.reduce((M,T,x)=>(M[T]=i[x],M),{}):i),e.complete())}}))}})}let jM=(()=>{class n{constructor(e,r){this._renderer=e,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(e,r){this._renderer.setProperty(this._elementRef.nativeElement,e,r)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),ut=(()=>{class n extends jM{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const xo=new l.OlP("NgValueAccessor"),ca={provide:xo,useExisting:(0,l.Gpc)(()=>yu),multi:!0},qP=new l.OlP("CompositionEventMode");let yu=(()=>{class n extends jM{constructor(e,r,i){super(e,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=B()?B().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(qP,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,r){1&e&&l.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[l._Bn([ca]),l.qOj]}),n})();function Fi(n){return null==n||0===n.length}function J_(n){return null!=n&&"number"==typeof n.length}const yi=new l.OlP("NgValidators"),el=new l.OlP("NgAsyncValidators"),tV=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class lr{static min(t){return n=t,t=>{if(Fi(t.value)||Fi(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null};var n}static max(t){return n=t,t=>{if(Fi(t.value)||Fi(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null};var n}static required(t){return Fi(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Fi((n=t).value)||tV.test(n.value)?null:{email:!0};var n}static minLength(t){return n=t,t=>Fi(t.value)||!J_(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null;var n}static maxLength(t){return n=t,t=>J_(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null;var n}static pattern(t){return function(n){if(!n)return Ld;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),r=>{if(Fi(r.value))return null;const i=r.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return QP(t)}static composeAsync(t){return JP(t)}}function Ld(n){return null}function qM(n){return null!=n}function YP(n){const t=(0,l.QGY)(n)?(0,hn.D)(n):n;return(0,l.CqO)(t),t}function cC(n){let t={};return n.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function uC(n,t){return t.map(e=>e(n))}function ey(n){return n.map(t=>function(n){return!n.validate}(t)?t:e=>t.validate(e))}function QP(n){if(!n)return null;const t=n.filter(qM);return 0==t.length?null:function(e){return cC(uC(e,t))}}function WM(n){return null!=n?QP(ey(n)):null}function JP(n){if(!n)return null;const t=n.filter(qM);return 0==t.length?null:function(e){return HM(uC(e,t).map(YP)).pipe((0,$e.U)(cC))}}function ZM(n){return null!=n?JP(ey(n)):null}function XP(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function eA(n){return n._rawValidators}function tA(n){return n._rawAsyncValidators}function YM(n){return n?Array.isArray(n)?n:[n]:[]}function dC(n,t){return Array.isArray(n)?n.includes(t):n===t}function nA(n,t){const e=YM(t);return YM(n).forEach(i=>{dC(e,i)||e.push(i)}),e}function rA(n,t){return YM(t).filter(e=>!dC(n,e))}let nc=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=WM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ZM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,r){return!!this.control&&this.control.hasError(e,r)}getError(e,r){return this.control?this.control.getError(e,r):null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n}),n})(),bi=(()=>{class n extends nc{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();class nl extends nc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class hC{constructor(t){this._cd=t}is(t){var e,r,i;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(i=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===i?void 0:i[t])}}let Vd=(()=>{class n extends hC{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(nl,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,r){2&e&&l.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[l.qOj]}),n})(),fC=(()=>{class n extends hC{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(bi,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,r){2&e&&l.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[l.qOj]}),n})();function rc(n,t){return[...t.path,n]}function ic(n,t){ry(n,t),t.valueAccessor.writeValue(n.value),function(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&yg(n,t)})}(n,t),function(n,t){const e=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&yg(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function(n,t){if(t.valueAccessor.setDisabledState){const e=r=>{t.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function oc(n,t,e=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Ef(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function ny(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function ry(n,t){const e=eA(n);null!==t.validator?n.setValidators(XP(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const r=tA(n);null!==t.asyncValidator?n.setAsyncValidators(XP(r,t.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();ny(t._rawValidators,i),ny(t._rawAsyncValidators,i)}function Ef(n,t){let e=!1;if(null!==n){if(null!==t.validator){const i=eA(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(d=>d!==t.validator);a.length!==i.length&&(e=!0,n.setValidators(a))}}if(null!==t.asyncValidator){const i=tA(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(d=>d!==t.asyncValidator);a.length!==i.length&&(e=!0,n.setAsyncValidators(a))}}}const r=()=>{};return ny(t._rawValidators,r),ny(t._rawAsyncValidators,r),e}function yg(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function _C(n,t){ry(n,t)}function yC(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function nD(n,t){n._syncPendingControls(),t.forEach(e=>{const r=e.control;"submit"===r.updateOn&&r._pendingChange&&(e.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function bC(n,t){if(!t)return null;let e,r,i;return Array.isArray(t),t.forEach(a=>{a.constructor===yu?e=a:function(n){return Object.getPrototypeOf(n.constructor)===ut}(a)?r=a:i=a}),i||r||e||null}function ki(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}const bg="VALID",vC="INVALID",vg="PENDING",Mf="DISABLED";function CC(n){return(wC(n)?n.validators:n)||null}function iy(n){return Array.isArray(n)?WM(n):n||null}function oy(n,t){return(wC(t)?t.asyncValidators:n)||null}function rD(n){return Array.isArray(n)?ZM(n):n||null}function wC(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class EC{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=iy(this._rawValidators),this._composedAsyncValidatorFn=rD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===bg}get invalid(){return this.status===vC}get pending(){return this.status==vg}get disabled(){return this.status===Mf}get enabled(){return this.status!==Mf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=iy(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=rD(t)}addValidators(t){this.setValidators(nA(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(nA(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(rA(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(rA(t,this._rawAsyncValidators))}hasValidator(t){return dC(this._rawValidators,t)}hasAsyncValidator(t){return dC(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=vg,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Mf,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=bg,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===bg||this.status===vg)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Mf:bg}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=vg,this._hasOwnPendingAsyncValidator=!0;const e=YP(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(n,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let r=n;return t.forEach(i=>{r=r instanceof Cg?r.controls.hasOwnProperty(i)?r.controls[i]:null:r instanceof iD&&r.at(i)||null}),r}(this,t)}getError(t,e){const r=e?this.get(e):this;return r&&r.errors?r.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Mf:this.errors?vC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(vg)?vg:this._anyControlsHaveStatus(vC)?vC:bg}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){wC(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ts extends EC{constructor(t=null,e,r){super(CC(e),oy(r,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){ki(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){ki(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Cg extends EC{constructor(t,e,r){super(CC(e),oy(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,r={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,r)=>(t[r]=e instanceof Ts?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,r)=>!!r._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const r=this.controls[e];r&&t(r,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const r=this.controls[e];if(this.contains(e)&&t(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,r)=>((e.enabled||this.disabled)&&(t[r]=e.value),t))}_reduceChildren(t,e){let r=t;return this._forEachChild((i,a)=>{r=e(r,i,a)}),r}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,r)=>{if(void 0===t[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class iD extends EC{constructor(t,e,r){super(CC(e),oy(r,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,r={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((r,i)=>{this._throwIfControlMissing(i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Ts?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,r)=>!!r._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,r)=>{t(e,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,r)=>{if(void 0===t[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const cA={provide:bi,useExisting:(0,l.Gpc)(()=>Of)},Df=(()=>Promise.resolve(null))();let Of=(()=>{class n extends bi{constructor(e,r){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new l.vpe,this.form=new Cg({},WM(e),ZM(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Df.then(()=>{const r=this._findContainer(e.path);e.control=r.registerControl(e.name,e.control),ic(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Df.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name),ki(this._directives,e)})}addFormGroup(e){Df.then(()=>{const r=this._findContainer(e.path),i=new Cg({});_C(i,e),r.registerControl(e.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Df.then(()=>{const r=this._findContainer(e.path);r&&r.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,r){Df.then(()=>{this.form.get(e.path).setValue(r)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,nD(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(yi,10),l.Y36(el,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,r){1&e&&l.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([cA]),l.qOj]}),n})();const uA={provide:nl,useExisting:(0,l.Gpc)(()=>Tf)},aD=(()=>Promise.resolve(null))();let Tf=(()=>{class n extends nl{constructor(e,r,i,a){super(),this.control=new Ts,this._registered=!1,this.update=new l.vpe,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=bC(0,a)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),yC(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?rc(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){ic(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){aD.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const r=e.isDisabled.currentValue,i=""===r||r&&"false"!==r;aD.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable()})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(bi,9),l.Y36(yi,10),l.Y36(el,10),l.Y36(xo,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[l._Bn([uA]),l.qOj,l.TTD]}),n})(),DC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),sy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Eg=new l.OlP("NgModelWithFormControlWarning"),uD={provide:bi,useExisting:(0,l.Gpc)(()=>bu)};let bu=(()=>{class n extends bi{constructor(e,r){super(),this.validators=e,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(e),this._setAsyncValidators(r)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ef(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const r=this.form.get(e.path);return ic(r,e),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),r}getControl(e){return this.form.get(e.path)}removeControl(e){oc(e.control||null,e,!1),ki(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,r){this.form.get(e.path).setValue(r)}onSubmit(e){return this.submitted=!0,nD(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const r=e.control,i=this.form.get(e.path);r!==i&&(oc(r||null,e),i instanceof Ts&&(ic(i,e),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const r=this.form.get(e.path);_C(r,e),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const r=this.form.get(e.path);r&&function(n,t){return Ef(n,t)}(r,e)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ry(this.form,this),this._oldForm&&Ef(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(yi,10),l.Y36(el,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,r){1&e&&l.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([uD]),l.qOj,l.TTD]}),n})();const fA={provide:nl,useExisting:(0,l.Gpc)(()=>ly)};let ly=(()=>{class n extends nl{constructor(e,r,i,a,d){super(),this._ngModelWarningConfig=d,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=bC(0,a)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),yC(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return rc(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(bi,13),l.Y36(yi,10),l.Y36(el,10),l.Y36(xo,10),l.Y36(Eg,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([fA]),l.qOj,l.TTD]}),n._ngModelWarningSentOnce=!1,n})(),fy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[sy]]}),n})(),EA=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[fy]}),n})(),bD=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Eg,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[fy]}),n})();var Is=V(6682),Sf=V(9746),OA=V(7771),TA=V(8858);class Og extends it.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new xC(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,r=e?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,a=r.length;let d;if(this.closed)throw new fd.N;if(this.isStopped||this.hasError?d=yr.w.EMPTY:(this.observers.push(t),d=new TA.W(this,t)),i&&t.add(t=new Sf.ht(t,i)),e)for(let f=0;f<a&&!t.closed;f++)t.next(r[f]);else for(let f=0;f<a&&!t.closed;f++)t.next(r[f].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),d}_getNow(){return(this.scheduler||OA.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,r=this._windowTime,i=this._events,a=i.length;let d=0;for(;d<a&&!(t-i[d].time<r);)d++;return a>e&&(d=Math.max(d,a-e)),d>0&&i.splice(0,d),i}}class xC{constructor(t,e){this.time=t,this.value=e}}function py(n,t,e){let r;return r=n&&"object"==typeof n?n:{bufferSize:n,windowTime:t,refCount:!1,scheduler:e},i=>i.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:e,scheduler:r}){let i,d,a=0,f=!1,m=!1;return function(M){let T;a++,!i||f?(f=!1,i=new Og(n,t,r),T=i.subscribe(this),d=M.subscribe({next(x){i.next(x)},error(x){f=!0,i.error(x)},complete(){m=!0,d=void 0,i.complete()}}),m&&(d=void 0)):T=i.subscribe(this),this.add(()=>{a--,T.unsubscribe(),T=void 0,d&&!m&&e&&0===a&&(d.unsubscribe(),d=void 0,i=void 0)})}}(r))}function FC(n,t){return t?Dn(()=>n,t):Dn(()=>n)}var gy=V(9673),xn=V(2324),ao=V(8939);V(2329);var _e=V(8239),Ss=V(8026),ol=V(3910),L=V(3854),sl=V(5422);const NC=new Map,LC={activated:!1,tokenObservers:[]},PA={initialized:!1,enabled:!1};function Sr(n){return NC.get(n)||LC}function da(n,t){NC.set(n,t)}function _y(){return PA}class MD{constructor(t,e,r,i,a){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,_e.Z)(function*(){e.stop();try{e.pending=new L.BH,yield(n=e.getNextRun(t),new Promise(t=>{setTimeout(t,n)})),e.pending.resolve(),yield e.pending.promise,e.pending=new L.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(r){e.retryPolicy(r)?e.process(!1).catch(()=>{}):e.stop()}var n})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const lo=new L.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function by(n){if(!Sr(n).activated)throw lo.create("use-before-activation",{appName:n.name})}function ac(n,t){return Af.apply(this,arguments)}function Af(){return(Af=(0,_e.Z)(function*({url:n,body:t},e){const r={"Content-Type":"application/json"},i=e.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const a={method:"POST",body:JSON.stringify(t),headers:r};let d,f;try{d=yield fetch(n,a)}catch(T){throw lo.create("fetch-network-error",{originalErrorMessage:T.message})}if(200!==d.status)throw lo.create("fetch-status-error",{httpStatus:d.status});try{f=yield d.json()}catch(T){throw lo.create("fetch-parse-error",{originalErrorMessage:T.message})}const m=f.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw lo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const C=1e3*Number(m[1]),M=Date.now();return{token:f.attestationToken,expireTimeMillis:M+C,issuedAtTimeMillis:M}})).apply(this,arguments)}function xf(n,t){const{projectId:e,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${e}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:t}}}const ll="firebase-app-check-store";let lc=null;function zd(){return lc||(lc=new Promise((n,t)=>{try{const e=indexedDB.open("firebase-app-check-database",1);e.onsuccess=r=>{n(r.target.result)},e.onerror=r=>{var i;t(lo.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},e.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(ll,{keyPath:"compositeKey"})}}}catch(e){t(lo.create("storage-open",{originalErrorMessage:e.message}))}}),lc)}function vy(){return(vy=(0,_e.Z)(function*(n,t){const r=(yield zd()).transaction(ll,"readwrite"),a=r.objectStore(ll).put({compositeKey:n,value:t});return new Promise((d,f)=>{a.onsuccess=m=>{d()},r.onerror=m=>{var C;f(lo.create("storage-set",{originalErrorMessage:null===(C=m.target.error)||void 0===C?void 0:C.message}))}})})).apply(this,arguments)}const Lf=new sl.Yd("@firebase/app-check");function GC(n,t){return(0,L.hl)()?function(n,t){return function(n,t){return vy.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{Lf.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function $C(){return _y().enabled}function ID(){return SD.apply(this,arguments)}function SD(){return(SD=(0,_e.Z)(function*(){const n=_y();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const PD={error:"UNKNOWN_ERROR"};function NA(n){return L.US.encodeString(JSON.stringify(n),!1)}function Sg(n){return qC.apply(this,arguments)}function qC(){return(qC=(0,_e.Z)(function*(n,t=!1){const e=n.app;by(e);const r=Sr(e);let a,i=r.token;if(!i){const m=yield r.cachedTokenPromise;m&&ZC(m)&&(i=m)}if(!t&&i&&ZC(i))return{token:i.token};let f,d=!1;if($C()){r.exchangeTokenPromise||(r.exchangeTokenPromise=ac(xf(e,yield ID()),n.platformLoggerProvider).then(C=>(r.exchangeTokenPromise=void 0,C)),d=!0);const m=yield r.exchangeTokenPromise;return yield GC(e,m),da(e,Object.assign(Object.assign({},r),{token:m})),{token:m.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(m=>(r.exchangeTokenPromise=void 0,m)),d=!0),i=yield r.exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?Lf.warn(m.message):Lf.error(m),a=m}return i?(f={token:i.token},da(e,Object.assign(Object.assign({},r),{token:i})),yield GC(e,i)):f=CV(a),d&&LA(e,f),f})).apply(this,arguments)}function AD(n,t){const e=Sr(n),r=e.tokenObservers.filter(i=>i.next!==t);0===r.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),da(n,Object.assign(Object.assign({},e),{tokenObservers:r}))}function xD(n){const{app:t}=n,e=Sr(t);let r=e.tokenRefresher;r||(r=function(n){const{app:t}=n;return new MD((0,_e.Z)(function*(){let r;if(r=Sr(t).token?yield Sg(n,!0):yield Sg(n),r.error)throw r.error}),()=>!0,()=>{const e=Sr(t);if(e.token){let r=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,e.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),da(t,Object.assign(Object.assign({},e),{tokenRefresher:r}))),!r.isRunning()&&e.isTokenAutoRefreshEnabled&&r.start()}function LA(n,t){const e=Sr(n).tokenObservers;for(const r of e)try{"EXTERNAL"===r.type&&null!=t.error?r.error(t.error):r.next(t)}catch(i){}}function ZC(n){return n.expireTimeMillis-Date.now()>0}function CV(n){return{token:NA(PD),error:n}}class VA{constructor(t,e){this.app=t,this.platformLoggerProvider=e}_delete(){const{tokenObservers:t}=Sr(this.app);for(const e of t)AD(this.app,e.next);return Promise.resolve()}}const BD="app-check-internal";(0,Ss._registerComponent)(new ol.wA("app-check",n=>function(n,t){return new VA(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(BD).initialize()})),(0,Ss._registerComponent)(new ol.wA(BD,n=>function(n){return{getToken:t=>Sg(n,t),addTokenListener:t=>function(n,t,e,r){const{app:i}=n,a=Sr(i),d={next:e,error:r,type:t};if(da(i,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,d]})),a.token&&ZC(a.token)){const f=a.token;Promise.resolve().then(()=>{e({token:f.token}),xD(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>xD(n))}(n,"INTERNAL",t),removeTokenListener:t=>AD(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ss.registerVersion)("@firebase/app-check","0.5.2");class rw{constructor(){return(0,xn.vb)("app-check")}}"undefined"!=typeof window&&window;var lw=V(7841);const Fg=new l.OlP("angularfire2.auth.use-emulator"),Ey=new l.OlP("angularfire2.auth.settings"),kg=new l.OlP("angularfire2.auth.tenant-id"),Rg=new l.OlP("angularfire2.auth.langugage-code"),Ng=new l.OlP("angularfire2.auth.use-device-language"),cw=new l.OlP("angularfire.auth.persistence"),My=(n,t,e,r,i,a,d,f)=>(0,ao.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const m=t.runOutsideAngular(()=>n.auth());if(e&&m.useEmulator(...e),r&&(m.tenantId=r),m.languageCode=i,a&&m.useDeviceLanguage(),d)for(const[C,M]of Object.entries(d))m.settings[C]=M;return f&&m.setPersistence(f),m},[e,r,i,a,d,f]);let Bf=(()=>{class n{constructor(e,r,i,a,d,f,m,C,M,T,x,R){const j=new it.xQ,ie=(0,Le.of)(void 0).pipe((0,Sf.QV)(d.outsideAngular),Dn(()=>a.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,941)))),(0,$e.U)(()=>(0,ao.on)(e,a,r)),(0,$e.U)(pe=>My(pe,a,f,C,M,T,m,x)),py({bufferSize:1,refCount:!1}));if(Fc(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Le.of)(null);else{ie.pipe(or()).subscribe();const Ae=ie.pipe(Dn(tt=>tt.getRedirectResult().then(vn=>vn,()=>null)),xn.iC,py({bufferSize:1,refCount:!1})),Ge=ie.pipe(Dn(tt=>new mn.y(vn=>({unsubscribe:a.runOutsideAngular(()=>tt.onAuthStateChanged(Mr=>vn.next(Mr),Mr=>vn.error(Mr),()=>vn.complete()))})))),et=ie.pipe(Dn(tt=>new mn.y(vn=>({unsubscribe:a.runOutsideAngular(()=>tt.onIdTokenChanged(Mr=>vn.next(Mr),Mr=>vn.error(Mr),()=>vn.complete()))}))));this.authState=Ae.pipe(FC(Ge),(0,gy.R)(d.outsideAngular),(0,Sf.QV)(d.insideAngular)),this.user=Ae.pipe(FC(et),(0,gy.R)(d.outsideAngular),(0,Sf.QV)(d.insideAngular)),this.idToken=this.user.pipe(Dn(tt=>tt?(0,hn.D)(tt.getIdToken()):(0,Le.of)(null))),this.idTokenResult=this.user.pipe(Dn(tt=>tt?(0,hn.D)(tt.getIdTokenResult()):(0,Le.of)(null))),this.credential=(0,Is.T)(Ae,j,this.authState.pipe(On(tt=>!tt))).pipe((0,$e.U)(tt=>(null==tt?void 0:tt.user)?tt:null),(0,gy.R)(d.outsideAngular),(0,Sf.QV)(d.insideAngular))}return(0,ao.pX)(this,ie,a,{spy:{apply:(pe,Ae,Ge)=>{(pe.startsWith("signIn")||pe.startsWith("createUser"))&&Ge.then(et=>j.next(et))}}})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ao.Dh),l.LFG(ao.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(xn.HU),l.LFG(Fg,8),l.LFG(Ey,8),l.LFG(kg,8),l.LFG(Rg,8),l.LFG(Ng,8),l.LFG(cw,8),l.LFG(rw,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Dy=(()=>{class n{constructor(e,r){this.auth=e,this.router=r}signIn(e,r){this.auth.signInWithEmailAndPassword(e,r).then(()=>{this.router.navigate(["/"])}).catch(i=>console.log(i))}signInAsGuest(){this.auth.signInAnonymously().then(()=>{this.router.navigate(["/"])})}signOut(){this.auth.signOut().then(()=>this.router.navigate(["login"]))}registerUser(e,r){this.auth.createUserWithEmailAndPassword(e,r)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Bf),l.LFG(xi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function rn(n){return null!=n&&"false"!=`${n}`}function uw(n){return Array.isArray(n)?n:[n]}function cr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function cl(n){return n instanceof l.SBq?n.nativeElement:n}var Gd=V(3637);function dw(n,t=Gd.P){return e=>e.lift(new ZD(n,t))}class ZD{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new YD(t,this.dueTime,this.scheduler))}}class YD extends tn.L{constructor(t,e,r){super(t),this.dueTime=e,this.scheduler=r,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(KD,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function KD(n){n.debouncedNext()}let xy,Oy=(()=>{class n{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})(),ZA=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,r)=>this._cleanupObserver(r))}observe(e){const r=cl(e);return new mn.y(i=>{const d=this._observeElement(r).subscribe(i);return()=>{d.unsubscribe(),this._unobserveElement(r)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const r=new it.xQ,i=this._mutationObserverFactory.create(a=>r.next(a));i&&i.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:i,stream:r,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:r,stream:i}=this._observedElements.get(e);r&&r.disconnect(),i.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Oy))},n.\u0275prov=l.Yz7({factory:function(){return new n(l.LFG(Oy))},token:n,providedIn:"root"}),n})(),YA=(()=>{class n{constructor(e,r,i){this._contentObserver=e,this._elementRef=r,this._ngZone=i,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=rn(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=function(n,t=0){return function(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(dw(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){var e;null===(e=this._currentSubscription)||void 0===e||e.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(ZA),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),QD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Oy]}),n})();function Eu(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}class Ug{constructor(t){this.total=t}call(t,e){return e.subscribe(new Ux(t,this.total))}}class Ux extends tn.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){++this.count>this.total&&this.destination.next(t)}}function Hg(n,t){return e=>e.lift(new Hx(n,t))}class Hx{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new lO(t,this.compare,this.keySelector))}}class lO extends tn.L{constructor(t,e,r){super(t),this.keySelector=r,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:i}=this;e=i?i(t):t}catch(i){return this.destination.error(i)}let r=!1;if(this.hasKey)try{const{compare:i}=this;r=i(this.key,e)}catch(i){return this.destination.error(i)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))}}function Gn(n){return t=>t.lift(new cO(n))}class cO{constructor(t){this.notifier=t}call(t,e){const r=new jx(t),i=(0,Pi.ft)(this.notifier,new Pi.IY(r));return i&&!r.seenValue?(r.add(i),e.subscribe(r)):r}}class jx extends Pi.Ds{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}try{xy="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(n){xy=!1}let zg,In=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function(n){return"browser"===n}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!xy)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({factory:function(){return new n(l.LFG(l.Lbi))},token:n,providedIn:"root"}),n})(),jg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const zx=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Gx(){if(zg)return zg;if("object"!=typeof document||!document)return zg=new Set(zx),zg;let n=document.createElement("input");return zg=new Set(zx.filter(t=>(n.setAttribute("type",t),n.type===t))),zg}let Fy,Wd,bw;function uc(n){return function(){if(null==Fy&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Fy=!0}))}finally{Fy=Fy||!1}return Fy}()?n:!!n.capture}function yw(){if(null==Wd){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Wd=!1,Wd;if("scrollBehavior"in document.documentElement.style)Wd=!0;else{const n=Element.prototype.scrollTo;Wd=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Wd}function Ry(){let n="undefined"!=typeof document&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Zd(n){return n.composedPath?n.composedPath()[0]:n.target}function Ny(){return"undefined"!=typeof __karma__&&!!__karma__||"undefined"!=typeof jasmine&&!!jasmine||"undefined"!=typeof jest&&!!jest||"undefined"!=typeof Mocha&&!!Mocha}class eF extends class{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new it.xQ,this._typeaheadSubscription=yr.w.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new it.xQ,this.change=new it.xQ,t instanceof l.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const i=e.toArray().indexOf(this._activeItem);i>-1&&i!==this._activeItemIndex&&(this._activeItemIndex=i)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,Tn.b)(e=>this._pressedLetters.push(e)),dw(t),On(()=>this._pressedLetters.length>0),(0,$e.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const r=this._getItemsArray();for(let i=1;i<r.length+1;i++){const a=(this._activeItemIndex+i)%r.length,d=r[a];if(!this._skipPredicateFn(d)&&0===d.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(a);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,i=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!t[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&i){this.setNextItemActive();break}return;case 38:if(this._vertical&&i){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&i){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&i){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&i){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&i){this.setLastItemActive();break}return;default:return void((i||Eu(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),r="number"==typeof t?t:e.indexOf(t),i=e[r];this._activeItem=null==i?null:i,this._activeItemIndex=r}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let r=1;r<=e.length;r++){const i=(this._activeItemIndex+t*r+e.length)%e.length;if(!this._skipPredicateFn(e[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const r=this._getItemsArray();if(r[t]){for(;this._skipPredicateFn(r[t]);)if(!r[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof l.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let Ly=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const r=function(n){try{return n.frameElement}catch(t){return null}}(function(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(r&&(-1===mO(r)||!this.isVisible(r)))return!1;let i=e.nodeName.toLowerCase(),a=mO(e);return e.hasAttribute("contenteditable")?-1!==a:!("iframe"===i||"object"===i||this._platform.WEBKIT&&this._platform.IOS&&!function(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===i?!!e.hasAttribute("controls")&&-1!==a:"video"===i?-1!==a&&(null!==a||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,r){return function(n){return!function(n){return function(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function(n){return function(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||gO(n))}(e)&&!this.isDisabled(e)&&((null==r?void 0:r.ignoreVisibility)||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(In))},n.\u0275prov=l.Yz7({factory:function(){return new n(l.LFG(In))},token:n,providedIn:"root"}),n})();function gO(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function mO(n){if(!gO(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class lF{constructor(t,e,r,i,a=!1){this._element=t,this._checker=e,this._ngZone=r,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);for(let r=0;r<e.length;r++)e[r].hasAttribute(`cdk-focus-${t}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[r]):e[r].hasAttribute(`cdk-focus-region-${t}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${t}', use 'cdkFocusRegion${t}' instead. The deprecated attribute will be removed in 8.0.0.`,e[r]);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),!this._checker.isFocusable(e)){const r=this._getFirstTabbableElement(e);return null==r||r.focus(t),!!r}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let r=0;r<e.length;r++){let i=e[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[r]):null;if(i)return i}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children||t.childNodes;for(let r=e.length-1;r>=0;r--){let i=e[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[r]):null;if(i)return i}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(_r(1)).subscribe(t)}}let bO=(()=>{class n{constructor(e,r,i){this._checker=e,this._ngZone=r,this._document=i}create(e,r=!1){return new lF(e,this._checker,this._ngZone,this._document,r)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Ly),l.LFG(l.R0b),l.LFG(K))},n.\u0275prov=l.Yz7({factory:function(){return new n(l.LFG(Ly),l.LFG(l.R0b),l.LFG(K))},token:n,providedIn:"root"}),n})();function $g(n){return 0===n.offsetX&&0===n.offsetY}function Ew(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}"undefined"!=typeof Element&&Element;const Mw=new l.OlP("cdk-input-modality-detector-options"),dF={ignoreKeys:[18,17,224,91,16]},Yd=uc({passive:!0,capture:!0});let Ow=(()=>{class n{constructor(e,r,i,a){this._platform=e,this._mostRecentTarget=null,this._modality=new Ir(null),this._lastTouchMs=0,this._onKeydown=d=>{var f,m;(null===(m=null===(f=this._options)||void 0===f?void 0:f.ignoreKeys)||void 0===m?void 0:m.some(C=>C===d.keyCode))||(this._modality.next("keyboard"),this._mostRecentTarget=Zd(d))},this._onMousedown=d=>{Date.now()-this._lastTouchMs<650||(this._modality.next($g(d)?"keyboard":"mouse"),this._mostRecentTarget=Zd(d))},this._onTouchstart=d=>{Ew(d)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Zd(d))},this._options=Object.assign(Object.assign({},dF),a),this.modalityDetected=this._modality.pipe(t=>t.lift(new Ug(1))),this.modalityChanged=this.modalityDetected.pipe(Hg()),e.isBrowser&&r.runOutsideAngular(()=>{i.addEventListener("keydown",this._onKeydown,Yd),i.addEventListener("mousedown",this._onMousedown,Yd),i.addEventListener("touchstart",this._onTouchstart,Yd)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Yd),document.removeEventListener("mousedown",this._onMousedown,Yd),document.removeEventListener("touchstart",this._onTouchstart,Yd))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(In),l.LFG(l.R0b),l.LFG(K),l.LFG(Mw,8))},n.\u0275prov=l.Yz7({factory:function(){return new n(l.LFG(In),l.LFG(l.R0b),l.LFG(K),l.LFG(Mw,8))},token:n,providedIn:"root"}),n})();const qg=new l.OlP("cdk-focus-monitor-default-options"),Vy=uc({passive:!0,capture:!0});let As=(()=>{class n{constructor(e,r,i,a,d){this._ngZone=e,this._platform=r,this._inputModalityDetector=i,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new it.xQ,this._rootNodeFocusAndBlurListener=f=>{const m=Zd(f),C="focus"===f.type?this._onFocus:this._onBlur;for(let M=m;M;M=M.parentElement)C.call(this,f,M)},this._document=a,this._detectionMode=(null==d?void 0:d.detectionMode)||0}monitor(e,r=!1){const i=cl(e);if(!this._platform.isBrowser||1!==i.nodeType)return(0,Le.of)(null);const a=function(n){if(function(){if(null==bw){const n="undefined"!=typeof document?document.head:null;bw=!(!n||!n.createShadowRoot&&!n.attachShadow)}return bw}()){const t=n.getRootNode?n.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}(i)||this._getDocument(),d=this._elementInfo.get(i);if(d)return r&&(d.checkChildren=!0),d.subject;const f={checkChildren:r,subject:new it.xQ,rootNode:a};return this._elementInfo.set(i,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(e){const r=cl(e),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(e,r,i){const a=cl(e);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,m])=>this._originChanged(f,r,m)):(this._setOrigin(r),"function"==typeof a.focus&&a.focus(i))}ngOnDestroy(){this._elementInfo.forEach((e,r)=>this.stopMonitoring(r))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,r,i){i?e.classList.add(r):e.classList.remove(r)}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!(null==e?void 0:e.contains(this._inputModalityDetector._mostRecentTarget))}_setClasses(e,r){this._toggleClass(e,"cdk-focused",!!r),this._toggleClass(e,"cdk-touch-focused","touch"===r),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===r),this._toggleClass(e,"cdk-mouse-focused","mouse"===r),this._toggleClass(e,"cdk-program-focused","program"===r)}_setOrigin(e,r=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&r,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,r){const i=this._elementInfo.get(r),a=Zd(e);!i||!i.checkChildren&&r!==a||this._originChanged(r,this._getFocusOrigin(a),i)}_onBlur(e,r){const i=this._elementInfo.get(r);!i||i.checkChildren&&e.relatedTarget instanceof Node&&r.contains(e.relatedTarget)||(this._setClasses(r),this._emitOrigin(i.subject,null))}_emitOrigin(e,r){this._ngZone.run(()=>e.next(r))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const r=e.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,Vy),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,Vy)}),this._rootNodeFocusListenerCount.set(r,i+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Gn(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(e){const r=e.rootNode;if(this._rootNodeFocusListenerCount.has(r)){const i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Vy),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Vy),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,r,i){this._setClasses(e,r),this._emitOrigin(i.subject,r),this._lastFocusOrigin=r}_getClosestElementsInfo(e){const r=[];return this._elementInfo.forEach((i,a)=>{(a===e||i.checkChildren&&a.contains(e))&&r.push([a,i])}),r}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b),l.LFG(In),l.LFG(Ow),l.LFG(K,8),l.LFG(qg,8))},n.\u0275prov=l.Yz7({factory:function(){return new n(l.LFG(l.R0b),l.LFG(In),l.LFG(Ow),l.LFG(K,8),l.LFG(qg,8))},token:n,providedIn:"root"}),n})();const gF="cdk-high-contrast-black-on-white",EO="cdk-high-contrast-white-on-black",xs="cdk-high-contrast-active";let Tw=(()=>{class n{constructor(e,r){this._platform=e,this._document=r}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const r=this._document.defaultView||window,i=r&&r.getComputedStyle?r.getComputedStyle(e):null,a=(i&&i.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(xs),e.remove(gF),e.remove(EO),this._hasCheckedHighContrastMode=!0;const r=this.getHighContrastMode();1===r?(e.add(xs),e.add(gF)):2===r&&(e.add(xs),e.add(EO))}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(In),l.LFG(K))},n.\u0275prov=l.Yz7({factory:function(){return new n(l.LFG(In),l.LFG(K))},token:n,providedIn:"root"}),n})();const Wg=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function(){return(0,l.f3M)(K)}});let Fs=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new l.vpe,e){const i=e.documentElement?e.documentElement.dir:null,a=(e.body?e.body.dir:null)||i;this.value="ltr"===a||"rtl"===a?a:"ltr"}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Wg,8))},n.\u0275prov=l.Yz7({factory:function(){return new n(l.LFG(Wg,8))},token:n,providedIn:"root"}),n})(),Zg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const MO=new l.GfV("12.2.13");class DO{}const dl="*";function Mu(n,t){return{type:7,name:n,definitions:t,options:{}}}function hc(n,t=null){return{type:4,styles:t,timings:n}}function _F(n,t=null){return{type:2,steps:n,options:t}}function vi(n){return{type:6,styles:n,offset:null}}function Du(n,t,e){return{type:0,name:n,styles:t,options:e}}function hl(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function Yg(n){Promise.resolve(null).then(n)}class Hf{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Yg(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class Sw{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,r=0,i=0;const a=this.players.length;0==a?Yg(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++e==a&&this._onFinish()}),d.onDestroy(()=>{++r==a&&this._onDestroy()}),d.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((d,f)=>Math.max(d,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,e/r.totalTime):1;r.setPosition(i)})}getPosition(){const t=this.players.reduce((e,r)=>null===e||r.totalTime>e.totalTime?r:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}function Kg(){return"undefined"!=typeof window&&void 0!==window.document}function Qd(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Ou(n){switch(n.length){case 0:return new Hf;case 1:return n[0];default:return new Sw(n)}}function TO(n,t,e,r,i={},a={}){const d=[],f=[];let m=-1,C=null;if(r.forEach(M=>{const T=M.offset,x=T==m,R=x&&C||{};Object.keys(M).forEach(j=>{let ie=j,pe=M[j];if("offset"!==j)switch(ie=t.normalizePropertyName(ie,d),pe){case"!":pe=i[j];break;case dl:pe=a[j];break;default:pe=t.normalizeStyleValue(j,ie,pe,d)}R[ie]=pe}),x||f.push(R),C=R,m=T}),d.length){const M="\n - ";throw new Error(`Unable to animate due to the following errors:${M}${d.join(M)}`)}return f}function IO(n,t,e,r){switch(t){case"start":n.onStart(()=>r(e&&Pw(e,"start",n)));break;case"done":n.onDone(()=>r(e&&Pw(e,"done",n)));break;case"destroy":n.onDestroy(()=>r(e&&Pw(e,"destroy",n)))}}function Pw(n,t,e){const r=e.totalTime,a=Aw(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,null==r?n.totalTime:r,!!e.disabled),d=n._data;return null!=d&&(a._data=d),a}function Aw(n,t,e,r,i="",a=0,d){return{element:n,triggerName:t,fromState:e,toState:r,phaseName:i,totalTime:a,disabled:!!d}}function es(n,t,e){let r;return n instanceof Map?(r=n.get(t),r||n.set(t,r=e)):(r=n[t],r||(r=n[t]=e)),r}function SO(n){const t=n.indexOf(":");return[n.substring(1,t),n.substr(t+1)]}let xw=(n,t)=>!1,Fw=(n,t)=>!1,PO=(n,t,e)=>[];const AO=Qd();(AO||"undefined"!=typeof Element)&&(xw=Kg()?(n,t)=>{for(;t&&t!==document.documentElement;){if(t===n)return!0;t=t.parentNode||t.host}return!1}:(n,t)=>n.contains(t),Fw=(()=>{if(AO||Element.prototype.matches)return(n,t)=>n.matches(t);{const n=Element.prototype,t=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return t?(e,r)=>t.apply(e,[r]):Fw}})(),PO=(n,t,e)=>{let r=[];if(e){const i=n.querySelectorAll(t);for(let a=0;a<i.length;a++)r.push(i[a])}else{const i=n.querySelector(t);i&&r.push(i)}return r});let Jd=null,xO=!1;function kw(n){Jd||(Jd=("undefined"!=typeof document?document.body:null)||{},xO=!!Jd.style&&"WebkitAppearance"in Jd.style);let t=!0;return Jd.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Jd.style,!t&&xO&&(t="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Jd.style)),t}const fc=Fw,Uy=xw,Rw=PO;function CF(n){const t={};return Object.keys(n).forEach(e=>{const r=e.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=n[e]}),t}let FO=(()=>{class n{validateStyleProperty(e){return kw(e)}matchesElement(e,r){return fc(e,r)}containsElement(e,r){return Uy(e,r)}query(e,r,i){return Rw(e,r,i)}computeStyle(e,r,i){return i||""}animate(e,r,i,a,d,f=[],m){return new Hf(i,a)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),zf=(()=>{class n{}return n.NOOP=new FO,n})();const Hy="ng-enter",Gf="ng-leave",jy="ng-trigger",zy=".ng-trigger",Nw="ng-animating",Lw=".ng-animating";function Tu(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:$f(parseFloat(t[1]),t[2])}function $f(n,t){switch(t){case"s":return 1e3*n;default:return n}}function Xd(n,t,e){return n.hasOwnProperty("duration")?n:function(n,t,e){let i,a=0,d="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return t.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};i=$f(parseFloat(f[1]),f[2]);const m=f[3];null!=m&&(a=$f(parseFloat(m),f[4]));const C=f[5];C&&(d=C)}else i=n;if(!e){let f=!1,m=t.length;i<0&&(t.push("Duration values below 0 are not allowed for this animation step."),f=!0),a<0&&(t.push("Delay values below 0 are not allowed for this animation step."),f=!0),f&&t.splice(m,0,`The provided timing value "${n}" is invalid.`)}return{duration:i,delay:a,easing:d}}(n,t,e)}function fl(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function uo(n,t,e={}){if(t)for(let r in n)e[r]=n[r];else fl(n,e);return e}function eh(n,t,e){return e?t+":"+e+";":""}function qf(n){let t="";for(let e=0;e<n.style.length;e++){const r=n.style.item(e);t+=eh(0,r,n.style.getPropertyValue(r))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=eh(0,OF(e),n.style[e]));n.setAttribute("style",t)}function pc(n,t,e){n.style&&(Object.keys(t).forEach(r=>{const i=Bw(r);e&&!e.hasOwnProperty(r)&&(e[r]=n.style[i]),n.style[i]=t[r]}),Qd()&&qf(n))}function ht(n,t){n.style&&(Object.keys(t).forEach(e=>{const r=Bw(e);n.style[r]=""}),Qd()&&qf(n))}function Ri(n){return Array.isArray(n)?1==n.length?n[0]:_F(n):n}const gc=new RegExp("{{\\s*(.+?)\\s*}}","g");function DF(n){let t=[];if("string"==typeof n){let e;for(;e=gc.exec(n);)t.push(e[1]);gc.lastIndex=0}return t}function Jg(n,t,e){const r=n.toString(),i=r.replace(gc,(a,d)=>{let f=t[d];return t.hasOwnProperty(d)||(e.push(`Please provide a value for the animation param ${d}`),f=""),f.toString()});return i==r?n:i}function Xg(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const SB=/-+([a-z0-9])/g;function Bw(n){return n.replace(SB,(...t)=>t[1].toUpperCase())}function OF(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ts(n,t){return 0===n||0===t}function $n(n,t,e){const r=Object.keys(e);if(r.length&&t.length){let a=t[0],d=[];if(r.forEach(f=>{a.hasOwnProperty(f)||d.push(f),a[f]=e[f]}),d.length)for(var i=1;i<t.length;i++){let f=t[i];d.forEach(function(m){f[m]=Gy(n,m)})}}return t}function Qn(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function Gy(n,t){return window.getComputedStyle(n)[t]}function NO(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,t,e){if(":"==n[0]){const m=function(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,r)=>parseFloat(r)>parseFloat(e);case":decrement":return(e,r)=>parseFloat(r)<parseFloat(e);default:return t.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,e);if("function"==typeof m)return void t.push(m);n=m}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return e.push(`The provided transition expression "${n}" is not supported`),t;const i=r[1],a=r[2],d=r[3];t.push(Su(i,d));"<"==a[0]&&!("*"==i&&"*"==d)&&t.push(Su(d,i))}(r,e,t)):e.push(n),e}const Iu=new Set(["true","1"]),qy=new Set(["false","0"]);function Su(n,t){const e=Iu.has(n)||qy.has(n),r=Iu.has(t)||qy.has(t);return(i,a)=>{let d="*"==n||n==i,f="*"==t||t==a;return!d&&e&&"boolean"==typeof i&&(d=i?Iu.has(n):qy.has(n)),!f&&r&&"boolean"==typeof a&&(f=a?Iu.has(t):qy.has(t)),d&&f}}const VO=new RegExp("s*:selfs*,?","g");function em(n,t,e){return new Hw(n).build(t,e)}class Hw{constructor(t){this._driver=t}build(t,e){const r=new TF(e);return this._resetContextStyleTimingState(r),Qn(this,Ri(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let r=e.queryCount=0,i=e.depCount=0;const a=[],d=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(f=>{if(this._resetContextStyleTimingState(e),0==f.type){const m=f,C=m.name;C.toString().split(/\s*,\s*/).forEach(M=>{m.name=M,a.push(this.visitState(m,e))}),m.name=C}else if(1==f.type){const m=this.visitTransition(f,e);r+=m.queryCount,i+=m.depCount,d.push(m)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:a,transitions:d,queryCount:r,depCount:i,options:null}}visitState(t,e){const r=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(r.containsDynamicStyles){const a=new Set,d=i||{};if(r.styles.forEach(f=>{if(tm(f)){const m=f;Object.keys(m).forEach(C=>{DF(m[C]).forEach(M=>{d.hasOwnProperty(M)||a.add(M)})})}}),a.size){const f=Xg(a.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${f.join(", ")}`)}}return{type:0,name:t.name,style:r,options:i?{params:i}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const r=Qn(this,Ri(t.animation),e);return{type:1,matchers:NO(t.expr,e.errors),animation:r,queryCount:e.queryCount,depCount:e.depCount,options:Pu(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(r=>Qn(this,r,e)),options:Pu(t.options)}}visitGroup(t,e){const r=e.currentTime;let i=0;const a=t.steps.map(d=>{e.currentTime=r;const f=Qn(this,d,e);return i=Math.max(i,e.currentTime),f});return e.currentTime=i,{type:3,steps:a,options:Pu(t.options)}}visitAnimate(t,e){const r=function(n,t){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return Kf(Xd(n,t).duration,0,"");const r=n;if(r.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=Kf(0,0,"");return a.dynamic=!0,a.strValue=r,a}return e=e||Xd(r,t),Kf(e.duration,e.delay,e.easing)}(t.timings,e.errors);e.currentAnimateTimings=r;let i,a=t.styles?t.styles:vi({});if(5==a.type)i=this.visitKeyframes(a,e);else{let d=t.styles,f=!1;if(!d){f=!0;const C={};r.easing&&(C.easing=r.easing),d=vi(C)}e.currentTime+=r.duration+r.delay;const m=this.visitStyle(d,e);m.isEmptyStep=f,i=m}return e.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(t,e){const r=this._makeStyleAst(t,e);return this._validateStyleAst(r,e),r}_makeStyleAst(t,e){const r=[];Array.isArray(t.styles)?t.styles.forEach(d=>{"string"==typeof d?d==dl?r.push(d):e.errors.push(`The provided style string value ${d} is not allowed.`):r.push(d)}):r.push(t.styles);let i=!1,a=null;return r.forEach(d=>{if(tm(d)){const f=d,m=f.easing;if(m&&(a=m,delete f.easing),!i)for(let C in f)if(f[C].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:r,easing:a,offset:t.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(t,e){const r=e.currentAnimateTimings;let i=e.currentTime,a=e.currentTime;r&&a>0&&(a-=r.duration+r.delay),t.styles.forEach(d=>{"string"!=typeof d&&Object.keys(d).forEach(f=>{if(!this._driver.validateStyleProperty(f))return void e.errors.push(`The provided animation property "${f}" is not a supported CSS property for animations`);const m=e.collectedStyles[e.currentQuerySelector],C=m[f];let M=!0;C&&(a!=i&&a>=C.startTime&&i<=C.endTime&&(e.errors.push(`The CSS property "${f}" that exists between the times of "${C.startTime}ms" and "${C.endTime}ms" is also being animated in a parallel animation between the times of "${a}ms" and "${i}ms"`),M=!1),a=C.startTime),M&&(m[f]={startTime:a,endTime:i}),e.options&&function(n,t,e){const r=t.params||{},i=DF(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||e.push(`Unable to resolve the local animation param ${a} in the given list of values`)})}(d[f],e.options,e.errors)})})}visitKeyframes(t,e){const r={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),r;let a=0;const d=[];let f=!1,m=!1,C=0;const M=t.steps.map(Ae=>{const Ge=this._makeStyleAst(Ae,e);let et=null!=Ge.offset?Ge.offset:function(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(tm(e)&&e.hasOwnProperty("offset")){const r=e;t=parseFloat(r.offset),delete r.offset}});else if(tm(n)&&n.hasOwnProperty("offset")){const e=n;t=parseFloat(e.offset),delete e.offset}return t}(Ge.styles),tt=0;return null!=et&&(a++,tt=Ge.offset=et),m=m||tt<0||tt>1,f=f||tt<C,C=tt,d.push(tt),Ge});m&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),f&&e.errors.push("Please ensure that all keyframe offsets are in order");const T=t.steps.length;let x=0;a>0&&a<T?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==a&&(x=1/(T-1));const R=T-1,j=e.currentTime,ie=e.currentAnimateTimings,pe=ie.duration;return M.forEach((Ae,Ge)=>{const et=x>0?Ge==R?1:x*Ge:d[Ge],tt=et*pe;e.currentTime=j+ie.delay+tt,ie.duration=tt,this._validateStyleAst(Ae,e),Ae.offset=et,r.styles.push(Ae)}),r}visitReference(t,e){return{type:8,animation:Qn(this,Ri(t.animation),e),options:Pu(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Pu(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Pu(t.options)}}visitQuery(t,e){const r=e.currentQuerySelector,i=t.options||{};e.queryCount++,e.currentQuery=t;const[a,d]=function(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(VO,"")),[n=n.replace(/@\*/g,zy).replace(/@\w+/g,e=>zy+"-"+e.substr(1)).replace(/:animating/g,Lw),t]}(t.selector);e.currentQuerySelector=r.length?r+" "+a:a,es(e.collectedStyles,e.currentQuerySelector,{});const f=Qn(this,Ri(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:d,animation:f,originalSelector:t.selector,options:Pu(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const r="full"===t.timings?{duration:0,delay:0,easing:"full"}:Xd(t.timings,e.errors,!0);return{type:12,animation:Qn(this,Ri(t.animation),e),timings:r,options:null}}}class TF{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function tm(n){return!Array.isArray(n)&&"object"==typeof n}function Pu(n){return n?(n=fl(n)).params&&(n.params=function(n){return n?fl(n):null}(n.params)):n={},n}function Kf(n,t,e){return{duration:n,delay:t,easing:e}}function jw(n,t,e,r,i,a,d=null,f=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:d,subTimeline:f}}class Qf{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let r=this._map.get(t);r||this._map.set(t,r=[]),r.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const AB=new RegExp(":enter","g"),xB=new RegExp(":leave","g");function th(n,t,e,r,i,a={},d={},f,m,C=[]){return(new IF).buildKeyframes(n,t,e,r,i,a,d,f,m,C)}class IF{buildKeyframes(t,e,r,i,a,d,f,m,C,M=[]){C=C||new Qf;const T=new Gw(t,e,C,i,a,M,[]);T.options=m,T.currentTimeline.setStyles([d],null,T.errors,m),Qn(this,r,T);const x=T.timelines.filter(R=>R.containsAnimation());if(x.length&&Object.keys(f).length){const R=x[x.length-1];R.allowOnlyTimelineStyles()||R.setStyles([f],null,T.errors,m)}return x.length?x.map(R=>R.buildKeyframes()):[jw(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const r=e.subInstructions.consume(e.element);if(r){const i=e.createSubContext(t.options),a=e.currentTimeline.currentTime,d=this._visitSubInstructions(r,i,i.options);a!=d&&e.transformIntoNewTimeline(d)}e.previousNode=t}visitAnimateRef(t,e){const r=e.createSubContext(t.options);r.transformIntoNewTimeline(),this.visitReference(t.animation,r),e.transformIntoNewTimeline(r.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,r){let a=e.currentTimeline.currentTime;const d=null!=r.duration?Tu(r.duration):null,f=null!=r.delay?Tu(r.delay):null;return 0!==d&&t.forEach(m=>{const C=e.appendInstructionToTimeline(m,d,f);a=Math.max(a,C.duration+C.delay)}),a}visitReference(t,e){e.updateOptions(t.options,!0),Qn(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const r=e.subContextCount;let i=e;const a=t.options;if(a&&(a.params||a.delay)&&(i=e.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Zy);const d=Tu(a.delay);i.delayNextStep(d)}t.steps.length&&(t.steps.forEach(d=>Qn(this,d,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const r=[];let i=e.currentTimeline.currentTime;const a=t.options&&t.options.delay?Tu(t.options.delay):0;t.steps.forEach(d=>{const f=e.createSubContext(t.options);a&&f.delayNextStep(a),Qn(this,d,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(d=>e.currentTimeline.mergeTimelineCollectedStyles(d)),e.transformIntoNewTimeline(i),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const r=t.strValue;return Xd(e.params?Jg(r,e.params,e.errors):r,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const r=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;r.delay&&(e.incrementTime(r.delay),i.snapshotCurrentStyles());const a=t.style;5==a.type?this.visitKeyframes(a,e):(e.incrementTime(r.duration),this.visitStyle(a,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const r=e.currentTimeline,i=e.currentAnimateTimings;!i&&r.getCurrentStyleProperties().length&&r.forwardFrame();const a=i&&i.easing||t.easing;t.isEmptyStep?r.applyEmptyStep(a):r.setStyles(t.styles,a,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const r=e.currentAnimateTimings,i=e.currentTimeline.duration,a=r.duration,f=e.createSubContext().currentTimeline;f.easing=r.easing,t.styles.forEach(m=>{f.forwardTime((m.offset||0)*a),f.setStyles(m.styles,m.easing,e.errors,e.options),f.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(f),e.transformIntoNewTimeline(i+a),e.previousNode=t}visitQuery(t,e){const r=e.currentTimeline.currentTime,i=t.options||{},a=i.delay?Tu(i.delay):0;a&&(6===e.previousNode.type||0==r&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Zy);let d=r;const f=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!i.optional,e.errors);e.currentQueryTotal=f.length;let m=null;f.forEach((C,M)=>{e.currentQueryIndex=M;const T=e.createSubContext(t.options,C);a&&T.delayNextStep(a),C===e.element&&(m=T.currentTimeline),Qn(this,t.animation,T),T.currentTimeline.applyStylesToKeyframe(),d=Math.max(d,T.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(d),m&&(e.currentTimeline.mergeTimelineCollectedStyles(m),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const r=e.parentContext,i=e.currentTimeline,a=t.timings,d=Math.abs(a.duration),f=d*(e.currentQueryTotal-1);let m=d*e.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":m=f-m;break;case"full":m=r.currentStaggerTime}const M=e.currentTimeline;m&&M.delayNextStep(m);const T=M.currentTime;Qn(this,t.animation,e),e.previousNode=t,r.currentStaggerTime=i.currentTime-T+(i.startTime-r.currentTimeline.startTime)}}const Zy={};class Gw{constructor(t,e,r,i,a,d,f,m){this._driver=t,this.element=e,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=d,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Zy,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new $w(this._driver,e,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const r=t;let i=this.options;null!=r.duration&&(i.duration=Tu(r.duration)),null!=r.delay&&(i.delay=Tu(r.delay));const a=r.params;if(a){let d=i.params;d||(d=this.options.params={}),Object.keys(a).forEach(f=>{(!e||!d.hasOwnProperty(f))&&(d[f]=Jg(a[f],d,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const r=t.params={};Object.keys(e).forEach(i=>{r[i]=e[i]})}}return t}createSubContext(t=null,e,r){const i=e||this.element,a=new Gw(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(t),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(t){return this.previousNode=Zy,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,r){const i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+t.delay,easing:""},a=new FB(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,r,i,a,d){let f=[];if(i&&f.push(this.element),t.length>0){t=(t=t.replace(AB,"."+this._enterClassName)).replace(xB,"."+this._leaveClassName);let C=this._driver.query(this.element,t,1!=r);0!==r&&(C=r<0?C.slice(C.length+r,C.length):C.slice(0,r)),f.push(...C)}return!a&&0==f.length&&d.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),f}}class $w{constructor(t,e,r,i){this._driver=t,this.element=e,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new $w(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||dl,this._currentKeyframe[e]=dl}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,r,i){e&&(this._previousKeyframe.easing=e);const a=i&&i.params||{},d=function(n,t){const e={};let r;return n.forEach(i=>{"*"===i?(r=r||Object.keys(t),r.forEach(a=>{e[a]=dl})):uo(i,!1,e)}),e}(t,this._globalTimelineStyles);Object.keys(d).forEach(f=>{const m=Jg(d[f],a,r);this._pendingStyles[f]=m,this._localTimelineStyles.hasOwnProperty(f)||(this._backFill[f]=this._globalTimelineStyles.hasOwnProperty(f)?this._globalTimelineStyles[f]:dl),this._updateStyle(f,m)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(r=>{this._currentKeyframe[r]=t[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const r=this._styleSummary[e],i=t._styleSummary[e];(!r||i.time>r.time)&&this._updateStyle(e,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,m)=>{const C=uo(f,!0);Object.keys(C).forEach(M=>{const T=C[M];"!"==T?t.add(M):T==dl&&e.add(M)}),r||(C.offset=m/this.duration),i.push(C)});const a=t.size?Xg(t.values()):[],d=e.size?Xg(e.values()):[];if(r){const f=i[0],m=fl(f);f.offset=0,m.offset=1,i=[f,m]}return jw(this.element,i,a,d,this.duration,this.startTime,this.easing,!1)}}class FB extends $w{constructor(t,e,r,i,a,d,f=!1){super(t,e,d.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&e){const a=[],d=r+e,f=e/d,m=uo(t[0],!1);m.offset=0,a.push(m);const C=uo(t[0],!1);C.offset=HO(f),a.push(C);const M=t.length-1;for(let T=1;T<=M;T++){let x=uo(t[T],!1);x.offset=HO((e+x.offset*r)/d),a.push(x)}r=d,e=0,i="",t=a}return jw(this.element,t,this.preStyleProps,this.postStyleProps,r,e,i,!0)}}function HO(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class qw{}class SF extends qw{normalizePropertyName(t,e){return Bw(t)}normalizeStyleValue(t,e,r,i){let a="";const d=r.toString().trim();if(PF[e]&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(`Please provide a CSS unit value for ${t}:${r}`)}return d+a}}const PF=(()=>function(n){const t={};return n.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function zO(n,t,e,r,i,a,d,f,m,C,M,T,x){return{type:0,element:n,triggerName:t,isRemovalTransition:i,fromState:e,fromStyles:a,toState:r,toStyles:d,timelines:f,queriedElements:m,preStyleProps:C,postStyleProps:M,totalTime:T,errors:x}}const Ww={};class Yy{constructor(t,e,r){this._triggerName=t,this.ast=e,this._stateStyles=r}match(t,e,r,i){return function(n,t,e,r,i){return n.some(a=>a(t,e,r,i))}(this.ast.matchers,t,e,r,i)}buildStyles(t,e,r){const i=this._stateStyles["*"],a=this._stateStyles[t],d=i?i.buildStyles(e,r):{};return a?a.buildStyles(e,r):d}build(t,e,r,i,a,d,f,m,C,M){const T=[],x=this.ast.options&&this.ast.options.params||Ww,j=this.buildStyles(r,f&&f.params||Ww,T),ie=m&&m.params||Ww,pe=this.buildStyles(i,ie,T),Ae=new Set,Ge=new Map,et=new Map,tt="void"===i,vn={params:Object.assign(Object.assign({},x),ie)},Mr=M?[]:th(t,e,this.ast.animation,a,d,j,pe,vn,C,T);let vo=0;if(Mr.forEach(Th=>{vo=Math.max(Th.duration+Th.delay,vo)}),T.length)return zO(e,this._triggerName,r,i,tt,j,pe,[],[],Ge,et,vo,T);Mr.forEach(Th=>{const Ih=Th.element,S$=es(Ge,Ih,{});Th.preStyleProps.forEach(l_=>S$[l_]=!0);const wM=es(et,Ih,{});Th.postStyleProps.forEach(l_=>wM[l_]=!0),Ih!==e&&Ae.add(Ih)});const Oh=Xg(Ae.values());return zO(e,this._triggerName,r,i,tt,j,pe,Mr,Oh,Ge,et,vo)}}class FF{constructor(t,e,r){this.styles=t,this.defaultParams=e,this.normalizer=r}buildStyles(t,e){const r={},i=fl(this.defaultParams);return Object.keys(t).forEach(a=>{const d=t[a];null!=d&&(i[a]=d)}),this.styles.styles.forEach(a=>{if("string"!=typeof a){const d=a;Object.keys(d).forEach(f=>{let m=d[f];m.length>1&&(m=Jg(m,i,e));const C=this.normalizer.normalizePropertyName(f,e);m=this.normalizer.normalizeStyleValue(f,C,m,e),r[C]=m})}}),r}}class Zw{constructor(t,e,r){this.name=t,this.ast=e,this._normalizer=r,this.transitionFactories=[],this.states={},e.states.forEach(i=>{this.states[i.name]=new FF(i.style,i.options&&i.options.params||{},r)}),RF(this.states,"true","1"),RF(this.states,"false","0"),e.transitions.forEach(i=>{this.transitionFactories.push(new Yy(t,i,this.states))}),this.fallbackTransition=function(n,t,e){return new Yy(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(d,f)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,r,i){return this.transitionFactories.find(d=>d.match(t,e,r,i))||null}matchStyles(t,e,r){return this.fallbackTransition.buildStyles(t,e,r)}}function RF(n,t,e){n.hasOwnProperty(t)?n.hasOwnProperty(e)||(n[e]=n[t]):n.hasOwnProperty(e)&&(n[t]=n[e])}const NF=new Qf;class LF{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(t,e){const r=[],i=em(this._driver,e,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[t]=i}_buildPlayer(t,e,r){const i=t.element,a=TO(0,this._normalizer,0,t.keyframes,e,r);return this._driver.animate(i,a,t.duration,t.delay,t.easing,[],!0)}create(t,e,r={}){const i=[],a=this._animations[t];let d;const f=new Map;if(a?(d=th(this._driver,e,a,Hy,Gf,{},{},r,NF,i),d.forEach(M=>{const T=es(f,M.element,{});M.postStyleProps.forEach(x=>T[x]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),d=[]),i.length)throw new Error(`Unable to create the animation due to the following errors: ${i.join("\n")}`);f.forEach((M,T)=>{Object.keys(M).forEach(x=>{M[x]=this._driver.computeStyle(T,x,dl)})});const C=Ou(d.map(M=>{const T=f.get(M.element);return this._buildPlayer(M,{},T)}));return this._playersById[t]=C,C.onDestroy(()=>this.destroy(t)),this.players.push(C),C}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const r=this.players.indexOf(e);r>=0&&this.players.splice(r,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,r,i){const a=Aw(e,"","","");return IO(this._getPlayer(t),r,a,i),()=>{}}command(t,e,r,i){if("register"==r)return void this.register(t,i[0]);if("create"==r)return void this.create(t,e,i[0]||{});const a=this._getPlayer(t);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}}const $O="ng-animate-queued",qO="ng-animate-disabled",WO=".ng-animate-disabled",UF=[],Yw={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},rm={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},pa="__ng_removed";class Ky{constructor(t,e=""){this.namespaceId=e;const r=t&&t.hasOwnProperty("value");if(this.value=null!=(n=r?t.value:t)?n:null,r){const a=fl(t);delete a.value,this.options=a}else this.options={};var n;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const r=this.options.params;Object.keys(e).forEach(i=>{null==r[i]&&(r[i]=e[i])})}}}const im="void",Kw=new Ky(im);class HF{constructor(t,e,r){this.id=t,this.hostElement=e,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,ks(e,this._hostClassName)}listen(t,e,r,i){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${e}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(n=r)&&"done"!=n)throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${e}" is not supported!`);var n;const a=es(this._elementListeners,t,[]),d={name:e,phase:r,callback:i};a.push(d);const f=es(this._engine.statesByElement,t,{});return f.hasOwnProperty(e)||(ks(t,jy),ks(t,jy+"-"+e),f[e]=Kw),()=>{this._engine.afterFlush(()=>{const m=a.indexOf(d);m>=0&&a.splice(m,1),this._triggers[e]||delete f[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,r,i=!0){const a=this._getTrigger(e),d=new Qw(this.id,e,t);let f=this._engine.statesByElement.get(t);f||(ks(t,jy),ks(t,jy+"-"+e),this._engine.statesByElement.set(t,f={}));let m=f[e];const C=new Ky(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&m&&C.absorbOptions(m.options),f[e]=C,m||(m=Kw),C.value!==im&&m.value===C.value){if(!function(n,t){const e=Object.keys(n),r=Object.keys(t);if(e.length!=r.length)return!1;for(let i=0;i<e.length;i++){const a=e[i];if(!t.hasOwnProperty(a)||n[a]!==t[a])return!1}return!0}(m.params,C.params)){const ie=[],pe=a.matchStyles(m.value,m.params,ie),Ae=a.matchStyles(C.value,C.params,ie);ie.length?this._engine.reportError(ie):this._engine.afterFlush(()=>{ht(t,pe),pc(t,Ae)})}return}const x=es(this._engine.playersByElement,t,[]);x.forEach(ie=>{ie.namespaceId==this.id&&ie.triggerName==e&&ie.queued&&ie.destroy()});let R=a.matchTransition(m.value,C.value,t,C.params),j=!1;if(!R){if(!i)return;R=a.fallbackTransition,j=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:R,fromState:m,toState:C,player:d,isFallbackTransition:j}),j||(ks(t,$O),d.onStart(()=>{Jf(t,$O)})),d.onDone(()=>{let ie=this.players.indexOf(d);ie>=0&&this.players.splice(ie,1);const pe=this._engine.playersByElement.get(t);if(pe){let Ae=pe.indexOf(d);Ae>=0&&pe.splice(Ae,1)}}),this.players.push(d),x.push(d),d}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,r)=>{delete e[t]}),this._elementListeners.forEach((e,r)=>{this._elementListeners.set(r,e.filter(i=>i.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(r=>r.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const r=this._engine.driver.query(t,zy,!0);r.forEach(i=>{if(i[pa])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(d=>d.triggerLeaveAnimation(i,e,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(t,e,r,i){const a=this._engine.statesByElement.get(t);if(a){const d=[];if(Object.keys(a).forEach(f=>{if(this._triggers[f]){const m=this.trigger(t,f,im,i);m&&d.push(m)}}),d.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),r&&Ou(d).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),r=this._engine.statesByElement.get(t);if(e&&r){const i=new Set;e.forEach(a=>{const d=a.name;if(i.has(d))return;i.add(d);const m=this._triggers[d].fallbackTransition,C=r[d]||Kw,M=new Ky(im),T=new Qw(this.id,d,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:d,transition:m,fromState:C,toState:M,player:T,isFallbackTransition:!0})})}}removeNode(t,e){const r=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(t):[];if(a&&a.length)i=!0;else{let d=t;for(;d=d.parentNode;)if(r.statesByElement.get(d)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(t),i)r.markElementAsRemoved(this.id,t,!1,e);else{const a=t[pa];(!a||a===Yw)&&(r.afterFlush(()=>this.clearElementCache(t)),r.destroyInnerAnimations(t),r._onRemovalComplete(t,e))}}insertNode(t,e){ks(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,d=this._elementListeners.get(a);d&&d.forEach(f=>{if(f.name==r.triggerName){const m=Aw(a,r.triggerName,r.fromState.value,r.toState.value);m._data=t,IO(r.player,f.phase,m,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):e.push(r)}),this._queue=[],e.sort((r,i)=>{const a=r.transition.ast.depCount,d=i.transition.ast.depCount;return 0==a||0==d?a-d:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(r=>r.element===t)||e,e}}class jF{constructor(t,e,r){this.bodyNode=t,this.driver=e,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(r=>{r.queued&&t.push(r)})}),t}createNamespace(t,e){const r=new HF(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(r,e):(this.newHostElements.set(e,r),this.collectEnterElement(e)),this._namespaceLookup[t]=r}_balanceNamespaceList(t,e){const r=this._namespaceList.length-1;if(r>=0){let i=!1;for(let a=r;a>=0;a--)if(this.driver.containsElement(this._namespaceList[a].hostElement,e)){this._namespaceList.splice(a+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let r=this._namespaceLookup[t];return r||(r=this.createNamespace(t,e)),r}registerTrigger(t,e,r){let i=this._namespaceLookup[t];i&&i.register(e,r)&&this.totalAnimations++}destroy(t,e){if(!t)return;const r=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[t];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,r=this.statesByElement.get(t);if(r){const i=Object.keys(r);for(let a=0;a<i.length;a++){const d=r[i[a]].namespaceId;if(d){const f=this._fetchNamespace(d);f&&e.add(f)}}}return e}trigger(t,e,r,i){if(Qy(e)){const a=this._fetchNamespace(t);if(a)return a.trigger(e,r,i),!0}return!1}insertNode(t,e,r,i){if(!Qy(e))return;const a=e[pa];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const d=this.collectedLeaveElements.indexOf(e);d>=0&&this.collectedLeaveElements.splice(d,1)}if(t){const d=this._fetchNamespace(t);d&&d.insertNode(e,r)}i&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),ks(t,qO)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),Jf(t,qO))}removeNode(t,e,r,i){if(Qy(e)){const a=t?this._fetchNamespace(t):null;if(a?a.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),r){const d=this.namespacesByHostElement.get(e);d&&d.id!==t&&d.removeNode(e,i)}}else this._onRemovalComplete(e,i)}markElementAsRemoved(t,e,r,i){this.collectedLeaveElements.push(e),e[pa]={namespaceId:t,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1}}listen(t,e,r,i,a){return Qy(e)?this._fetchNamespace(t).listen(e,r,i,a):()=>{}}_buildInstruction(t,e,r,i,a){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,r,i,t.fromState.options,t.toState.options,e,a)}destroyInnerAnimations(t){let e=this.driver.query(t,zy,!0);e.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Lw,!0),e.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Ou(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[pa];if(e&&e.setForRemoval){if(t[pa]=Yw,e.namespaceId){this.destroyInnerAnimations(t);const r=this._fetchNamespace(e.namespaceId);r&&r.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,WO)&&this.markElementAsDisabled(t,!1),this.driver.query(t,WO,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)ks(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{e=this._flushAnimations(r,t)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],e.length?Ou(e).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const r=new Qf,i=[],a=new Map,d=[],f=new Map,m=new Map,C=new Map,M=new Set;this.disabledNodes.forEach(Xe=>{M.add(Xe);const ft=this.driver.query(Xe,".ng-animate-queued",!0);for(let Tt=0;Tt<ft.length;Tt++)M.add(ft[Tt])});const T=this.bodyNode,x=Array.from(this.statesByElement.keys()),R=Jy(x,this.collectedEnterElements),j=new Map;let ie=0;R.forEach((Xe,ft)=>{const Tt=Hy+ie++;j.set(ft,Tt),Xe.forEach(un=>ks(un,Tt))});const pe=[],Ae=new Set,Ge=new Set;for(let Xe=0;Xe<this.collectedLeaveElements.length;Xe++){const ft=this.collectedLeaveElements[Xe],Tt=ft[pa];Tt&&Tt.setForRemoval&&(pe.push(ft),Ae.add(ft),Tt.hasAnimation?this.driver.query(ft,".ng-star-inserted",!0).forEach(un=>Ae.add(un)):Ge.add(ft))}const et=new Map,tt=Jy(x,Array.from(Ae));tt.forEach((Xe,ft)=>{const Tt=Gf+ie++;et.set(ft,Tt),Xe.forEach(un=>ks(un,Tt))}),t.push(()=>{R.forEach((Xe,ft)=>{const Tt=j.get(ft);Xe.forEach(un=>Jf(un,Tt))}),tt.forEach((Xe,ft)=>{const Tt=et.get(ft);Xe.forEach(un=>Jf(un,Tt))}),pe.forEach(Xe=>{this.processLeaveNode(Xe)})});const vn=[],Mr=[];for(let Xe=this._namespaceList.length-1;Xe>=0;Xe--)this._namespaceList[Xe].drainQueuedTransitions(e).forEach(Tt=>{const un=Tt.player,Wi=Tt.element;if(vn.push(un),this.collectedEnterElements.length){const qu=Wi[pa];if(qu&&qu.setForMove)return void un.destroy()}const $u=!T||!this.driver.containsElement(T,Wi),Ea=et.get(Wi),Sp=j.get(Wi),xr=this._buildInstruction(Tt,r,Sp,Ea,$u);if(xr.errors&&xr.errors.length)Mr.push(xr);else{if($u)return un.onStart(()=>ht(Wi,xr.fromStyles)),un.onDestroy(()=>pc(Wi,xr.toStyles)),void i.push(un);if(Tt.isFallbackTransition)return un.onStart(()=>ht(Wi,xr.fromStyles)),un.onDestroy(()=>pc(Wi,xr.toStyles)),void i.push(un);xr.timelines.forEach(qu=>qu.stretchStartingKeyframe=!0),r.append(Wi,xr.timelines),d.push({instruction:xr,player:un,element:Wi}),xr.queriedElements.forEach(qu=>es(f,qu,[]).push(un)),xr.preStyleProps.forEach((qu,EM)=>{const LP=Object.keys(qu);if(LP.length){let c_=m.get(EM);c_||m.set(EM,c_=new Set),LP.forEach(Q2=>c_.add(Q2))}}),xr.postStyleProps.forEach((qu,EM)=>{const LP=Object.keys(qu);let c_=C.get(EM);c_||C.set(EM,c_=new Set),LP.forEach(Q2=>c_.add(Q2))})}});if(Mr.length){const Xe=[];Mr.forEach(ft=>{Xe.push(`@${ft.triggerName} has failed due to:\n`),ft.errors.forEach(Tt=>Xe.push(`- ${Tt}\n`))}),vn.forEach(ft=>ft.destroy()),this.reportError(Xe)}const vo=new Map,Oh=new Map;d.forEach(Xe=>{const ft=Xe.element;r.has(ft)&&(Oh.set(ft,ft),this._beforeAnimationBuild(Xe.player.namespaceId,Xe.instruction,vo))}),i.forEach(Xe=>{const ft=Xe.element;this._getPreviousPlayers(ft,!1,Xe.namespaceId,Xe.triggerName,null).forEach(un=>{es(vo,ft,[]).push(un),un.destroy()})});const Th=pe.filter(Xe=>YO(Xe,m,C)),Ih=new Map;$F(Ih,this.driver,Ge,C,dl).forEach(Xe=>{YO(Xe,m,C)&&Th.push(Xe)});const wM=new Map;R.forEach((Xe,ft)=>{$F(wM,this.driver,new Set(Xe),m,"!")}),Th.forEach(Xe=>{const ft=Ih.get(Xe),Tt=wM.get(Xe);Ih.set(Xe,Object.assign(Object.assign({},ft),Tt))});const l_=[],P$=[],A$={};d.forEach(Xe=>{const{element:ft,player:Tt,instruction:un}=Xe;if(r.has(ft)){if(M.has(ft))return Tt.onDestroy(()=>pc(ft,un.toStyles)),Tt.disabled=!0,Tt.overrideTotalTime(un.totalTime),void i.push(Tt);let Wi=A$;if(Oh.size>1){let Ea=ft;const Sp=[];for(;Ea=Ea.parentNode;){const xr=Oh.get(Ea);if(xr){Wi=xr;break}Sp.push(Ea)}Sp.forEach(xr=>Oh.set(xr,Wi))}const $u=this._buildAnimation(Tt.namespaceId,un,vo,a,wM,Ih);if(Tt.setRealPlayer($u),Wi===A$)l_.push(Tt);else{const Ea=this.playersByElement.get(Wi);Ea&&Ea.length&&(Tt.parentPlayer=Ou(Ea)),i.push(Tt)}}else ht(ft,un.fromStyles),Tt.onDestroy(()=>pc(ft,un.toStyles)),P$.push(Tt),M.has(ft)&&i.push(Tt)}),P$.forEach(Xe=>{const ft=a.get(Xe.element);if(ft&&ft.length){const Tt=Ou(ft);Xe.setRealPlayer(Tt)}}),i.forEach(Xe=>{Xe.parentPlayer?Xe.syncPlayerEvents(Xe.parentPlayer):Xe.destroy()});for(let Xe=0;Xe<pe.length;Xe++){const ft=pe[Xe],Tt=ft[pa];if(Jf(ft,Gf),Tt&&Tt.hasAnimation)continue;let un=[];if(f.size){let $u=f.get(ft);$u&&$u.length&&un.push(...$u);let Ea=this.driver.query(ft,Lw,!0);for(let Sp=0;Sp<Ea.length;Sp++){let xr=f.get(Ea[Sp]);xr&&xr.length&&un.push(...xr)}}const Wi=un.filter($u=>!$u.destroyed);Wi.length?qF(this,ft,Wi):this.processLeaveNode(ft)}return pe.length=0,l_.forEach(Xe=>{this.players.push(Xe),Xe.onDone(()=>{Xe.destroy();const ft=this.players.indexOf(Xe);this.players.splice(ft,1)}),Xe.play()}),l_}elementContainsData(t,e){let r=!1;const i=e[pa];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(e)&&(r=!0),this.playersByQueriedElement.has(e)&&(r=!0),this.statesByElement.has(e)&&(r=!0),this._fetchNamespace(t).elementContainsData(e)||r}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,r,i,a){let d=[];if(e){const f=this.playersByQueriedElement.get(t);f&&(d=f)}else{const f=this.playersByElement.get(t);if(f){const m=!a||a==im;f.forEach(C=>{C.queued||!m&&C.triggerName!=i||d.push(C)})}}return(r||i)&&(d=d.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),d}_beforeAnimationBuild(t,e,r){const a=e.element,d=e.isRemovalTransition?void 0:t,f=e.isRemovalTransition?void 0:e.triggerName;for(const m of e.timelines){const C=m.element,M=C!==a,T=es(r,C,[]);this._getPreviousPlayers(C,M,d,f,e.toState).forEach(R=>{const j=R.getRealPlayer();j.beforeDestroy&&j.beforeDestroy(),R.destroy(),T.push(R)})}ht(a,e.fromStyles)}_buildAnimation(t,e,r,i,a,d){const f=e.triggerName,m=e.element,C=[],M=new Set,T=new Set,x=e.timelines.map(j=>{const ie=j.element;M.add(ie);const pe=ie[pa];if(pe&&pe.removedBeforeQueried)return new Hf(j.duration,j.delay);const Ae=ie!==m,Ge=function(n){const t=[];return Jw(n,t),t}((r.get(ie)||UF).map(vo=>vo.getRealPlayer())).filter(vo=>!!vo.element&&vo.element===ie),et=a.get(ie),tt=d.get(ie),vn=TO(0,this._normalizer,0,j.keyframes,et,tt),Mr=this._buildPlayer(j,vn,Ge);if(j.subTimeline&&i&&T.add(ie),Ae){const vo=new Qw(t,f,ie);vo.setRealPlayer(Mr),C.push(vo)}return Mr});C.forEach(j=>{es(this.playersByQueriedElement,j.element,[]).push(j),j.onDone(()=>function(n,t,e){let r;if(n instanceof Map){if(r=n.get(t),r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&n.delete(t)}}else if(r=n[t],r){if(r.length){const i=r.indexOf(e);r.splice(i,1)}0==r.length&&delete n[t]}return r}(this.playersByQueriedElement,j.element,j))}),M.forEach(j=>ks(j,Nw));const R=Ou(x);return R.onDestroy(()=>{M.forEach(j=>Jf(j,Nw)),pc(m,e.toStyles)}),T.forEach(j=>{es(i,j,[]).push(R)}),R}_buildPlayer(t,e,r){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,r):new Hf(t.duration,t.delay)}}class Qw{constructor(t,e,r){this.namespaceId=t,this.triggerName=e,this.element=r,this._player=new Hf,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(r=>IO(t,e,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){es(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function Qy(n){return n&&1===n.nodeType}function GF(n,t){const e=n.style.display;return n.style.display=null!=t?t:"none",e}function $F(n,t,e,r,i){const a=[];e.forEach(m=>a.push(GF(m)));const d=[];r.forEach((m,C)=>{const M={};m.forEach(T=>{const x=M[T]=t.computeStyle(C,T,i);(!x||0==x.length)&&(C[pa]=rm,d.push(C))}),n.set(C,M)});let f=0;return e.forEach(m=>GF(m,a[f++])),d}function Jy(n,t){const e=new Map;if(n.forEach(f=>e.set(f,[])),0==t.length)return e;const i=new Set(t),a=new Map;function d(f){if(!f)return 1;let m=a.get(f);if(m)return m;const C=f.parentNode;return m=e.has(C)?C:i.has(C)?1:d(C),a.set(f,m),m}return t.forEach(f=>{const m=d(f);1!==m&&e.get(m).push(f)}),e}const Xy="$$classes";function ks(n,t){if(n.classList)n.classList.add(t);else{let e=n[Xy];e||(e=n[Xy]={}),e[t]=!0}}function Jf(n,t){if(n.classList)n.classList.remove(t);else{let e=n[Xy];e&&delete e[t]}}function qF(n,t,e){Ou(e).onDone(()=>n.processLeaveNode(t))}function Jw(n,t){for(let e=0;e<n.length;e++){const r=n[e];r instanceof Sw?Jw(r.players,t):t.push(r)}}function YO(n,t,e){const r=e.get(n);if(!r)return!1;let i=t.get(n);return i?r.forEach(a=>i.add(a)):t.set(n,r),e.delete(n),!0}class mc{constructor(t,e,r){this.bodyNode=t,this._driver=e,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new jF(t,e,r),this._timelineEngine=new LF(t,e,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(t,e,r,i,a){const d=t+"-"+i;let f=this._triggerCache[d];if(!f){const m=[],C=em(this._driver,a,m);if(m.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${m.join("\n - ")}`);f=function(n,t,e){return new Zw(n,t,e)}(i,C,this._normalizer),this._triggerCache[d]=f}this._transitionEngine.registerTrigger(e,i,f)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,r,i){this._transitionEngine.insertNode(t,e,r,i)}onRemove(t,e,r,i){this._transitionEngine.removeNode(t,e,i||!1,r)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,r,i){if("@"==r.charAt(0)){const[a,d]=SO(r);this._timelineEngine.command(a,e,d,i)}else this._transitionEngine.trigger(t,e,r,i)}listen(t,e,r,i,a){if("@"==r.charAt(0)){const[d,f]=SO(r);return this._timelineEngine.listen(d,e,f,a)}return this._transitionEngine.listen(t,e,r,i,a)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function Ci(n,t){let e=null,r=null;return Array.isArray(t)&&t.length?(e=ns(t[0]),t.length>1&&(r=ns(t[t.length-1]))):t&&(e=ns(t)),e||r?new KO(n,e,r):null}let KO=(()=>{class n{constructor(e,r,i){this._element=e,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(e);a||n.initialStylesByElement.set(e,a={}),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&pc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(pc(this._element,this._initialStyles),this._endStyles&&(pc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(ht(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(ht(this._element,this._endStyles),this._endStyles=null),pc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function ns(n){let t=null;const e=Object.keys(n);for(let r=0;r<e.length;r++){const i=e[r];e0(i)&&(t=t||{},t[i]=n[i])}return t}function e0(n){return"display"===n||"position"===n}const t0="animation",n0="animationend";class YF{constructor(t,e,r,i,a,d,f){this._element=t,this._name=e,this._duration=r,this._delay=i,this._easing=a,this._fillMode=d,this._onDoneFn=f,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=m=>this._handleCallback(m)}apply(){(function(n,t){const e=Au(n,"").trim();let r=0;e.length&&(function(n,t){let e=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&e++;return e}(e)+1,t=`${e}, ${t}`),eb(n,"",t)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),nT(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){JO(this._element,this._name,"paused")}resume(){JO(this._element,this._name,"running")}setPosition(t){const e=eT(this._element,this._name);this._position=t*this._duration,eb(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),nT(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,t){const r=Au(n,"").split(","),i=tT(r,t);i>=0&&(r.splice(i,1),eb(n,"",r.join(",")))}(this._element,this._name))}}function JO(n,t,e){eb(n,"PlayState",e,eT(n,t))}function eT(n,t){const e=Au(n,"");return e.indexOf(",")>0?tT(e.split(","),t):tT([e],t)}function tT(n,t){for(let e=0;e<n.length;e++)if(n[e].indexOf(t)>=0)return e;return-1}function nT(n,t,e){e?n.removeEventListener(n0,t):n.addEventListener(n0,t)}function eb(n,t,e,r){const i=t0+t;if(null!=r){const a=n.style[i];if(a.length){const d=a.split(",");d[r]=e,e=d.join(",")}}n.style[i]=e}function Au(n,t){return n.style[t0+t]||""}class JF{constructor(t,e,r,i,a,d,f,m){this.element=t,this.keyframes=e,this.animationName=r,this._duration=i,this._delay=a,this._finalStyles=f,this._specialStyles=m,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=d||"linear",this.totalTime=i+a,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new YF(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(t[r]=e?this._finalStyles[r]:Gy(this.element,r))})}this.currentSnapshot=t}}class iT extends Hf{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=CF(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class oT{constructor(){this._count=0}validateStyleProperty(t){return kw(t)}matchesElement(t,e){return fc(t,e)}containsElement(t,e){return Uy(t,e)}query(t,e,r){return Rw(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,r){r=r.map(f=>CF(f));let i=`@keyframes ${e} {\n`,a="";r.forEach(f=>{a=" ";const m=parseFloat(f.offset);i+=`${a}${100*m}% {\n`,a+=" ",Object.keys(f).forEach(C=>{const M=f[C];switch(C){case"offset":return;case"easing":return void(M&&(i+=`${a}animation-timing-function: ${M};\n`));default:return void(i+=`${a}${C}: ${M};\n`)}}),i+=`${a}}\n`}),i+="}\n";const d=document.createElement("style");return d.textContent=i,d}animate(t,e,r,i,a,d=[],f){const m=d.filter(pe=>pe instanceof JF),C={};ts(r,i)&&m.forEach(pe=>{let Ae=pe.currentSnapshot;Object.keys(Ae).forEach(Ge=>C[Ge]=Ae[Ge])});const M=function(n){let t={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(i=>{"offset"==i||"easing"==i||(t[i]=r[i])})}),t}(e=$n(t,e,C));if(0==r)return new iT(t,M);const T="gen_css_kf_"+this._count++,x=this.buildKeyframeElement(t,T,e);(function(n){var t;const e=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);return"undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?e:document.head})(t).appendChild(x);const j=Ci(t,e),ie=new JF(t,e,T,r,i,a,M,j);return ie.onDestroy(()=>{var n;(n=x).parentNode.removeChild(n)}),ie}}class cT{constructor(t,e,r,i){this.element=t,this.keyframes=e,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,r){return t.animate(e,r)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:Gy(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(r=>r()),e.length=0}}class tk{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(uT().toString()),this._cssKeyframesDriver=new oT}validateStyleProperty(t){return kw(t)}matchesElement(t,e){return fc(t,e)}containsElement(t,e){return Uy(t,e)}query(t,e,r){return Rw(t,e,r)}computeStyle(t,e,r){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,r,i,a,d=[],f){if(!f&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,r,i,a,d);const M={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(M.easing=a);const T={},x=d.filter(j=>j instanceof cT);ts(r,i)&&x.forEach(j=>{let ie=j.currentSnapshot;Object.keys(ie).forEach(pe=>T[pe]=ie[pe])});const R=Ci(t,e=$n(t,e=e.map(j=>uo(j,!1)),T));return new cT(t,e,M,R)}}function uT(){return Kg()&&Element.prototype.animate||{}}let om=(()=>{class n extends DO{constructor(e,r){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(r.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(e){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(e)?_F(e):e;return r0(this._renderer,null,r,"register",[i]),new dT(r,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.FYo),l.LFG(K))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class dT extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new hT(this._id,t,e||{},this._renderer)}}class hT{constructor(t,e,r,i){this.id=t,this.element=e,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return r0(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function r0(n,t,e,r,i){return n.setProperty(t,`@@${e}:${r}`,i)}const o0="@.disabled";let rk=(()=>{class n{constructor(e,r,i){this.delegate=e,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,d)=>{d&&d.parentNode(a)&&d.removeChild(a.parentNode,a)}}createRenderer(e,r){const a=this.delegate.createRenderer(e,r);if(!(e&&r&&r.data&&r.data.animation)){let M=this._rendererCache.get(a);return M||(M=new fT("",a,this.engine),this._rendererCache.set(a,M)),M}const d=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,e);const m=M=>{Array.isArray(M)?M.forEach(m):this.engine.registerTrigger(d,f,e,M.name,M)};return r.data.animation.forEach(m),new ik(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,r,i){e>=0&&e<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[d,f]=a;d(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.FYo),l.LFG(mc),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class fT{constructor(t,e,r){this.namespaceId=t,this.delegate=e,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>e.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,r,i=!0){this.delegate.insertBefore(t,e,r),this.engine.onInsert(this.namespaceId,e,t,i)}removeChild(t,e,r){this.engine.onRemove(this.namespaceId,e,this.delegate,r)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,i){this.delegate.setAttribute(t,e,r,i)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,i){this.delegate.setStyle(t,e,r,i)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){"@"==e.charAt(0)&&e==o0?this.disableAnimations(t,!!r):this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r){return this.delegate.listen(t,e,r)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class ik extends fT{constructor(t,e,r,i){super(e,r,i),this.factory=t,this.namespaceId=e}setProperty(t,e,r){"@"==e.charAt(0)?"."==e.charAt(1)&&e==o0?this.disableAnimations(t,r=void 0===r||!!r):this.engine.process(this.namespaceId,t,e.substr(1),r):this.delegate.setProperty(t,e,r)}listen(t,e,r){if("@"==e.charAt(0)){const i=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let a=e.substr(1),d="";return"@"!=a.charAt(0)&&([a,d]=function(n){const t=n.indexOf(".");return[n.substring(0,t),n.substr(t+1)]}(a)),this.engine.listen(this.namespaceId,i,a,d,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(t,e,r)}}let ak=(()=>{class n extends mc{constructor(e,r,i){super(e.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(K),l.LFG(zf),l.LFG(qw))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const xu=new l.OlP("AnimationModuleType"),nb=[{provide:DO,useClass:om},{provide:qw,useFactory:function(){return new SF}},{provide:mc,useClass:ak},{provide:l.FYo,useFactory:function(n,t,e){return new rk(n,t,e)},deps:[Ii,mc,l.R0b]}],ga=[{provide:zf,useFactory:function(){return"function"==typeof uT()?new tk:new oT}},{provide:xu,useValue:"BrowserAnimations"},...nb],pT=[{provide:zf,useClass:FO},{provide:xu,useValue:"NoopAnimations"},...nb];let cm=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?pT:ga}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:ga,imports:[dd]}),n})(),ck=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:pT,imports:[dd]}),n})();const yT=new l.GfV("12.2.13"),hk=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let rh,Sn=(()=>{class n{constructor(e,r,i){this._hasDoneGlobalChecks=!1,this._document=i,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=r,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!(!(0,l.X6Q)()||Ny())&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const r=getComputedStyle(e);r&&"none"!==r.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&yT.full!==MO.full&&console.warn("The Angular Material version ("+yT.full+") does not match the Angular CDK version ("+MO.full+").\nPlease ensure the versions of these two packages exactly match.")}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Tw),l.LFG(hk,8),l.LFG(K))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Zg],Zg]}),n})();function nh(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=rn(t)}}}function um(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const r=e||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}}}function rb(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=rn(t)}}}function c0(n){return class extends n{constructor(...t){super(...t),this.stateChanges=new it.xQ,this.errorState=!1}updateErrorState(){const t=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==t&&(this.errorState=a,this.stateChanges.next())}}}try{rh="undefined"!=typeof Intl}catch(n){rh=!1}let h0=(()=>{class n{isErrorState(e,r){return!!(e&&e.invalid&&(e.touched||r&&r.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({factory:function(){return new n},token:n,providedIn:"root"}),n})();class p0{constructor(t,e,r){this._renderer=t,this.element=e,this.config=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const bk={enterDuration:225,exitDuration:150},g0=uc({passive:!0}),m0=["mousedown","touchstart"],hm=["mouseup","mouseleave","touchend","touchcancel"];class DT{constructor(t,e,r,i){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=cl(r))}fadeInRipple(t,e,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a=Object.assign(Object.assign({},bk),r.animation);r.centered&&(t=i.left+i.width/2,e=i.top+i.height/2);const d=r.radius||function(n,t,e){const r=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),i=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(r*r+i*i)}(t,e,i),f=t-i.left,m=e-i.top,C=a.enterDuration,M=document.createElement("div");M.classList.add("mat-ripple-element"),M.style.left=f-d+"px",M.style.top=m-d+"px",M.style.height=2*d+"px",M.style.width=2*d+"px",null!=r.color&&(M.style.backgroundColor=r.color),M.style.transitionDuration=`${C}ms`,this._containerElement.appendChild(M),window.getComputedStyle(M).getPropertyValue("opacity"),M.style.transform="scale(1)";const T=new p0(this,M,r);return T.state=0,this._activeRipples.add(T),r.persistent||(this._mostRecentTransientRipple=T),this._runTimeoutOutsideZone(()=>{const x=T===this._mostRecentTransientRipple;T.state=1,!r.persistent&&(!x||!this._isPointerDown)&&T.fadeOut()},C),T}fadeOutRipple(t){const e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!e)return;const r=t.element,i=Object.assign(Object.assign({},bk),t.config.animation);r.style.transitionDuration=`${i.exitDuration}ms`,r.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(()=>{t.state=3,r.parentNode.removeChild(r)},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._activeRipples.forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=cl(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(m0))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(hm),this._pointerUpEventsRegistered=!0)}_onMousedown(t){const e=$g(t),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!r&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Ew(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let r=0;r<e.length;r++)this.fadeInRipple(e[r].clientX,e[r].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._activeRipples.forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_runTimeoutOutsideZone(t,e=0){this._ngZone.runOutsideAngular(()=>setTimeout(t,e))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,g0)})})}_removeTriggerEvents(){this._triggerElement&&(m0.forEach(t=>{this._triggerElement.removeEventListener(t,this,g0)}),this._pointerUpEventsRegistered&&hm.forEach(t=>{this._triggerElement.removeEventListener(t,this,g0)}))}}const y0=new l.OlP("mat-ripple-global-options");let fm=(()=>{class n{constructor(e,r,i,a,d){this._elementRef=e,this._animationMode=d,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new DT(this,r,e,i)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,r=0,i){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,r,Object.assign(Object.assign({},this.rippleConfig),i)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(In),l.Y36(y0,8),l.Y36(xu,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,r){2&e&&l.ekj("mat-ripple-unbounded",r.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),n})(),b0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Sn,jg],Sn]}),n})(),TT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Sn]]}),n})(),FT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[b0,mr,Sn,TT]]}),n})();var Ek=V(9105);function tp(n,t,e,r){return(0,Ek.m)(e)&&(r=e,e=void 0),r?tp(n,t,e).pipe((0,$e.U)(i=>(0,zl.k)(i)?r(...i):r(i))):new mn.y(i=>{Mk(n,t,function(d){i.next(arguments.length>1?Array.prototype.slice.call(arguments):d)},i,e)})}function Mk(n,t,e,r,i){let a;if(function(n){return n&&"function"==typeof n.addEventListener&&"function"==typeof n.removeEventListener}(n)){const d=n;n.addEventListener(t,e,i),a=()=>d.removeEventListener(t,e,i)}else if(function(n){return n&&"function"==typeof n.on&&"function"==typeof n.off}(n)){const d=n;n.on(t,e),a=()=>d.off(t,e)}else if(function(n){return n&&"function"==typeof n.addListener&&"function"==typeof n.removeListener}(n)){const d=n;n.addListener(t,e),a=()=>d.removeListener(t,e)}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(let d=0,f=n.length;d<f;d++)Mk(n[d],t,e,r,i)}r.add(a)}const KB=["underline"],QB=["connectionContainer"],JB=["inputContainer"],XB=["label"];function eU(n,t){1&n&&(l.ynx(0),l.TgZ(1,"div",14),l._UZ(2,"div",15),l._UZ(3,"div",16),l._UZ(4,"div",17),l.qZA(),l.TgZ(5,"div",18),l._UZ(6,"div",15),l._UZ(7,"div",16),l._UZ(8,"div",17),l.qZA(),l.BQk())}function tU(n,t){1&n&&(l.TgZ(0,"div",19),l.Hsn(1,1),l.qZA())}function nU(n,t){if(1&n&&(l.ynx(0),l.Hsn(1,2),l.TgZ(2,"span"),l._uU(3),l.qZA(),l.BQk()),2&n){const e=l.oxw(2);l.xp6(3),l.Oqu(e._control.placeholder)}}function rU(n,t){1&n&&l.Hsn(0,3,["*ngSwitchCase","true"])}function iU(n,t){1&n&&(l.TgZ(0,"span",23),l._uU(1," *"),l.qZA())}function oU(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"label",20,21),l.NdJ("cdkObserveContent",function(){return l.CHM(e),l.oxw().updateOutlineGap()}),l.YNc(2,nU,4,1,"ng-container",12),l.YNc(3,rU,1,0,"ng-content",12),l.YNc(4,iU,2,0,"span",22),l.qZA()}if(2&n){const e=l.oxw();l.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),l.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),l.uIk("for",e._control.id)("aria-owns",e._control.id),l.xp6(2),l.Q6J("ngSwitchCase",!1),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function sU(n,t){1&n&&(l.TgZ(0,"div",24),l.Hsn(1,4),l.qZA())}function aU(n,t){if(1&n&&(l.TgZ(0,"div",25,26),l._UZ(2,"span",27),l.qZA()),2&n){const e=l.oxw();l.xp6(2),l.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function lU(n,t){if(1&n&&(l.TgZ(0,"div"),l.Hsn(1,5),l.qZA()),2&n){const e=l.oxw();l.Q6J("@transitionMessages",e._subscriptAnimationState)}}function Dk(n,t){if(1&n&&(l.TgZ(0,"div",31),l._uU(1),l.qZA()),2&n){const e=l.oxw(2);l.Q6J("id",e._hintLabelId),l.xp6(1),l.Oqu(e.hintLabel)}}function Ok(n,t){if(1&n&&(l.TgZ(0,"div",28),l.YNc(1,Dk,2,2,"div",29),l.Hsn(2,6),l._UZ(3,"div",30),l.Hsn(4,7),l.qZA()),2&n){const e=l.oxw();l.Q6J("@transitionMessages",e._subscriptAnimationState),l.xp6(1),l.Q6J("ngIf",e.hintLabel)}}const Tk=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],cU=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let uU=0;const Ik=new l.OlP("MatError");let kT=(()=>{class n{constructor(e,r){this.id="mat-error-"+uU++,e||r.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(l.$8M("aria-live"),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,r){2&e&&l.uIk("id",r.id)},inputs:{id:"id"},features:[l._Bn([{provide:Ik,useExisting:n}])]}),n})();const Sk={transitionMessages:Mu("transitionMessages",[Du("enter",vi({opacity:1,transform:"translateY(0%)"})),hl("void => enter",[vi({opacity:0,transform:"translateY(-5px)"}),hc("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let ob=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n}),n})();const RT=new l.OlP("MatHint");let sb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-label"]]}),n})(),E0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const ih=new l.OlP("MatPrefix");let M0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","matPrefix",""]],features:[l._Bn([{provide:ih,useExisting:n}])]}),n})();const NT=new l.OlP("MatSuffix");let ab=0;const VT=um(class{constructor(n){this._elementRef=n}},"primary"),fU=new l.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),lb=new l.OlP("MatFormField");let pm=(()=>{class n extends VT{constructor(e,r,i,a,d,f,m,C){super(e),this._changeDetectorRef=r,this._dir=a,this._defaults=d,this._platform=f,this._ngZone=m,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new it.xQ,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+ab++,this._labelId="mat-form-field-label-"+ab++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==C,this.appearance=d&&d.appearance?d.appearance:"legacy",this._hideRequiredMarker=!(!d||null==d.hideRequiredMarker)&&d.hideRequiredMarker}get appearance(){return this._appearance}set appearance(e){const r=this._appearance;this._appearance=e||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&r!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=rn(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Kr(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Gn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Gn(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Is.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Kr(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Kr(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Gn(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const r=this._control?this._control.ngControl:null;return r&&r[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,tp(this._label.nativeElement,"transitionend").pipe(_r(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const r=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,i=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;r?e.push(r.id):this._hintLabel&&e.push(this._hintLabelId),i&&e.push(i.id)}else this._errorChildren&&e.push(...this._errorChildren.map(r=>r.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null;if(!("outline"===this.appearance&&e&&e.children.length&&e.textContent.trim()&&this._platform.isBrowser))return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let r=0,i=0;const a=this._connectionContainerRef.nativeElement,d=a.querySelectorAll(".mat-form-field-outline-start"),f=a.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const m=a.getBoundingClientRect();if(0===m.width&&0===m.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const C=this._getStartEnd(m),M=e.children,T=this._getStartEnd(M[0].getBoundingClientRect());let x=0;for(let R=0;R<M.length;R++)x+=M[R].offsetWidth;r=Math.abs(T-C)-5,i=x>0?.75*x+10:0}for(let m=0;m<d.length;m++)d[m].style.width=`${r}px`;for(let m=0;m<f.length;m++)f[m].style.width=`${i}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const r=e.getRootNode();return r&&r!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(Fs,8),l.Y36(fU,8),l.Y36(In),l.Y36(l.R0b),l.Y36(xu,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,r,i){if(1&e&&(l.Suo(i,ob,5),l.Suo(i,ob,7),l.Suo(i,sb,5),l.Suo(i,sb,7),l.Suo(i,E0,5),l.Suo(i,Ik,5),l.Suo(i,RT,5),l.Suo(i,ih,5),l.Suo(i,NT,5)),2&e){let a;l.iGM(a=l.CRH())&&(r._controlNonStatic=a.first),l.iGM(a=l.CRH())&&(r._controlStatic=a.first),l.iGM(a=l.CRH())&&(r._labelChildNonStatic=a.first),l.iGM(a=l.CRH())&&(r._labelChildStatic=a.first),l.iGM(a=l.CRH())&&(r._placeholderChild=a.first),l.iGM(a=l.CRH())&&(r._errorChildren=a),l.iGM(a=l.CRH())&&(r._hintChildren=a),l.iGM(a=l.CRH())&&(r._prefixChildren=a),l.iGM(a=l.CRH())&&(r._suffixChildren=a)}},viewQuery:function(e,r){if(1&e&&(l.Gf(KB,5),l.Gf(QB,7),l.Gf(JB,5),l.Gf(XB,5)),2&e){let i;l.iGM(i=l.CRH())&&(r.underlineRef=i.first),l.iGM(i=l.CRH())&&(r._connectionContainerRef=i.first),l.iGM(i=l.CRH())&&(r._inputContainerRef=i.first),l.iGM(i=l.CRH())&&(r._label=i.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,r){2&e&&l.ekj("mat-form-field-appearance-standard","standard"==r.appearance)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-appearance-legacy","legacy"==r.appearance)("mat-form-field-invalid",r._control.errorState)("mat-form-field-can-float",r._canLabelFloat())("mat-form-field-should-float",r._shouldLabelFloat())("mat-form-field-has-label",r._hasFloatingLabel())("mat-form-field-hide-placeholder",r._hideControlPlaceholder())("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-focused",r._control.focused)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))("_mat-animation-noopable",!r._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[l._Bn([{provide:lb,useExisting:n}]),l.qOj],ngContentSelectors:cU,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,r){1&e&&(l.F$t(Tk),l.TgZ(0,"div",0),l.TgZ(1,"div",1,2),l.NdJ("click",function(a){return r._control.onContainerClick&&r._control.onContainerClick(a)}),l.YNc(3,eU,9,0,"ng-container",3),l.YNc(4,tU,2,0,"div",4),l.TgZ(5,"div",5,6),l.Hsn(7),l.TgZ(8,"span",7),l.YNc(9,oU,5,16,"label",8),l.qZA(),l.qZA(),l.YNc(10,sU,2,0,"div",9),l.qZA(),l.YNc(11,aU,3,4,"div",10),l.TgZ(12,"div",11),l.YNc(13,lU,2,1,"div",12),l.YNc(14,Ok,5,2,"div",13),l.qZA(),l.qZA()),2&e&&(l.xp6(3),l.Q6J("ngIf","outline"==r.appearance),l.xp6(1),l.Q6J("ngIf",r._prefixChildren.length),l.xp6(5),l.Q6J("ngIf",r._hasFloatingLabel()),l.xp6(1),l.Q6J("ngIf",r._suffixChildren.length),l.xp6(1),l.Q6J("ngIf","outline"!=r.appearance),l.xp6(1),l.Q6J("ngSwitch",r._getDisplayedMessages()),l.xp6(1),l.Q6J("ngSwitchCase","error"),l.xp6(1),l.Q6J("ngSwitchCase","hint"))},directives:[Nr,Mo,rr,YA],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[Sk.transitionMessages]},changeDetection:0}),n})(),gm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[mr,Sn,QD],Sn]}),n})();class gU{constructor(t){this.durationSelector=t}call(t,e){return e.subscribe(new mU(t,this.durationSelector))}}class mU extends Pi.Ds{constructor(t,e){super(t),this.durationSelector=e,this.hasValue=!1}_next(t){if(this.value=t,this.hasValue=!0,!this.throttled){let e;try{const{durationSelector:i}=this;e=i(t)}catch(i){return this.destination.error(i)}const r=(0,Pi.ft)(e,new Pi.IY(this));!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}clearThrottle(){const{value:t,hasValue:e,throttled:r}=this;r&&(this.remove(r),this.throttled=void 0,r.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}notifyNext(){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var BT=V(6561);function cb(n){const{index:t,period:e,subscriber:r}=n;if(r.next(t),!r.closed){if(-1===e)return r.complete();n.index=t+1,this.schedule(n,e)}}function ub(n,t=Gd.P){return function(n){return function(e){return e.lift(new gU(n))}}(()=>function(n=0,t,e){let r=-1;return(0,BT.k)(t)?r=Number(t)<1?1:Number(t):(0,Yo.K)(t)&&(e=t),(0,Yo.K)(e)||(e=Gd.P),new mn.y(i=>{const a=(0,BT.k)(n)?n:+n-e.now();return e.schedule(cb,a,{index:0,period:r,subscriber:i})})}(n,t))}const Pk=uc({passive:!0});let Ak=(()=>{class n{constructor(e,r){this._platform=e,this._ngZone=r,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Ur.E;const r=cl(e),i=this._monitoredElements.get(r);if(i)return i.subject;const a=new it.xQ,d="cdk-text-field-autofilled",f=m=>{"cdk-text-field-autofill-start"!==m.animationName||r.classList.contains(d)?"cdk-text-field-autofill-end"===m.animationName&&r.classList.contains(d)&&(r.classList.remove(d),this._ngZone.run(()=>a.next({target:m.target,isAutofilled:!1}))):(r.classList.add(d),this._ngZone.run(()=>a.next({target:m.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{r.addEventListener("animationstart",f,Pk),r.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(r,{subject:a,unlisten:()=>{r.removeEventListener("animationstart",f,Pk)}}),a}stopMonitoring(e){const r=cl(e),i=this._monitoredElements.get(r);i&&(i.unlisten(),i.subject.complete(),r.classList.remove("cdk-text-field-autofill-monitored"),r.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(r))}ngOnDestroy(){this._monitoredElements.forEach((e,r)=>this.stopMonitoring(r))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(In),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({factory:function(){return new n(l.LFG(In),l.LFG(l.R0b))},token:n,providedIn:"root"}),n})(),Fk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[jg]]}),n})();const bU=new l.OlP("MAT_INPUT_VALUE_ACCESSOR"),HT=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let kk=0;const vU=c0(class{constructor(n,t,e,r){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=r}});let Rk=(()=>{class n extends vU{constructor(e,r,i,a,d,f,m,C,M,T){super(f,a,d,i),this._elementRef=e,this._platform=r,this._autofillMonitor=C,this._formField=T,this._uid="mat-input-"+kk++,this.focused=!1,this.stateChanges=new it.xQ,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(j=>Gx().has(j));const x=this._elementRef.nativeElement,R=x.nodeName.toLowerCase();this._inputValueAccessor=m||x,this._previousNativeValue=this.value,this.id=this.id,r.IOS&&M.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",j=>{const ie=j.target;!ie.value&&0===ie.selectionStart&&0===ie.selectionEnd&&(ie.setSelectionRange(1,1),ie.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===R,this._isTextarea="textarea"===R,this._isInFormField=!!T,this._isNativeSelect&&(this.controlType=x.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=rn(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required}set required(e){this._required=rn(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&Gx().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=rn(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var e,r;const i=(null===(r=null===(e=this._formField)||void 0===e?void 0:e._hideControlPlaceholder)||void 0===r?void 0:r.call(e))?null:this.placeholder;if(i!==this._previousPlaceholder){const a=this._elementRef.nativeElement;this._previousPlaceholder=i,i?a.setAttribute("placeholder",i):a.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){HT.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,r=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&r&&r.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(In),l.Y36(nl,10),l.Y36(Of,8),l.Y36(bu,8),l.Y36(h0),l.Y36(bU,10),l.Y36(Ak),l.Y36(l.R0b),l.Y36(lb,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:11,hostBindings:function(e,r){1&e&&l.NdJ("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&e&&(l.Ikx("disabled",r.disabled)("required",r.required),l.uIk("id",r.id)("data-placeholder",r.placeholder)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required),l.ekj("mat-input-server",r._isServer)("mat-native-select-inline",r._isInlineSelect()))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[l._Bn([{provide:ob,useExisting:n}]),l.qOj,l.TTD]}),n})(),Nk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[h0],imports:[[Fk,gm,Sn],Fk,gm]}),n})();var mm=V(205),jT=V(8819);class zT{}class GT{}class ma{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const r=e.indexOf(":");if(r>0){const i=e.slice(0,r),a=i.toLowerCase(),d=e.slice(r+1).trim();this.maybeSetNormalizedName(i,a),this.headers.has(a)?this.headers.get(a).push(d):this.headers.set(a,[d])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let r=t[e];const i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(i,r),this.maybeSetNormalizedName(e,i))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof ma?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new ma;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof ma?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(t.name,e);const i=("a"===t.op?this.headers.get(e):void 0)||[];i.push(...r),this.headers.set(e,i);break;case"d":const a=t.value;if(a){let d=this.headers.get(e);if(!d)return;d=d.filter(f=>-1===a.indexOf(f)),0===d.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,d)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class Lk{encodeKey(t){return $T(t)}encodeValue(t){return $T(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const Vk=/%(\d[a-f0-9])/gi,O0={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function $T(n){return encodeURIComponent(n).replace(Vk,(t,e)=>{var r;return null!==(r=O0[e])&&void 0!==r?r:t})}function qT(n){return`${n}`}class pl{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Lk,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const a=i.indexOf("="),[d,f]=-1==a?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,a)),t.decodeValue(i.slice(a+1))],m=e.get(d)||[];m.push(f),e.set(d,m)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const r=t.fromObject[e];this.map.set(e,Array.isArray(r)?r:[r])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(r=>{const i=t[r];Array.isArray(i)?i.forEach(a=>{e.push({param:r,value:a,op:"a"})}):e.push({param:r,value:i,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(r=>e+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new pl({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(qT(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let r=this.map.get(t.param)||[];const i=r.indexOf(qT(t.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class WT{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function T0(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function I0(n){return"undefined"!=typeof Blob&&n instanceof Blob}function ZT(n){return"undefined"!=typeof FormData&&n instanceof FormData}class oh{constructor(t,e,r,i){let a;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new ma),this.context||(this.context=new WT),this.params){const d=this.params.toString();if(0===d.length)this.urlWithParams=e;else{const f=e.indexOf("?");this.urlWithParams=e+(-1===f?"?":f<e.length-1?"&":"")+d}}else this.params=new pl,this.urlWithParams=e}serializeBody(){return null===this.body?null:T0(this.body)||I0(this.body)||ZT(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof pl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ZT(this.body)?null:I0(this.body)?this.body.type||null:T0(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof pl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const r=t.method||this.method,i=t.url||this.url,a=t.responseType||this.responseType,d=void 0!==t.body?t.body:this.body,f=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,m=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let C=t.headers||this.headers,M=t.params||this.params;const T=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(C=Object.keys(t.setHeaders).reduce((x,R)=>x.set(R,t.setHeaders[R]),C)),t.setParams&&(M=Object.keys(t.setParams).reduce((x,R)=>x.set(R,t.setParams[R]),M)),new oh(r,i,d,{params:M,headers:C,context:T,reportProgress:m,responseType:a,withCredentials:f})}}var Cr=(()=>((Cr=Cr||{})[Cr.Sent=0]="Sent",Cr[Cr.UploadProgress=1]="UploadProgress",Cr[Cr.ResponseHeader=2]="ResponseHeader",Cr[Cr.DownloadProgress=3]="DownloadProgress",Cr[Cr.Response=4]="Response",Cr[Cr.User=5]="User",Cr))();class db{constructor(t,e=200,r="OK"){this.headers=t.headers||new ma,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class _m extends db{constructor(t={}){super(t),this.type=Cr.ResponseHeader}clone(t={}){return new _m({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class hb extends db{constructor(t={}){super(t),this.type=Cr.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new hb({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Rs extends db{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function S0(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let fb=(()=>{class n{constructor(e){this.handler=e}request(e,r,i={}){let a;if(e instanceof oh)a=e;else{let m,C;m=i.headers instanceof ma?i.headers:new ma(i.headers),i.params&&(C=i.params instanceof pl?i.params:new pl({fromObject:i.params})),a=new oh(e,r,void 0!==i.body?i.body:null,{headers:m,context:i.context,params:C,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const d=(0,Le.of)(a).pipe(Jc(m=>this.handler.handle(m)));if(e instanceof oh||"events"===i.observe)return d;const f=d.pipe(On(m=>m instanceof hb));switch(i.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,$e.U)(m=>{if(null!==m.body&&!(m.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return m.body}));case"blob":return f.pipe((0,$e.U)(m=>{if(null!==m.body&&!(m.body instanceof Blob))throw new Error("Response is not a Blob.");return m.body}));case"text":return f.pipe((0,$e.U)(m=>{if(null!==m.body&&"string"!=typeof m.body)throw new Error("Response is not a string.");return m.body}));case"json":default:return f.pipe((0,$e.U)(m=>m.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(e,r={}){return this.request("DELETE",e,r)}get(e,r={}){return this.request("GET",e,r)}head(e,r={}){return this.request("HEAD",e,r)}jsonp(e,r){return this.request("JSONP",e,{params:(new pl).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,r={}){return this.request("OPTIONS",e,r)}patch(e,r,i={}){return this.request("PATCH",e,S0(i,r))}post(e,r,i={}){return this.request("POST",e,S0(i,r))}put(e,r,i={}){return this.request("PUT",e,S0(i,r))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(zT))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class YT{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const jk=new l.OlP("HTTP_INTERCEPTORS");let zk=(()=>{class n{intercept(e,r){return r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const KT=/^\)\]\}',?\n/;let qk=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new mn.y(r=>{const i=this.xhrFactory.build();if(i.open(e.method,e.urlWithParams),e.withCredentials&&(i.withCredentials=!0),e.headers.forEach((R,j)=>i.setRequestHeader(R,j.join(","))),e.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const R=e.detectContentTypeHeader();null!==R&&i.setRequestHeader("Content-Type",R)}if(e.responseType){const R=e.responseType.toLowerCase();i.responseType="json"!==R?R:"text"}const a=e.serializeBody();let d=null;const f=()=>{if(null!==d)return d;const R=1223===i.status?204:i.status,j=i.statusText||"OK",ie=new ma(i.getAllResponseHeaders()),pe=function(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||e.url;return d=new _m({headers:ie,status:R,statusText:j,url:pe}),d},m=()=>{let{headers:R,status:j,statusText:ie,url:pe}=f(),Ae=null;204!==j&&(Ae=void 0===i.response?i.responseText:i.response),0===j&&(j=Ae?200:0);let Ge=j>=200&&j<300;if("json"===e.responseType&&"string"==typeof Ae){const et=Ae;Ae=Ae.replace(KT,"");try{Ae=""!==Ae?JSON.parse(Ae):null}catch(tt){Ae=et,Ge&&(Ge=!1,Ae={error:tt,text:Ae})}}Ge?(r.next(new hb({body:Ae,headers:R,status:j,statusText:ie,url:pe||void 0})),r.complete()):r.error(new Rs({error:Ae,headers:R,status:j,statusText:ie,url:pe||void 0}))},C=R=>{const{url:j}=f(),ie=new Rs({error:R,status:i.status||0,statusText:i.statusText||"Unknown Error",url:j||void 0});r.error(ie)};let M=!1;const T=R=>{M||(r.next(f()),M=!0);let j={type:Cr.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(j.total=R.total),"text"===e.responseType&&!!i.responseText&&(j.partialText=i.responseText),r.next(j)},x=R=>{let j={type:Cr.UploadProgress,loaded:R.loaded};R.lengthComputable&&(j.total=R.total),r.next(j)};return i.addEventListener("load",m),i.addEventListener("error",C),i.addEventListener("timeout",C),i.addEventListener("abort",C),e.reportProgress&&(i.addEventListener("progress",T),null!==a&&i.upload&&i.upload.addEventListener("progress",x)),i.send(a),r.next({type:Cr.Sent}),()=>{i.removeEventListener("error",C),i.removeEventListener("abort",C),i.removeEventListener("load",m),i.removeEventListener("timeout",C),e.reportProgress&&(i.removeEventListener("progress",T),null!==a&&i.upload&&i.upload.removeEventListener("progress",x)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ed))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const pb=new l.OlP("XSRF_COOKIE_NAME"),gb=new l.OlP("XSRF_HEADER_NAME");class QT{}let Wk=(()=>{class n{constructor(e,r,i){this.doc=e,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=gr(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(K),l.LFG(l.Lbi),l.LFG(pb))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),mb=(()=>{class n{constructor(e,r){this.tokenService=e,this.headerName=r}intercept(e,r){const i=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||i.startsWith("http://")||i.startsWith("https://"))return r.handle(e);const a=this.tokenService.getToken();return null!==a&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,a)})),r.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(QT),l.LFG(gb))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),ym=(()=>{class n{constructor(e,r){this.backend=e,this.injector=r,this.chain=null}handle(e){if(null===this.chain){const r=this.injector.get(jk,[]);this.chain=r.reduceRight((i,a)=>new YT(i,a),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(GT),l.LFG(l.zs3))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Yk=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:mb,useClass:zk}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:pb,useValue:e.cookieName}:[],e.headerName?{provide:gb,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[mb,{provide:jk,useExisting:mb,multi:!0},{provide:QT,useClass:Wk},{provide:pb,useValue:"XSRF-TOKEN"},{provide:gb,useValue:"X-XSRF-TOKEN"}]}),n})(),Kk=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[fb,{provide:zT,useClass:ym},qk,{provide:GT,useExisting:qk}],imports:[[Yk.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();const OU=["*"];function P0(n){return Error(`Unable to find icon with the name "${n}"`)}function eI(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function tI(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class sh{constructor(t,e,r){this.url=t,this.svgText=e,this.options=r}}let _b=(()=>{class n{constructor(e,r,i,a){this._httpClient=e,this._sanitizer=r,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=i}addSvgIcon(e,r,i){return this.addSvgIconInNamespace("",e,r,i)}addSvgIconLiteral(e,r,i){return this.addSvgIconLiteralInNamespace("",e,r,i)}addSvgIconInNamespace(e,r,i,a){return this._addSvgIconConfig(e,r,new sh(i,null,a))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,r,i,a){const d=this._sanitizer.sanitize(l.q3G.HTML,i);if(!d)throw tI(i);return this._addSvgIconConfig(e,r,new sh("",d,a))}addSvgIconSet(e,r){return this.addSvgIconSetInNamespace("",e,r)}addSvgIconSetLiteral(e,r){return this.addSvgIconSetLiteralInNamespace("",e,r)}addSvgIconSetInNamespace(e,r,i){return this._addSvgIconSetConfig(e,new sh(r,null,i))}addSvgIconSetLiteralInNamespace(e,r,i){const a=this._sanitizer.sanitize(l.q3G.HTML,r);if(!a)throw tI(r);return this._addSvgIconSetConfig(e,new sh("",a,i))}registerFontClassAlias(e,r=e){return this._fontCssClassesByAlias.set(e,r),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const r=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,e);if(!r)throw eI(e);const i=this._cachedIconsByUrl.get(r);return i?(0,Le.of)(A0(i)):this._loadSvgIconFromConfig(new sh(e,null)).pipe((0,Tn.b)(a=>this._cachedIconsByUrl.set(r,a)),(0,$e.U)(a=>A0(a)))}getNamedSvgIcon(e,r=""){const i=rI(r,e);let a=this._svgIconConfigs.get(i);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(r,e),a)return this._svgIconConfigs.set(i,a),this._getSvgFromConfig(a);const d=this._iconSetConfigs.get(r);return d?this._getSvgFromIconSetConfigs(e,d):(0,mm._)(P0(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,Le.of)(A0(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,$e.U)(r=>A0(r)))}_getSvgFromIconSetConfigs(e,r){const i=this._extractIconWithNameFromAnySet(e,r);return i?(0,Le.of)(i):HM(r.filter(d=>!d.svgText).map(d=>this._loadSvgIconSetFromConfig(d).pipe(Qo(f=>{const C=`Loading icon set URL: ${this._sanitizer.sanitize(l.q3G.RESOURCE_URL,d.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(C)),(0,Le.of)(null)})))).pipe((0,$e.U)(()=>{const d=this._extractIconWithNameFromAnySet(e,r);if(!d)throw P0(e);return d}))}_extractIconWithNameFromAnySet(e,r){for(let i=r.length-1;i>=0;i--){const a=r[i];if(a.svgText&&a.svgText.indexOf(e)>-1){const d=this._svgElementFromConfig(a),f=this._extractSvgIconFromSet(d,e,a.options);if(f)return f}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Tn.b)(r=>e.svgText=r),(0,$e.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,Le.of)(null):this._fetchIcon(e).pipe((0,Tn.b)(r=>e.svgText=r))}_extractSvgIconFromSet(e,r,i){const a=e.querySelector(`[id="${r}"]`);if(!a)return null;const d=a.cloneNode(!0);if(d.removeAttribute("id"),"svg"===d.nodeName.toLowerCase())return this._setSvgAttributes(d,i);if("symbol"===d.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(d),i);const f=this._svgElementFromString("<svg></svg>");return f.appendChild(d),this._setSvgAttributes(f,i)}_svgElementFromString(e){const r=this._document.createElement("DIV");r.innerHTML=e;const i=r.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){const r=this._svgElementFromString("<svg></svg>"),i=e.attributes;for(let a=0;a<i.length;a++){const{name:d,value:f}=i[a];"id"!==d&&r.setAttribute(d,f)}for(let a=0;a<e.childNodes.length;a++)e.childNodes[a].nodeType===this._document.ELEMENT_NODE&&r.appendChild(e.childNodes[a].cloneNode(!0));return r}_setSvgAttributes(e,r){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),r&&r.viewBox&&e.setAttribute("viewBox",r.viewBox),e}_fetchIcon(e){var r;const{url:i,options:a}=e,d=null!==(r=null==a?void 0:a.withCredentials)&&void 0!==r&&r;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const f=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,i);if(!f)throw eI(i);const m=this._inProgressUrlFetches.get(f);if(m)return m;const C=this._httpClient.get(f,{responseType:"text",withCredentials:d}).pipe(rf(()=>this._inProgressUrlFetches.delete(f)),(0,jT.B)());return this._inProgressUrlFetches.set(f,C),C}_addSvgIconConfig(e,r,i){return this._svgIconConfigs.set(rI(e,r),i),this}_addSvgIconSetConfig(e,r){const i=this._iconSetConfigs.get(e);return i?i.push(r):this._iconSetConfigs.set(e,[r]),this}_svgElementFromConfig(e){if(!e.svgElement){const r=this._svgElementFromString(e.svgText);this._setSvgAttributes(r,e.options),e.svgElement=r}return e.svgElement}_getIconConfigFromResolvers(e,r){for(let i=0;i<this._resolvers.length;i++){const a=this._resolvers[i](r,e);if(a)return x0(a)?new sh(a.url,null,a.options):new sh(a,null)}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(fb,8),l.LFG(qo),l.LFG(K,8),l.LFG(l.qLn))},n.\u0275prov=l.Yz7({factory:function(){return new n(l.LFG(fb,8),l.LFG(qo),l.LFG(K,8),l.LFG(l.qLn))},token:n,providedIn:"root"}),n})();function A0(n){return n.cloneNode(!0)}function rI(n,t){return n+":"+t}function x0(n){return!(!n.url||!n.options)}const Xr=um(class{constructor(n){this._elementRef=n}}),TU=new l.OlP("mat-icon-location",{providedIn:"root",factory:function(){const n=(0,l.f3M)(K),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),F0=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],yb=F0.map(n=>`[${n}]`).join(", "),Jk=/^url\(['"]?#(.*?)['"]?\)$/;let bb=(()=>{class n extends Xr{constructor(e,r,i,a,d){super(e),this._iconRegistry=r,this._location=a,this._errorHandler=d,this._inline=!1,this._currentIconFetch=yr.w.EMPTY,i||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=rn(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const r=this._cleanupFontValue(e);r!==this._fontSet&&(this._fontSet=r,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const r=this._cleanupFontValue(e);r!==this._fontIcon&&(this._fontIcon=r,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const r=e.split(":");switch(r.length){case 1:return["",r[0]];case 2:return r;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const r=this._location.getPathname();r!==this._previousPath&&(this._previousPath=r,this._prependPathToReferences(r))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const r=e.querySelectorAll("style");for(let a=0;a<r.length;a++)r[a].textContent+=" ";const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let r=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();r--;){const i=e.childNodes[r];(1!==i.nodeType||"svg"===i.nodeName.toLowerCase())&&e.removeChild(i)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,r=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();r!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),r&&e.classList.add(r),this._previousFontSetClass=r),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const r=this._elementsWithExternalReferences;r&&r.forEach((i,a)=>{i.forEach(d=>{a.setAttribute(d.name,`url('${e}#${d.value}')`)})})}_cacheChildrenWithExternalReferences(e){const r=e.querySelectorAll(yb),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<r.length;a++)F0.forEach(d=>{const f=r[a],m=f.getAttribute(d),C=m?m.match(Jk):null;if(C){let M=i.get(f);M||(M=[],i.set(f,M)),M.push({name:d,value:C[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[r,i]=this._splitIconName(e);r&&(this._svgNamespace=r),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,r).pipe(_r(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${r}:${i}! ${a.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(_b),l.$8M("aria-hidden"),l.Y36(TU),l.Y36(l.qLn))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,r){2&e&&(l.uIk("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet),l.ekj("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.qOj],ngContentSelectors:OU,decls:1,vars:0,template:function(e,r){1&e&&(l.F$t(),l.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),n})(),oI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Sn],Sn]}),n})();const Fu=["mat-button",""],k0=["*"],vb=".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n",Xk=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Cb=um(nh(rb(class{constructor(n){this._elementRef=n}})));let wb=(()=>{class n extends Cb{constructor(e,r,i){super(e),this._focusMonitor=r,this._animationMode=i,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of Xk)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,r){e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(r=>this._getHostElement().hasAttribute(r))}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(As),l.Y36(xu,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,r){if(1&e&&l.Gf(fm,5),2&e){let i;l.iGM(i=l.CRH())&&(r.ripple=i.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,r){2&e&&(l.uIk("disabled",r.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:Fu,ngContentSelectors:k0,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,r){1&e&&(l.F$t(),l.TgZ(0,"span",0),l.Hsn(1),l.qZA(),l._UZ(2,"span",1),l._UZ(3,"span",2)),2&e&&(l.xp6(2),l.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),l.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[fm],styles:[vb],encapsulation:2,changeDetection:0}),n})(),Eb=(()=>{class n extends wb{constructor(e,r,i){super(r,e,i)}_haltDisabledEvents(e){this.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(As),l.Y36(l.SBq),l.Y36(xu,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["a","mat-button",""],["a","mat-raised-button",""],["a","mat-icon-button",""],["a","mat-fab",""],["a","mat-mini-fab",""],["a","mat-stroked-button",""],["a","mat-flat-button",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:7,hostBindings:function(e,r){1&e&&l.NdJ("click",function(a){return r._haltDisabledEvents(a)}),2&e&&(l.uIk("tabindex",r.disabled?-1:r.tabIndex||0)("disabled",r.disabled||null)("aria-disabled",r.disabled.toString()),l.ekj("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-button-disabled",r.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matButton","matAnchor"],features:[l.qOj],attrs:Fu,ngContentSelectors:k0,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,r){1&e&&(l.F$t(),l.TgZ(0,"span",0),l.Hsn(1),l.qZA(),l._UZ(2,"span",1),l._UZ(3,"span",2)),2&e&&(l.xp6(2),l.ekj("mat-button-ripple-round",r.isRoundButton||r.isIconButton),l.Q6J("matRippleDisabled",r._isRippleDisabled())("matRippleCentered",r.isIconButton)("matRippleTrigger",r._getHostElement()))},directives:[fm],styles:[vb],encapsulation:2,changeDetection:0}),n})(),sI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[b0,Sn],Sn]}),n})();function ei(n,t){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Field is required"),l.qZA())}function IU(n,t){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Invalid email"),l.qZA())}function eR(n,t){if(1&n&&(l.TgZ(0,"mat-error"),l.YNc(1,ei,2,0,"mat-error",7),l.YNc(2,IU,2,0,"mat-error",7),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.Q6J("ngIf",null==e.email.errors?null:e.email.errors.required),l.xp6(1),l.Q6J("ngIf",null==e.email.errors?null:e.email.errors.email)}}function tR(n,t){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Field is required"),l.qZA())}function SU(n,t){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Min length is 6 characters"),l.qZA())}function Mb(n,t){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Max length is 20 characters"),l.qZA())}function nR(n,t){if(1&n&&(l.TgZ(0,"mat-error"),l.YNc(1,tR,2,0,"mat-error",7),l.YNc(2,SU,2,0,"mat-error",7),l.YNc(3,Mb,2,0,"mat-error",7),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.Q6J("ngIf",null==e.password.errors?null:e.password.errors.required),l.xp6(1),l.Q6J("ngIf",null==e.password.errors?null:e.password.errors.minlength),l.xp6(1),l.Q6J("ngIf",null==e.password.errors?null:e.password.errors.maxlength)}}let PU=(()=>{class n{constructor(e){this.authService=e,this.loginGroup=new Cg({email:new Ts("",[lr.required,lr.email]),password:new Ts("",[lr.required,lr.minLength(6),lr.maxLength(20)])})}get email(){return this.loginGroup.get("email")}get password(){return this.loginGroup.get("password")}logIn(){const{email:e,password:r}=this.loginGroup.value;this.authService.signIn(e,r)}logInAsGuest(){this.authService.signInAsGuest()}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Dy))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-login-form"]],decls:26,vars:4,consts:[[1,"page"],[1,"form__container"],[1,"form__title"],[1,"form",3,"formGroup"],["appearance","legacy","color","accent"],["type","text","matInput","","placeholder","Type your email","formControlName","email"],["matPrefix",""],[4,"ngIf"],["type","password","matInput","","placeholder","Type your Password","formControlName","password"],["mat-button","","type","submit",1,"form__btn",3,"disabled","click"],["routerLink","/","mat-button","","type","button",1,"form__btn",3,"click"],[1,"form__link"],["mat-button","","routerLink","/register","href","#"]],template:function(e,r){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"h2",2),l._uU(3,"Sign In"),l.qZA(),l.TgZ(4,"form",3),l.TgZ(5,"mat-form-field",4),l.TgZ(6,"mat-label"),l._uU(7,"Email"),l.qZA(),l._UZ(8,"input",5),l.TgZ(9,"mat-icon",6),l._uU(10,"mail_outline"),l.qZA(),l.YNc(11,eR,3,2,"mat-error",7),l.qZA(),l.TgZ(12,"mat-form-field",4),l.TgZ(13,"mat-label"),l._uU(14,"Password"),l.qZA(),l._UZ(15,"input",8),l.TgZ(16,"mat-icon",6),l._uU(17,"lock"),l.qZA(),l.YNc(18,nR,4,3,"mat-error",7),l.qZA(),l.TgZ(19,"button",9),l.NdJ("click",function(){return r.logIn()}),l._uU(20,"LOGIN"),l.qZA(),l.TgZ(21,"button",10),l.NdJ("click",function(){return r.logInAsGuest()}),l._uU(22,"SIGN IN AS A GUEST"),l.qZA(),l.qZA(),l.TgZ(23,"div",11),l.TgZ(24,"a",12),l._uU(25,"SIGN UP"),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(4),l.Q6J("formGroup",r.loginGroup),l.xp6(7),l.Q6J("ngIf",r.email.invalid&&(r.email.dirty||r.email.touched)),l.xp6(7),l.Q6J("ngIf",r.password.invalid&&(r.password.dirty||r.password.touched)),l.xp6(1),l.Q6J("disabled",r.loginGroup.invalid))},directives:[DC,fC,bu,pm,sb,Rk,yu,Vd,ly,bb,M0,Nr,wb,dg,Eb,wf,kT],styles:[".form__container[_ngcontent-%COMP%]{padding:40px;background:#7b3fe1;width:400px;margin:0 auto;transform:translateY(100px);color:#fffc;border-radius:10px}.form__container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{padding:20px;display:flex;flex-direction:column}.form__container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill{-webkit-box-shadow:0 0 0 1000px #7b3fe1 inset!important;-webkit-text-fill-color:rgba(255,255,255,.8)!important}.form__container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{padding-right:10px}.form__container[_ngcontent-%COMP%]   .form__btn[_ngcontent-%COMP%]{margin:10px 0;background:#1f2329}.form__container[_ngcontent-%COMP%]   .form__link[_ngcontent-%COMP%]{text-align:center}.form__title[_ngcontent-%COMP%]{color:inherit;text-align:center;font-weight:normal}.page[_ngcontent-%COMP%]{min-width:100vw;min-height:100vh;background:#1f2329}"]}),n})();class xU{constructor(t,e){this.observables=t,this.project=e}call(t,e){return e.subscribe(new rR(t,this.observables,this.project))}}class rR extends Wc{constructor(t,e,r){super(t),this.observables=e,this.project=r,this.toRespond=[];const i=e.length;this.values=new Array(i);for(let a=0;a<i;a++)this.toRespond.push(a);for(let a=0;a<i;a++)this.add(Vn(this,e[a],void 0,a))}notifyNext(t,e,r){this.values[r]=e;const i=this.toRespond;if(i.length>0){const a=i.indexOf(r);-1!==a&&i.splice(a,1)}}notifyComplete(){}_next(t){if(0===this.toRespond.length){const e=[t,...this.values];this.project?this._tryProject(e):this.destination.next(e)}}_tryProject(t){let e;try{e=this.project.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)}}class oR{constructor(t){this.predicate=t}call(t,e){return e.subscribe(new sR(t,this.predicate))}}class sR extends tn.L{constructor(t,e){super(t),this.predicate=e,this.skipping=!0,this.index=0}_next(t){const e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)}tryCallPredicate(t){try{const e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(e){this.destination.error(e)}}}V(941);var aR=V(3394);const aI="@firebase/database";let N0="";function lR(n){N0=n}class kU{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),(0,L.Pz)(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:(0,L.cI)(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}class cR{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e}get(t){return(0,L.r3)(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}const cI=function(n){try{if("undefined"!=typeof window&&void 0!==window[n]){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new kU(t)}}catch(t){}return new cR},ah=cI("localStorage"),L0=cI("sessionStorage"),np=new sl.Yd("@firebase/database"),Ns=function(){let n=1;return function(){return n++}}(),uI=function(n){const t=(0,L.dS)(n),e=new L.gQ;e.update(t);const r=e.digest();return L.US.encodeByteArray(r)},bm=function(...n){let t="";for(let e=0;e<n.length;e++){const r=n[e];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=bm.apply(null,r):t+="object"==typeof r?(0,L.Pz)(r):r,t+=" "}return t};let lh=null,dI=!0;const uR=function(n,t){(0,L.hu)(!t||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(np.logLevel=sl.in.VERBOSE,lh=np.log.bind(np),t&&L0.set("logging_enabled",!0)):"function"==typeof n?lh=n:(lh=null,L0.remove("logging_enabled"))},ti=function(...n){if(!0===dI&&(dI=!1,null===lh&&!0===L0.get("logging_enabled")&&uR(!0)),lh){const t=bm.apply(null,n);lh(t)}},vm=function(n){return function(...t){ti(n,...t)}},V0=function(...n){const t="FIREBASE INTERNAL ERROR: "+bm(...n);np.error(t)},Ro=function(...n){const t=`FIREBASE FATAL ERROR: ${bm(...n)}`;throw np.error(t),new Error(t)},Li=function(...n){const t="FIREBASE WARNING: "+bm(...n);np.warn(t)},Db=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},ku="[MIN_NAME]",_c="[MAX_NAME]",yc=function(n,t){if(n===t)return 0;if(n===ku||t===_c)return-1;if(t===ku||n===_c)return 1;{const e=wm(n),r=wm(t);return null!==e?null!==r?e-r==0?n.length-t.length:e-r:-1:null!==r?1:n<t?-1:1}},dR=function(n,t){return n===t?0:n<t?-1:1},Cm=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+(0,L.Pz)(t))},B0=function(n){if("object"!=typeof n||null===n)return(0,L.Pz)(n);const t=[];for(const r in n)t.push(r);t.sort();let e="{";for(let r=0;r<t.length;r++)0!==r&&(e+=","),e+=(0,L.Pz)(t[r]),e+=":",e+=B0(n[t[r]]);return e+="}",e},hR=function(n,t){const e=n.length;if(e<=t)return[n];const r=[];for(let i=0;i<e;i+=t)r.push(n.substring(i,i+t>e?e:i+t));return r};function ni(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const hI=function(n){(0,L.hu)(!Db(n),"Invalid JSON number");const r=1023;let i,a,d,f,m;0===n?(a=0,d=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(f=Math.min(Math.floor(Math.log(n)/Math.LN2),r),a=f+r,d=Math.round(n*Math.pow(2,52-f)-Math.pow(2,52))):(a=0,d=Math.round(n/Math.pow(2,-1074))));const C=[];for(m=52;m;m-=1)C.push(d%2?1:0),d=Math.floor(d/2);for(m=11;m;m-=1)C.push(a%2?1:0),a=Math.floor(a/2);C.push(i?1:0),C.reverse();const M=C.join("");let T="";for(m=0;m<64;m+=8){let x=parseInt(M.substr(m,8),2).toString(16);1===x.length&&(x="0"+x),T+=x}return T.toLowerCase()},fI=new RegExp("^-?(0*)\\d{1,10}$"),pI=-2147483648,Ob=2147483647,wm=function(n){if(fI.test(n)){const t=Number(n);if(t>=pI&&t<=Ob)return t}return null},ch=function(n){try{n()}catch(t){setTimeout(()=>{throw Li("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},uh=function(n,t){const e=setTimeout(n,t);return"object"==typeof e&&e.unref&&e.unref(),e};class H0{constructor(t,e){this.appName_=t,this.appCheckProvider=e,this.appCheck=null==e?void 0:e.getImmediate({optional:!0}),this.appCheck||null==e||e.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((e,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){var e;null===(e=this.appCheckProvider)||void 0===e||e.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Li(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class Tb{constructor(t,e,r){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&"auth/token-not-initialized"===e.code?(ti("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,r):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';t+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Li(t)}}let Ru=(()=>{class n{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const _I=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,bI="websocket",Vi="long_polling";class dh{constructor(t,e,r,i,a=!1,d="",f=!1){this.secure=e,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=d,this.includeNamespaceInQueryParams=f,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ah.get("host:"+t)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&ah.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function G0(n,t,e){let r;if((0,L.hu)("string"==typeof t,"typeof type must == string"),(0,L.hu)("object"==typeof e,"typeof params must == object"),t===bI)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(t!==Vi)throw new Error("Unknown connection type: "+t);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(e.ns=n.namespace);const i=[];return ni(e,(a,d)=>{i.push(a+"="+d)}),r+i.join("&")}class Sb{constructor(){this.counters_={}}incrementCounter(t,e=1){(0,L.r3)(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return(0,L.p$)(this.counters_)}}const Dm={},Pb={};function rp(n){const t=n.toString();return Dm[t]||(Dm[t]=new Sb),Dm[t]}class mR{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ch(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class ip{constructor(t,e,r,i,a,d,f){this.connId=t,this.repoInfo=e,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=d,this.lastSessionId=f,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=vm(t),this.stats_=rp(e),this.urlFn=m=>(this.appCheckToken&&(m.ac=this.appCheckToken),G0(e,Vi,m))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new mR(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,L.Yr)()||"complete"===document.readyState)n();else{let t=!1;const e=function(){document.body?t||(t=!0,n()):setTimeout(e,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&e()}),window.attachEvent("onload",e))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new q0((...a)=>{const[d,f,m,C,M]=a;if(this.incrementIncomingBytes_(a),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===d)this.id=f,this.password=m;else{if("close"!==d)throw new Error("Unrecognized command received: "+d);f?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(f,()=>{this.onClosed_()})):this.onClosed_()}},(...a)=>{const[d,f]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(d,f)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&_I.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ip.forceAllow_=!0}static forceDisallow(){ip.forceDisallow_=!0}static isAvailable(){return!((0,L.Yr)()||!ip.forceAllow_&&(ip.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=(0,L.Pz)(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const r=(0,L.h$)(e),i=hR(r,1840);for(let a=0;a<i.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[a]),this.curSegmentNum++}addDisconnectPingFrame(t,e){if((0,L.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=t,r.pw=e,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=(0,L.Pz)(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class q0{constructor(t,e,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,L.Yr)())this.commandCB=t,this.onMessageCB=e;else{this.uniqueCallbackIdentifier=Ns(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=e,this.myIFrame=q0.createIFrame_();let a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(a='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(f){ti("frame writing exception"),f.stack&&ti(f.stack),ti(f)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||ti("No IE domain setting required")}catch(e){const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;let e=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const d=this.pendingSegs.shift();r=r+"&seg"+i+"="+d.seg+"&ts"+i+"="+d.ts+"&d"+i+"="+d.d,i++}return e+=r,this.addLongPollTag_(e,this.currentSerial),!0}return!1}enqueueSegment(t,e,r){this.pendingSegs.push({seg:t,ts:e,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const r=()=>{this.outstandingRequests.delete(e),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,()=>{clearTimeout(i),r()})}addTag(t,e){(0,L.Yr)()?this.doNodeLongPoll(t,e):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=()=>{ti("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch(r){}},Math.floor(1))}}let gl=null;"undefined"!=typeof MozWebSocket?gl=MozWebSocket:"undefined"!=typeof WebSocket&&(gl=WebSocket);let Nu=(()=>{class n{constructor(e,r,i,a,d,f,m){this.connId=e,this.applicationId=i,this.appCheckToken=a,this.authToken=d,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=vm(this.connId),this.stats_=rp(r),this.connURL=n.connectionURL_(r,f,m,a),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,i,a){const d={v:"5"};return!(0,L.Yr)()&&"undefined"!=typeof location&&location.hostname&&_I.test(location.hostname)&&(d.r="f"),r&&(d.s=r),i&&(d.ls=i),a&&(d.ac=a),G0(e,bI,d)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ah.set("previous_websocket_failure",!0);try{if((0,L.Yr)()){const a={headers:{"User-Agent":`Firebase/5/${N0}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(a.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);const d=process.env,f=0===this.connURL.indexOf("wss://")?d.HTTPS_PROXY||d.https_proxy:d.HTTP_PROXY||d.http_proxy;f&&(a.proxy={origin:f}),this.mySock=new gl(this.connURL,[],a)}else this.mySock=new gl(this.connURL,[],{headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}})}catch(i){this.log_("Error instantiating WebSocket.");const a=i.message||i.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const a=i.message||i.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&null!==gl&&!n.forceDisallow_}static previouslyFailed(){return ah.isInMemoryStorage||!0===ah.get("previous_websocket_failure")}markConnectionHealthy(){ah.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,L.cI)(r);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,L.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const r=(0,L.Pz)(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=hR(r,16384);i.length>1&&this.sendString_(String(i.length));for(let a=0;a<i.length;a++)this.sendString_(i[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})();class Lu{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[ip,Nu]}initTransports_(t){const e=Nu&&Nu.isAvailable();let r=e&&!Nu.previouslyFailed();if(t.webSocketOnly&&(e||Li("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Nu];else{const i=this.transports_=[];for(const a of Lu.ALL_TRANSPORTS)a&&a.isAvailable()&&i.push(a)}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}class PI{constructor(t,e,r,i,a,d,f,m,C,M){this.id=t,this.repoInfo_=e,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=d,this.onReady_=f,this.onDisconnect_=m,this.onKill_=C,this.lastSessionId=M,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=vm("c:"+this.id+":"),this.transportManager_=new Lu(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=uh(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{2!==this.state_&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){this.sendData_({t:"d",d:t})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if("t"in t){const e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Cm("t",t),r=Cm("d",t);if("c"===e)this.onSecondaryControl_(r);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Cm("t",t),r=Cm("d",t);"c"===e?this.onControl_(r):"d"===e&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Cm("t",t);if("d"in t){const r=t.d;if("h"===e)this.onHandshake_(r);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(r):"r"===e?this.onReset_(r):"e"===e?V0("Server Error: "+r):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):V0("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==r&&Li("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,r),uh(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):uh(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ah.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class IR{put(t,e,r,i){}merge(t,e,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,r){}onDisconnectMerge(t,e,r){}onDisconnectCancel(t,e){}reportStats(t){}}class SR{constructor(t){this.allowedEvents_=t,this.listeners_={},(0,L.hu)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)}}on(t,e,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:r});const i=this.getInitialEvent(t);i&&e.apply(r,i)}off(t,e,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let a=0;a<i.length;a++)if(i[a].callback===e&&(!r||r===i[a].context))return void i.splice(a,1)}validateEventType_(t){(0,L.hu)(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}class Y0 extends SR{constructor(){super(["online"]),this.online_=!0,"undefined"!=typeof window&&void 0!==window.addEventListener&&!(0,L.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Y0}getInitialEvent(t){return(0,L.hu)("online"===t,"Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}class fn{constructor(t,e){if(void 0===e){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"}}function cn(){return new fn("")}function Vt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function hh(n){return n.pieces_.length-n.pieceNum_}function Pn(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new fn(n.pieces_,t)}function K0(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function Rb(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function AR(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new fn(t,0)}function Jn(n,t){const e=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)e.push(n.pieces_[r]);if(t instanceof fn)for(let r=t.pieceNum_;r<t.pieces_.length;r++)e.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&e.push(r[i])}return new fn(e,0)}function o(n){return n.pieceNum_>=n.pieces_.length}function s(n,t){const e=Vt(n),r=Vt(t);if(null===e)return t;if(e===r)return s(Pn(n),Pn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function c(n,t){const e=Rb(n,0),r=Rb(t,0);for(let i=0;i<e.length&&i<r.length;i++){const a=yc(e[i],r[i]);if(0!==a)return a}return e.length===r.length?0:e.length<r.length?-1:1}function u(n,t){if(hh(n)!==hh(t))return!1;for(let e=n.pieceNum_,r=t.pieceNum_;e<=n.pieces_.length;e++,r++)if(n.pieces_[e]!==t.pieces_[r])return!1;return!0}function h(n,t){let e=n.pieceNum_,r=t.pieceNum_;if(hh(n)>hh(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[r])return!1;++e,++r}return!0}class p{constructor(t,e){this.errorPrefix_=e,this.parts_=Rb(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,L.ug)(this.parts_[r]);E(this)}}function E(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+D(n))}function D(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class P extends SR{constructor(){let t,e;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(e="visibilitychange",t="hidden"):void 0!==document.mozHidden?(e="mozvisibilitychange",t="mozHidden"):void 0!==document.msHidden?(e="msvisibilitychange",t="msHidden"):void 0!==document.webkitHidden&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new P}getInitialEvent(t){return(0,L.hu)("visible"===t,"Unknown event type: "+t),[this.visible_]}}const k=1e3;let ur,Ze=(()=>{class n extends IR{constructor(e,r,i,a,d,f,m,C){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=a,this.onServerInfoUpdate_=d,this.authTokenProvider_=f,this.appCheckTokenProvider_=m,this.authOverride_=C,this.id=n.nextPersistentConnectionId_++,this.log_=vm("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=k,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,C&&!(0,L.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");P.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&Y0.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,i){const a=++this.requestNumber_,d={r:a,a:e,b:r};this.log_((0,L.Pz)(d)),(0,L.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(d),i&&(this.requestCBHash_[a]=i)}get(e){this.initConnection_();const r=new L.BH,i={p:e._path.toString(),q:e._queryObject},a={action:"g",request:i,onComplete:f=>{const m=f.d;"ok"===f.s?(this.onDataUpdate_(i.p,m,!1,null),r.resolve(m)):r.reject(m)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const d=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const f=this.outstandingGets_[d];void 0===f||a!==f||(delete this.outstandingGets_[d],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+d+" timed out on connection"),r.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(d),r.promise}listen(e,r,i,a){this.initConnection_();const d=e._queryIdentifier,f=e._path.toString();this.log_("Listen called for "+f+" "+d),this.listens.has(f)||this.listens.set(f,new Map),(0,L.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,L.hu)(!this.listens.get(f).has(d),"listen() called twice for same path/queryId.");const m={onComplete:a,hashFn:r,query:e,tag:i};this.listens.get(f).set(d,m),this.connected_&&this.sendListen_(m)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(e){const r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);const d={p:i};e.tag&&(d.q=r._queryObject,d.t=e.tag),d.h=e.hashFn(),this.sendRequest("q",d,m=>{const C=m.d,M=m.s;n.warnOnListenWarnings_(C,r),(this.listens.get(i)&&this.listens.get(i).get(a))===e&&(this.log_("listen response",m),"ok"!==M&&this.removeListen_(i,a),e.onComplete&&e.onComplete(M,C))})}static warnOnListenWarnings_(e,r){if(e&&"object"==typeof e&&(0,L.r3)(e,"w")){const i=(0,L.DV)(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const a='".indexOn": "'+r._queryParams.getIndex().toString()+'"',d=r._path.toString();Li(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${d} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,L.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=(0,L.w9)(e)?"auth":"gauth",i={cred:e};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,a=>{const d=a.s,f=a.d||"error";this.authToken_===e&&("ok"===d?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(d,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,i=e.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(e,r){const i=e._path.toString(),a=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+a),(0,L.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,a)&&this.connected_&&this.sendUnlisten_(i,a,e._queryObject,r)}sendUnlisten_(e,r,i,a){this.log_("Unlisten on "+e+" for "+r);const d={p:e};a&&(d.q=i,d.t=a),this.sendRequest("n",d)}onDisconnectPut(e,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:i})}onDisconnectMerge(e,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:i})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,i,a){const d={p:r,d:i};this.log_("onDisconnect "+e,d),this.sendRequest(e,d,f=>{a&&setTimeout(()=>{a(f.s,f.d)},Math.floor(0))})}put(e,r,i,a){this.putInternal("p",e,r,i,a)}merge(e,r,i,a){this.putInternal("m",e,r,i,a)}putInternal(e,r,i,a,d){this.initConnection_();const f={p:r,d:i};void 0!==d&&(f.h=d),this.outstandingPuts_.push({action:e,request:f,onComplete:a}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,a=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,i,d=>{this.log_(r+" response",d),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),a&&a(d.s,d.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,L.Pz)(e));const r=e.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),"d"===e?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===e?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===e?this.onListenRevoked_(r.p,r.q):"ac"===e?this.onAuthRevoked_(r.s,r.d):"apc"===e?this.onAppCheckRevoked_(r.s,r.d):"sd"===e?this.onSecurityDebugPacket_(r):V0("Unrecognized action received from server: "+(0,L.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,L.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=k,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=k,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=k),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var e=this;return(0,_e.Z)(function*(){if(e.shouldReconnect_()){e.log_("Making a connection attempt"),e.lastConnectionAttemptTime_=(new Date).getTime(),e.lastConnectionEstablishedTime_=null;const r=e.onDataMessage_.bind(e),i=e.onReady_.bind(e),a=e.onRealtimeDisconnect_.bind(e),d=e.id+":"+n.nextConnectionId_++,f=e.lastSessionId;let m=!1,C=null;const M=function(){C?C.close():(m=!0,a())};e.realtime_={close:M,sendRequest:function(R){(0,L.hu)(C,"sendRequest call when we're not connected not allowed."),C.sendRequest(R)}};const x=e.forceTokenRefresh_;e.forceTokenRefresh_=!1;try{const[R,j]=yield Promise.all([e.authTokenProvider_.getToken(x),e.appCheckTokenProvider_.getToken(x)]);m?ti("getToken() completed but was canceled"):(ti("getToken() completed. Creating connection."),e.authToken_=R&&R.accessToken,e.appCheckToken_=j&&j.token,C=new PI(d,e.repoInfo_,e.applicationId_,e.appCheckToken_,e.authToken_,r,i,a,ie=>{Li(ie+" ("+e.repoInfo_.toString()+")"),e.interrupt("server_kill")},f))}catch(R){e.log_("Failed to get token: "+R),m||(e.repoInfo_.nodeAdmin&&Li(R),M())}}})()}interrupt(e){ti("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ti("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,L.xb)(this.interruptReasons_)&&(this.reconnectDelay_=k,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let i;i=r?r.map(d=>B0(d)).join("$"):"default";const a=this.removeListen_(e,i);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(e,r){const i=new fn(e).toString();let a;if(this.listens.has(i)){const d=this.listens.get(i);a=d.get(r),d.delete(r),0===d.size&&this.listens.delete(i)}else a=void 0;return a}onAuthRevoked_(e,r){ti("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===e||"permission_denied"===e)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){ti("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===e||"permission_denied"===e)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";(0,L.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+r+"."+N0.replace(/\./g,"-")]=1,(0,L.uI)()?e["framework.cordova"]=1:(0,L.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Y0.getInstance().currentlyOnline();return(0,L.xb)(this.interruptReasons_)&&e}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class xe{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new xe(t,e)}}class kt{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const r=new xe(ku,t),i=new xe(ku,e);return 0!==this.compare(r,i)}minPost(){return xe.MIN}}class is extends kt{static get __EMPTY_NODE(){return ur}static set __EMPTY_NODE(t){ur=t}compare(t,e){return yc(t.name,e.name)}isDefinedOn(t){throw(0,L.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return xe.MIN}maxPost(){return new xe(_c,ur)}makePost(t,e){return(0,L.hu)("string"==typeof t,"KeyIndex indexValue must always be a string."),new xe(t,ur)}toString(){return".key"}}const No=new is;class Cc{constructor(t,e,r,i,a=null){this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];let d=1;for(;!t.isEmpty();)if(t=t,d=e?r(t.key,e):1,i&&(d*=-1),d<0)t=this.isReverse_?t.left:t.right;else{if(0===d){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}let Sm,Bi=(()=>{class n{constructor(e,r,i,a,d){this.key=e,this.value=r,this.color=null!=i?i:n.RED,this.left=null!=a?a:Ui.EMPTY_NODE,this.right=null!=d?d:Ui.EMPTY_NODE}copy(e,r,i,a,d){return new n(null!=e?e:this.key,null!=r?r:this.value,null!=i?i:this.color,null!=a?a:this.left,null!=d?d:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,i){let a=this;const d=i(e,a.key);return a=d<0?a.copy(null,null,null,a.left.insert(e,r,i),null):0===d?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(e,r,i)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ui.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let i,a;if(i=this,r(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(e,i.key)){if(i.right.isEmpty())return Ui.EMPTY_NODE;a=i.right.min_(),i=i.copy(a.key,a.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Ui{constructor(t,e=Ui.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Ui(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,Bi.BLACK,null,null))}remove(t){return new Ui(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Bi.BLACK,null,null))}get(t){let e,r=this.root_;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e)return r.value;e<0?r=r.left:e>0&&(r=r.right)}return null}getPredecessorKey(t){let e,r=this.root_,i=null;for(;!r.isEmpty();){if(e=this.comparator_(t,r.key),0===e){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}e<0?r=r.left:e>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Cc(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Cc(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Cc(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Cc(this.root_,null,this.comparator_,!0,t)}}function Q0(n,t){return yc(n.name,t.name)}function Im(n,t){return yc(n,t)}Ui.EMPTY_NODE=new class{copy(t,e,r,i,a){return this}insert(t,e,r){return new Bi(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const BU=function(n){return"number"==typeof n?"number:"+hI(n):"string:"+n},UU=function(n){if(n.isLeafNode()){const t=n.val();(0,L.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,L.r3)(t,".sv"),"Priority must be a string or number.")}else(0,L.hu)(n===Sm||n.isEmpty(),"priority of unexpected type.");(0,L.hu)(n===Sm||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let HU,jU,zU,Nb=(()=>{class n{constructor(e,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,(0,L.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),UU(this.priorityNode_)}static set __childrenNodeConstructor(e){HU=e}static get __childrenNodeConstructor(){return HU}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new n(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return o(e)?this:".priority"===Vt(e)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return".priority"===e?this.updatePriority(r):r.isEmpty()&&".priority"!==e?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const i=Vt(e);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,L.hu)(".priority"!==i||1===hh(e),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(Pn(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+BU(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",e+="number"===r?hI(this.value_):this.value_,this.lazyHash_=uI(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===n.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof n.__childrenNodeConstructor?-1:((0,L.hu)(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,i=typeof this.value_,a=n.VALUE_TYPE_ORDER.indexOf(r),d=n.VALUE_TYPE_ORDER.indexOf(i);return(0,L.hu)(a>=0,"Unknown leaf type: "+r),(0,L.hu)(d>=0,"Unknown leaf type: "+i),a===d?"object"===i?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:d-a}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}return!1}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const qn=new class extends kt{compare(t,e){const r=t.node.getPriority(),i=e.node.getPriority(),a=r.compareTo(i);return 0===a?yc(t.name,e.name):a}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return xe.MIN}maxPost(){return new xe(_c,new Nb("[PRIORITY-POST]",zU))}makePost(t,e){const r=jU(t);return new xe(e,new Nb("[PRIORITY-POST]",r))}toString(){return".priority"}},sq=Math.log(2);class aq{constructor(t){this.count=parseInt(Math.log(t+1)/sq,10),this.current_=this.count-1;const i=(a=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const xI=function(n,t,e,r){n.sort(t);const i=function(m,C){const M=C-m;let T,x;if(0===M)return null;if(1===M)return T=n[m],x=e?e(T):T,new Bi(x,T.node,Bi.BLACK,null,null);{const R=parseInt(M/2,10)+m,j=i(m,R),ie=i(R+1,C);return T=n[R],x=e?e(T):T,new Bi(x,T.node,Bi.BLACK,j,ie)}},f=function(m){let C=null,M=null,T=n.length;const x=function(j,ie){const pe=T-j,Ae=T;T-=j;const Ge=i(pe+1,Ae),et=n[pe],tt=e?e(et):et;R(new Bi(tt,et.node,ie,null,Ge))},R=function(j){C?(C.left=j,C=j):(M=j,C=j)};for(let j=0;j<m.count;++j){const ie=m.nextBitIsOne(),pe=Math.pow(2,m.count-(j+1));ie?x(pe,Bi.BLACK):(x(pe,Bi.BLACK),x(pe,Bi.RED))}return M}(new aq(n.length));return new Ui(r||t,f)};let xR;const Lb={};class fh{constructor(t,e){this.indexes_=t,this.indexSet_=e}static get Default(){return(0,L.hu)(Lb&&qn,"ChildrenNode.ts has not been loaded"),xR=xR||new fh({".priority":Lb},{".priority":qn}),xR}get(t){const e=(0,L.DV)(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Ui?e:null}hasIndex(t){return(0,L.r3)(this.indexSet_,t.toString())}addIndex(t,e){(0,L.hu)(t!==No,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const a=e.getIterator(xe.Wrap);let f,d=a.getNext();for(;d;)i=i||t.isDefinedOn(d.node),r.push(d),d=a.getNext();f=i?xI(r,t.getCompare()):Lb;const m=t.toString(),C=Object.assign({},this.indexSet_);C[m]=t;const M=Object.assign({},this.indexes_);return M[m]=f,new fh(M,C)}addToIndexes(t,e){const r=(0,L.UI)(this.indexes_,(i,a)=>{const d=(0,L.DV)(this.indexSet_,a);if((0,L.hu)(d,"Missing index implementation for "+a),i===Lb){if(d.isDefinedOn(t.node)){const f=[],m=e.getIterator(xe.Wrap);let C=m.getNext();for(;C;)C.name!==t.name&&f.push(C),C=m.getNext();return f.push(t),xI(f,d.getCompare())}return Lb}{const f=e.get(t.name);let m=i;return f&&(m=m.remove(new xe(t.name,f))),m.insert(t,t.node)}});return new fh(r,this.indexSet_)}removeFromIndexes(t,e){const r=(0,L.UI)(this.indexes_,i=>{if(i===Lb)return i;{const a=e.get(t.name);return a?i.remove(new xe(t.name,a)):i}});return new fh(r,this.indexSet_)}}let X0,At=(()=>{class n{constructor(e,r,i){this.children_=e,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&UU(this.priorityNode_),this.children_.isEmpty()&&(0,L.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return X0||(X0=new n(new Ui(Im),null,fh.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||X0}updatePriority(e){return this.children_.isEmpty()?this:new n(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const r=this.children_.get(e);return null===r?X0:r}}getChild(e){const r=Vt(e);return null===r?this:this.getImmediateChild(r).getChild(Pn(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,r){if((0,L.hu)(r,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(r);{const i=new xe(e,r);let a,d;r.isEmpty()?(a=this.children_.remove(e),d=this.indexMap_.removeFromIndexes(i,this.children_)):(a=this.children_.insert(e,r),d=this.indexMap_.addToIndexes(i,this.children_));const f=a.isEmpty()?X0:this.priorityNode_;return new n(a,f,d)}}updateChild(e,r){const i=Vt(e);if(null===i)return r;{(0,L.hu)(".priority"!==Vt(e)||1===hh(e),".priority must be the last token in a path");const a=this.getImmediateChild(i).updateChild(Pn(e),r);return this.updateImmediateChild(i,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let i=0,a=0,d=!0;if(this.forEachChild(qn,(f,m)=>{r[f]=m.val(e),i++,d&&n.INTEGER_REGEXP_.test(f)?a=Math.max(a,Number(f)):d=!1}),!e&&d&&a<2*i){const f=[];for(const m in r)f[m]=r[m];return f}return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+BU(this.getPriority().val())+":"),this.forEachChild(qn,(r,i)=>{const a=i.hash();""!==a&&(e+=":"+r+":"+a)}),this.lazyHash_=""===e?"":uI(e)}return this.lazyHash_}getPredecessorChildName(e,r,i){const a=this.resolveIndex_(i);if(a){const d=a.getPredecessorKey(new xe(e,r));return d?d.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new xe(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new xe(r,this.children_.get(r)):null}forEachChild(e,r){const i=this.resolveIndex_(e);return i?i.inorderTraversal(a=>r(a.name,a.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(e,a=>a);{const a=this.children_.getIteratorFrom(e.name,xe.Wrap);let d=a.peek();for(;null!=d&&r.compare(d,e)<0;)a.getNext(),d=a.peek();return a}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(e,a=>a);{const a=this.children_.getReverseIteratorFrom(e.name,xe.Wrap);let d=a.peek();for(;null!=d&&r.compare(d,e)>0;)a.getNext(),d=a.peek();return a}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===eE?-1:0}withIndex(e){if(e===No||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===No||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(qn),a=r.getIterator(qn);let d=i.getNext(),f=a.getNext();for(;d&&f;){if(d.name!==f.name||!d.node.equals(f.node))return!1;d=i.getNext(),f=a.getNext()}return null===d&&null===f}return!1}return!1}}resolveIndex_(e){return e===No?null:this.indexMap_.get(e.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const eE=new class extends At{constructor(){super(new Ui(Im),At.EMPTY_NODE,fh.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return At.EMPTY_NODE}isEmpty(){return!1}};function wr(n,t=null){if(null===n)return At.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(t=n[".priority"]),(0,L.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Nb(n,wr(t));if(n instanceof Array){let e=At.EMPTY_NODE;return ni(n,(r,i)=>{if((0,L.r3)(n,r)&&"."!==r.substring(0,1)){const a=wr(i);(a.isLeafNode()||!a.isEmpty())&&(e=e.updateImmediateChild(r,a))}}),e.updatePriority(wr(t))}{const e=[];let r=!1;if(ni(n,(d,f)=>{if("."!==d.substring(0,1)){const m=wr(f);m.isEmpty()||(r=r||!m.getPriority().isEmpty(),e.push(new xe(d,m)))}}),0===e.length)return At.EMPTY_NODE;const a=xI(e,Q0,d=>d.name,Im);if(r){const d=xI(e,qn.getCompare());return new At(a,wr(t),new fh({".priority":d},{".priority":qn}))}return new At(a,wr(t),fh.Default)}}Object.defineProperties(xe,{MIN:{value:new xe(ku,At.EMPTY_NODE)},MAX:{value:new xe(_c,eE)}}),is.__EMPTY_NODE=At.EMPTY_NODE,Nb.__childrenNodeConstructor=At,Sm=eE,zU=eE,function(n){jU=n}(wr);class FR extends kt{constructor(t){super(),this.indexPath_=t,(0,L.hu)(!o(t)&&".priority"!==Vt(t),"Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const r=this.extractChild(t.node),i=this.extractChild(e.node),a=r.compareTo(i);return 0===a?yc(t.name,e.name):a}makePost(t,e){const r=wr(t),i=At.EMPTY_NODE.updateChild(this.indexPath_,r);return new xe(e,i)}maxPost(){const t=At.EMPTY_NODE.updateChild(this.indexPath_,eE);return new xe(_c,t)}toString(){return Rb(this.indexPath_,0).join("/")}}const kR=new class extends kt{compare(t,e){const r=t.node.compareTo(e.node);return 0===r?yc(t.name,e.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return xe.MIN}maxPost(){return xe.MAX}makePost(t,e){const r=wr(t);return new xe(e,r)}toString(){return".value"}},Vb="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",dq=function(){let n=0;const t=[];return function(e){const r=e===n;let i;n=e;const a=new Array(8);for(i=7;i>=0;i--)a[i]=Vb.charAt(e%64),e=Math.floor(e/64);(0,L.hu)(0===e,"Cannot push at time == 0");let d=a.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)d+=Vb.charAt(t[i]);return(0,L.hu)(20===d.length,"nextPushId: Length should be 20."),d}}(),qU=function(n){if(n===""+Ob)return"-";const t=wm(n);if(null!=t)return""+(t+1);const e=new Array(n.length);for(let d=0;d<e.length;d++)e[d]=n.charAt(d);if(e.length<786)return e.push("-"),e.join("");let r=e.length-1;for(;r>=0&&"z"===e[r];)r--;if(-1===r)return _c;const a=Vb.charAt(Vb.indexOf(e[r])+1);return e[r]=a,e.slice(0,r+1).join("")},WU=function(n){if(n===""+pI)return ku;const t=wm(n);if(null!=t)return""+(t-1);const e=new Array(n.length);for(let r=0;r<e.length;r++)e[r]=n.charAt(r);return"-"===e[e.length-1]?1===e.length?""+Ob:(delete e[e.length-1],e.join("")):(e[e.length-1]=Vb.charAt(Vb.indexOf(e[e.length-1])-1),e.join("")+"z".repeat(786-e.length))};function ZU(n){return{type:"value",snapshotNode:n}}function Bb(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function tE(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function nE(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}class NR{constructor(t){this.index_=t}updateChild(t,e,r,i,a,d){(0,L.hu)(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const f=t.getImmediateChild(e);return f.getChild(i).equals(r.getChild(i))&&f.isEmpty()===r.isEmpty()||(null!=d&&(r.isEmpty()?t.hasChild(e)?d.trackChildChange(tE(e,f)):(0,L.hu)(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):f.isEmpty()?d.trackChildChange(Bb(e,r)):d.trackChildChange(nE(e,r,f))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(e,r).withIndex(this.index_)}updateFullNode(t,e,r){return null!=r&&(t.isLeafNode()||t.forEachChild(qn,(i,a)=>{e.hasChild(i)||r.trackChildChange(tE(i,a))}),e.isLeafNode()||e.forEachChild(qn,(i,a)=>{if(t.hasChild(i)){const d=t.getImmediateChild(i);d.equals(a)||r.trackChildChange(nE(i,a,d))}else r.trackChildChange(Bb(i,a))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?At.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class rE{constructor(t){this.indexedFilter_=new NR(t.getIndex()),this.index_=t.getIndex(),this.startPost_=rE.getStartPost_(t),this.endPost_=rE.getEndPost_(t)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0}updateChild(t,e,r,i,a,d){return this.matches(new xe(e,r))||(r=At.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,r,i,a,d)}updateFullNode(t,e,r){e.isLeafNode()&&(e=At.EMPTY_NODE);let i=e.withIndex(this.index_);i=i.updatePriority(At.EMPTY_NODE);const a=this;return e.forEachChild(qn,(d,f)=>{a.matches(new xe(d,f))||(i=i.updateImmediateChild(d,At.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()}}class fq{constructor(t){this.rangedFilter_=new rE(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}updateChild(t,e,r,i,a,d){return this.rangedFilter_.matches(new xe(e,r))||(r=At.EMPTY_NODE),t.getImmediateChild(e).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,r,i,a,d):this.fullLimitUpdateChild_(t,e,r,a,d)}updateFullNode(t,e,r){let i;if(e.isLeafNode()||e.isEmpty())i=At.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){let a;i=At.EMPTY_NODE.withIndex(this.index_),a=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;a.hasNext()&&d<this.limit_;){const f=a.getNext();let m;if(m=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),f)<=0:this.index_.compare(f,this.rangedFilter_.getEndPost())<=0,!m)break;i=i.updateImmediateChild(f.name,f.node),d++}}else{let a,d,f,m;if(i=e.withIndex(this.index_),i=i.updatePriority(At.EMPTY_NODE),this.reverse_){m=i.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),d=this.rangedFilter_.getStartPost();const T=this.index_.getCompare();f=(x,R)=>T(R,x)}else m=i.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),d=this.rangedFilter_.getEndPost(),f=this.index_.getCompare();let C=0,M=!1;for(;m.hasNext();){const T=m.getNext();!M&&f(a,T)<=0&&(M=!0),M&&C<this.limit_&&f(T,d)<=0?C++:i=i.updateImmediateChild(T.name,At.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,r,i,a){let d;if(this.reverse_){const T=this.index_.getCompare();d=(x,R)=>T(R,x)}else d=this.index_.getCompare();const f=t;(0,L.hu)(f.numChildren()===this.limit_,"");const m=new xe(e,r),C=this.reverse_?f.getFirstChild(this.index_):f.getLastChild(this.index_),M=this.rangedFilter_.matches(m);if(f.hasChild(e)){const T=f.getImmediateChild(e);let x=i.getChildAfterChild(this.index_,C,this.reverse_);for(;null!=x&&(x.name===e||f.hasChild(x.name));)x=i.getChildAfterChild(this.index_,x,this.reverse_);const R=null==x?1:d(x,m);if(M&&!r.isEmpty()&&R>=0)return null!=a&&a.trackChildChange(nE(e,r,T)),f.updateImmediateChild(e,r);{null!=a&&a.trackChildChange(tE(e,T));const ie=f.updateImmediateChild(e,At.EMPTY_NODE);return null!=x&&this.rangedFilter_.matches(x)?(null!=a&&a.trackChildChange(Bb(x.name,x.node)),ie.updateImmediateChild(x.name,x.node)):ie}}return r.isEmpty()?t:M&&d(C,m)>=0?(null!=a&&(a.trackChildChange(tE(C.name,C.node)),a.trackChildChange(Bb(e,r))),f.updateImmediateChild(e,r).updateImmediateChild(C.name,At.EMPTY_NODE)):t}}class FI{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=qn}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,L.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,L.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ku}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,L.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,L.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:_c}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,L.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===qn}copy(){const t=new FI;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function LR(n,t,e){const r=n.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=e?(r.startNameSet_=!0,r.indexStartName_=e):(r.startNameSet_=!1,r.indexStartName_=""),r}function VR(n,t,e){const r=n.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==e?(r.endNameSet_=!0,r.indexEndName_=e):(r.endNameSet_=!1,r.indexEndName_=""),r}function kI(n,t){const e=n.copy();return e.index_=t,e}function YU(n){const t={};if(n.isDefault())return t;let e;return n.index_===qn?e="$priority":n.index_===kR?e="$value":n.index_===No?e="$key":((0,L.hu)(n.index_ instanceof FR,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=(0,L.Pz)(e),n.startSet_&&(t.startAt=(0,L.Pz)(n.indexStartValue_),n.startNameSet_&&(t.startAt+=","+(0,L.Pz)(n.indexStartName_))),n.endSet_&&(t.endAt=(0,L.Pz)(n.indexEndValue_),n.endNameSet_&&(t.endAt+=","+(0,L.Pz)(n.indexEndName_))),n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function KU(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_)),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_)),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;""===e&&(e=n.isViewFromLeft()?"l":"r"),t.vf=e}return n.index_!==qn&&(t.i=n.index_.toString()),t}class RI extends IR{constructor(t,e,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=vm("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return void 0!==e?"tag$"+e:((0,L.hu)(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,e,r,i){const a=t._path.toString();this.log_("Listen called for "+a+" "+t._queryIdentifier);const d=RI.getListenId_(t,r),f={};this.listens_[d]=f;const m=YU(t._queryParams);this.restRequest_(a+".json",m,(C,M)=>{let T=M;if(404===C&&(T=null,C=null),null===C&&this.onDataUpdate_(a,T,!1,r),(0,L.DV)(this.listens_,d)===f){let x;x=C?401===C?"permission_denied":"rest_error:"+C:"ok",i(x,null)}})}unlisten(t,e){const r=RI.getListenId_(t,e);delete this.listens_[r]}get(t){const e=YU(t._queryParams),r=t._path.toString(),i=new L.BH;return this.restRequest_(r+".json",e,(a,d)=>{let f=d;404===a&&(f=null,a=null),null===a?(this.onDataUpdate_(r,f,!1,null),i.resolve(f)):i.reject(new Error(f))}),i.promise}refreshAuthToken(t){}restRequest_(t,e={},r){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,a])=>{i&&i.accessToken&&(e.auth=i.accessToken),a&&a.token&&(e.ac=a.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+(0,L.xO)(e);this.log_("Sending REST request for "+d);const f=new XMLHttpRequest;f.onreadystatechange=()=>{if(r&&4===f.readyState){this.log_("REST Response for "+d+" received. status:",f.status,"response:",f.responseText);let m=null;if(f.status>=200&&f.status<300){try{m=(0,L.cI)(f.responseText)}catch(C){Li("Failed to parse JSON response for "+d+": "+f.responseText)}r(null,m)}else 401!==f.status&&404!==f.status&&Li("Got unsuccessful REST response for "+d+" Status: "+f.status),r(f.status);r=null}},f.open("GET",d,!0),f.send()})}}class bq{constructor(){this.rootNode_=At.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}function NI(){return{value:null,children:new Map}}function Ub(n,t,e){if(o(t))n.value=e,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(t,e);else{const r=Vt(t);n.children.has(r)||n.children.set(r,NI()),Ub(n.children.get(r),t=Pn(t),e)}}function BR(n,t){if(o(t))return n.value=null,n.children.clear(),!0;if(null!==n.value){if(n.value.isLeafNode())return!1;{const e=n.value;return n.value=null,e.forEachChild(qn,(r,i)=>{Ub(n,new fn(r),i)}),BR(n,t)}}if(n.children.size>0){const e=Vt(t);return t=Pn(t),n.children.has(e)&&BR(n.children.get(e),t)&&n.children.delete(e),0===n.children.size}return!0}function UR(n,t,e){null!==n.value?e(t,n.value):function(n,t){n.children.forEach((e,r)=>{t(r,e)})}(n,(r,i)=>{UR(i,new fn(t.toString()+"/"+r),e)})}class Cq{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&ni(this.last_,(r,i)=>{e[r]=e[r]-i}),this.last_=t,e}}class Mq{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Cq(t);const r=1e4+2e4*Math.random();uh(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),e={};let r=!1;ni(t,(i,a)=>{a>0&&(0,L.r3)(this.statsToReport_,i)&&(e[i]=a,r=!0)}),r&&this.server_.reportStats(e),uh(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var ml=(()=>(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(ml||(ml={})),ml))();function zR(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class LI{constructor(t,e,r){this.path=t,this.affectedTree=e,this.revert=r,this.type=ml.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(t){if(o(this.path)){if(null!=this.affectedTree.value)return(0,L.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new fn(t));return new LI(cn(),e,this.revert)}}return(0,L.hu)(Vt(this.path)===t,"operationForChild called for unrelated child."),new LI(Pn(this.path),this.affectedTree,this.revert)}}class iE{constructor(t,e){this.source=t,this.path=e,this.type=ml.LISTEN_COMPLETE}operationForChild(t){return o(this.path)?new iE(this.source,cn()):new iE(this.source,Pn(this.path))}}class Pm{constructor(t,e,r){this.source=t,this.path=e,this.snap=r,this.type=ml.OVERWRITE}operationForChild(t){return o(this.path)?new Pm(this.source,cn(),this.snap.getImmediateChild(t)):new Pm(this.source,Pn(this.path),this.snap)}}class Hb{constructor(t,e,r){this.source=t,this.path=e,this.children=r,this.type=ml.MERGE}operationForChild(t){if(o(this.path)){const e=this.children.subtree(new fn(t));return e.isEmpty()?null:e.value?new Pm(this.source,cn(),e.value):new Hb(this.source,cn(),e)}return(0,L.hu)(Vt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Hb(this.source,Pn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class sp{constructor(t,e,r){this.node_=t,this.fullyInitialized_=e,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(o(t))return this.isFullyInitialized()&&!this.filtered_;const e=Vt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}class Dq{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function oE(n,t,e,r,i,a){const d=r.filter(f=>f.type===e);d.sort((f,m)=>function(n,t,e){if(null==t.childName||null==e.childName)throw(0,L.g5)("Should only compare child_ events.");const r=new xe(t.childName,t.snapshotNode),i=new xe(e.childName,e.snapshotNode);return n.index_.compare(r,i)}(n,f,m)),d.forEach(f=>{const m=function(n,t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}(n,f,a);i.forEach(C=>{C.respondsTo(f.type)&&t.push(C.createEvent(m,n.query_))})})}function VI(n,t){return{eventCache:n,serverCache:t}}function sE(n,t,e,r){return VI(new sp(t,e,r),n.serverCache)}function JU(n,t,e,r){return VI(n.eventCache,new sp(t,e,r))}function BI(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Am(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let GR;class Wn{constructor(t,e=(()=>(GR||(GR=new Ui(dR)),GR))()){this.value=t,this.children=e}static fromObject(t){let e=new Wn(null);return ni(t,(r,i)=>{e=e.set(new fn(r),i)}),e}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(null!=this.value&&e(this.value))return{path:cn(),value:this.value};if(o(t))return null;{const r=Vt(t),i=this.children.get(r);if(null!==i){const a=i.findRootMostMatchingPathAndValue(Pn(t),e);return null!=a?{path:Jn(new fn(r),a.path),value:a.value}:null}return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(o(t))return this;{const e=Vt(t),r=this.children.get(e);return null!==r?r.subtree(Pn(t)):new Wn(null)}}set(t,e){if(o(t))return new Wn(e,this.children);{const r=Vt(t),a=(this.children.get(r)||new Wn(null)).set(Pn(t),e),d=this.children.insert(r,a);return new Wn(this.value,d)}}remove(t){if(o(t))return this.children.isEmpty()?new Wn(null):new Wn(null,this.children);{const e=Vt(t),r=this.children.get(e);if(r){const i=r.remove(Pn(t));let a;return a=i.isEmpty()?this.children.remove(e):this.children.insert(e,i),null===this.value&&a.isEmpty()?new Wn(null):new Wn(this.value,a)}return this}}get(t){if(o(t))return this.value;{const e=Vt(t),r=this.children.get(e);return r?r.get(Pn(t)):null}}setTree(t,e){if(o(t))return e;{const r=Vt(t),a=(this.children.get(r)||new Wn(null)).setTree(Pn(t),e);let d;return d=a.isEmpty()?this.children.remove(r):this.children.insert(r,a),new Wn(this.value,d)}}fold(t){return this.fold_(cn(),t)}fold_(t,e){const r={};return this.children.inorderTraversal((i,a)=>{r[i]=a.fold_(Jn(t,i),e)}),e(t,this.value,r)}findOnPath(t,e){return this.findOnPath_(t,cn(),e)}findOnPath_(t,e,r){const i=!!this.value&&r(e,this.value);if(i)return i;if(o(t))return null;{const a=Vt(t),d=this.children.get(a);return d?d.findOnPath_(Pn(t),Jn(e,a),r):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,cn(),e)}foreachOnPath_(t,e,r){if(o(t))return this;{this.value&&r(e,this.value);const i=Vt(t),a=this.children.get(i);return a?a.foreachOnPath_(Pn(t),Jn(e,i),r):new Wn(null)}}foreach(t){this.foreach_(cn(),t)}foreach_(t,e){this.children.inorderTraversal((r,i)=>{i.foreach_(Jn(t,r),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,r)=>{r.value&&t(e,r.value)})}}class wc{constructor(t){this.writeTree_=t}static empty(){return new wc(new Wn(null))}}function aE(n,t,e){if(o(t))return new wc(new Wn(e));{const r=n.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let a=r.value;const d=s(i,t);return a=a.updateChild(d,e),new wc(n.writeTree_.set(i,a))}{const i=new Wn(e),a=n.writeTree_.setTree(t,i);return new wc(a)}}}function $R(n,t,e){let r=n;return ni(e,(i,a)=>{r=aE(r,Jn(t,i),a)}),r}function XU(n,t){if(o(t))return wc.empty();{const e=n.writeTree_.setTree(t,new Wn(null));return new wc(e)}}function qR(n,t){return null!=xm(n,t)}function xm(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return null!=e?n.writeTree_.get(e.path).getChild(s(e.path,t)):null}function e3(n){const t=[],e=n.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(qn,(r,i)=>{t.push(new xe(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&t.push(new xe(r,i.value))}),t}function ap(n,t){if(o(t))return n;{const e=xm(n,t);return new wc(null!=e?new Wn(e):n.writeTree_.subtree(t))}}function WR(n){return n.writeTree_.isEmpty()}function jb(n,t){return t3(cn(),n.writeTree_,t)}function t3(n,t,e){if(null!=t.value)return e.updateChild(n,t.value);{let r=null;return t.children.inorderTraversal((i,a)=>{".priority"===i?((0,L.hu)(null!==a.value,"Priority writes must always be leaf nodes"),r=a.value):e=t3(Jn(n,i),a,e)}),!e.getChild(n).isEmpty()&&null!==r&&(e=e.updateChild(Jn(n,".priority"),r)),e}}function UI(n,t){return s3(t,n)}function kq(n,t){if(n.snap)return h(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&h(Jn(n.path,e),t))return!0;return!1}function Nq(n){return n.visible}function n3(n,t,e){let r=wc.empty();for(let i=0;i<n.length;++i){const a=n[i];if(t(a)){const d=a.path;let f;if(a.snap)h(e,d)?(f=s(e,d),r=aE(r,f,a.snap)):h(d,e)&&(f=s(d,e),r=aE(r,cn(),a.snap.getChild(f)));else{if(!a.children)throw(0,L.g5)("WriteRecord should have .snap or .children");if(h(e,d))f=s(e,d),r=$R(r,f,a.children);else if(h(d,e))if(f=s(d,e),o(f))r=$R(r,cn(),a.children);else{const m=(0,L.DV)(a.children,Vt(f));if(m){const C=m.getChild(Pn(f));r=aE(r,cn(),C)}}}}}return r}function r3(n,t,e,r,i){if(r||i){const a=ap(n.visibleWrites,t);return!i&&WR(a)?e:i||null!=e||qR(a,cn())?jb(n3(n.allWrites,function(C){return(C.visible||i)&&(!r||!~r.indexOf(C.writeId))&&(h(C.path,t)||h(t,C.path))},t),e||At.EMPTY_NODE):null}{const a=xm(n.visibleWrites,t);if(null!=a)return a;{const d=ap(n.visibleWrites,t);return WR(d)?e:null!=e||qR(d,cn())?jb(d,e||At.EMPTY_NODE):null}}}function HI(n,t,e,r){return r3(n.writeTree,n.treePath,t,e,r)}function ZR(n,t){return function(n,t,e){let r=At.EMPTY_NODE;const i=xm(n.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(qn,(a,d)=>{r=r.updateImmediateChild(a,d)}),r;if(e){const a=ap(n.visibleWrites,t);return e.forEachChild(qn,(d,f)=>{const m=jb(ap(a,new fn(d)),f);r=r.updateImmediateChild(d,m)}),e3(a).forEach(d=>{r=r.updateImmediateChild(d.name,d.node)}),r}return e3(ap(n.visibleWrites,t)).forEach(d=>{r=r.updateImmediateChild(d.name,d.node)}),r}(n.writeTree,n.treePath,t)}function i3(n,t,e,r){return function(n,t,e,r,i){(0,L.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const a=Jn(t,e);if(qR(n.visibleWrites,a))return null;{const d=ap(n.visibleWrites,a);return WR(d)?i.getChild(e):jb(d,i.getChild(e))}}(n.writeTree,n.treePath,t,e,r)}function jI(n,t){return function(n,t){return xm(n.visibleWrites,t)}(n.writeTree,Jn(n.treePath,t))}function YR(n,t,e){return function(n,t,e,r){const i=Jn(t,e),a=xm(n.visibleWrites,i);return null!=a?a:r.isCompleteForChild(e)?jb(ap(n.visibleWrites,i),r.getNode().getImmediateChild(e)):null}(n.writeTree,n.treePath,t,e)}function o3(n,t){return s3(Jn(n.treePath,t),n.writeTree)}function s3(n,t){return{treePath:n,writeTree:t}}class Gq{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,r=t.childName;(0,L.hu)("child_added"===e||"child_changed"===e||"child_removed"===e,"Only child changes supported for tracking"),(0,L.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const a=i.type;if("child_added"===e&&"child_removed"===a)this.changeMap.set(r,nE(r,t.snapshotNode,i.snapshotNode));else if("child_removed"===e&&"child_added"===a)this.changeMap.delete(r);else if("child_removed"===e&&"child_changed"===a)this.changeMap.set(r,tE(r,i.oldSnap));else if("child_changed"===e&&"child_added"===a)this.changeMap.set(r,Bb(r,t.snapshotNode));else{if("child_changed"!==e||"child_changed"!==a)throw(0,L.g5)("Illegal combination of changes: "+t+" occurred after "+i);this.changeMap.set(r,nE(r,t.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}const a3=new class{getCompleteChild(t){return null}getChildAfterChild(t,e,r){return null}};class KR{constructor(t,e,r=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=r}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const r=null!=this.optCompleteServerCache_?new sp(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return YR(this.writes_,t,r)}}getChildAfterChild(t,e,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Am(this.viewCache_),a=function(n,t,e,r,i,a){return function(n,t,e,r,i,a,d){let f;const m=ap(n.visibleWrites,t),C=xm(m,cn());if(null!=C)f=C;else{if(null==e)return[];f=jb(m,e)}if(f=f.withIndex(d),f.isEmpty()||f.isLeafNode())return[];{const M=[],T=d.getCompare(),x=a?f.getReverseIteratorFrom(r,d):f.getIteratorFrom(r,d);let R=x.getNext();for(;R&&M.length<i;)0!==T(R,r)&&M.push(R),R=x.getNext();return M}}(n.writeTree,n.treePath,t,e,r,i,a)}(this.writes_,i,e,1,r,t);return 0===a.length?null:a[0]}}function l3(n,t,e,r,i,a){const d=t.eventCache;if(null!=jI(r,e))return t;{let f,m;if(o(e))if((0,L.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const C=Am(t),T=ZR(r,C instanceof At?C:At.EMPTY_NODE);f=n.filter.updateFullNode(t.eventCache.getNode(),T,a)}else{const C=HI(r,Am(t));f=n.filter.updateFullNode(t.eventCache.getNode(),C,a)}else{const C=Vt(e);if(".priority"===C){(0,L.hu)(1===hh(e),"Can't have a priority with additional path components");const M=d.getNode();m=t.serverCache.getNode();const T=i3(r,e,M,m);f=null!=T?n.filter.updatePriority(M,T):d.getNode()}else{const M=Pn(e);let T;if(d.isCompleteForChild(C)){m=t.serverCache.getNode();const x=i3(r,e,d.getNode(),m);T=null!=x?d.getNode().getImmediateChild(C).updateChild(M,x):d.getNode().getImmediateChild(C)}else T=YR(r,C,t.serverCache);f=null!=T?n.filter.updateChild(d.getNode(),C,T,M,i,a):d.getNode()}}return sE(t,f,d.isFullyInitialized()||o(e),n.filter.filtersNodes())}}function zI(n,t,e,r,i,a,d,f){const m=t.serverCache;let C;const M=d?n.filter:n.filter.getIndexedFilter();if(o(e))C=M.updateFullNode(m.getNode(),r,null);else if(M.filtersNodes()&&!m.isFiltered()){const R=m.getNode().updateChild(e,r);C=M.updateFullNode(m.getNode(),R,null)}else{const R=Vt(e);if(!m.isCompleteForPath(e)&&hh(e)>1)return t;const j=Pn(e),pe=m.getNode().getImmediateChild(R).updateChild(j,r);C=".priority"===R?M.updatePriority(m.getNode(),pe):M.updateChild(m.getNode(),R,pe,j,a3,null)}const T=JU(t,C,m.isFullyInitialized()||o(e),M.filtersNodes());return l3(n,T,e,i,new KR(i,T,a),f)}function QR(n,t,e,r,i,a,d){const f=t.eventCache;let m,C;const M=new KR(i,t,a);if(o(e))C=n.filter.updateFullNode(t.eventCache.getNode(),r,d),m=sE(t,C,!0,n.filter.filtersNodes());else{const T=Vt(e);if(".priority"===T)C=n.filter.updatePriority(t.eventCache.getNode(),r),m=sE(t,C,f.isFullyInitialized(),f.isFiltered());else{const x=Pn(e),R=f.getNode().getImmediateChild(T);let j;if(o(x))j=r;else{const ie=M.getCompleteChild(T);j=null!=ie?".priority"===K0(x)&&ie.getChild(AR(x)).isEmpty()?ie:ie.updateChild(x,r):At.EMPTY_NODE}m=R.equals(j)?t:sE(t,n.filter.updateChild(f.getNode(),T,j,x,M,d),f.isFullyInitialized(),n.filter.filtersNodes())}}return m}function c3(n,t){return n.eventCache.isCompleteForChild(t)}function u3(n,t,e){return e.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function JR(n,t,e,r,i,a,d,f){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let C,m=t;C=o(e)?r:new Wn(null).setTree(e,r);const M=t.serverCache.getNode();return C.children.inorderTraversal((T,x)=>{if(M.hasChild(T)){const j=u3(0,t.serverCache.getNode().getImmediateChild(T),x);m=zI(n,m,new fn(T),j,i,a,d,f)}}),C.children.inorderTraversal((T,x)=>{const R=!t.serverCache.isCompleteForChild(T)&&void 0===x.value;if(!M.hasChild(T)&&!R){const ie=u3(0,t.serverCache.getNode().getImmediateChild(T),x);m=zI(n,m,new fn(T),ie,i,a,d,f)}}),m}class e4{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new NR(r.getIndex()),a=function(n){return n.loadsAllData()?new NR(n.getIndex()):n.hasLimit()?new fq(n):new rE(n)}(r);this.processor_=function(n){return{filter:n}}(a);const d=e.serverCache,f=e.eventCache,m=i.updateFullNode(At.EMPTY_NODE,d.getNode(),null),C=a.updateFullNode(At.EMPTY_NODE,f.getNode(),null),M=new sp(m,d.isFullyInitialized(),i.filtersNodes()),T=new sp(C,f.isFullyInitialized(),a.filtersNodes());this.viewCache_=VI(T,M),this.eventGenerator_=new Dq(this.query_)}get query(){return this.query_}}function r4(n,t){const e=Am(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!o(t)&&!e.getImmediateChild(Vt(t)).isEmpty())?e.getChild(t):null}function d3(n){return 0===n.eventRegistrations_.length}function h3(n,t,e){const r=[];if(e){(0,L.hu)(null==t,"A cancel should cancel all event registrations.");const i=n.query._path;n.eventRegistrations_.forEach(a=>{const d=a.createCancelEvent(e,i);d&&r.push(d)})}if(t){let i=[];for(let a=0;a<n.eventRegistrations_.length;++a){const d=n.eventRegistrations_[a];if(d.matches(t)){if(t.hasAnyCallback()){i=i.concat(n.eventRegistrations_.slice(a+1));break}}else i.push(d)}n.eventRegistrations_=i}else n.eventRegistrations_=[];return r}function f3(n,t,e,r){t.type===ml.MERGE&&null!==t.source.queryId&&((0,L.hu)(Am(n.viewCache_),"We should always have a full cache before handling merges"),(0,L.hu)(BI(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,a=function(n,t,e,r,i){const a=new Gq;let d,f;if(e.type===ml.OVERWRITE){const C=e;C.source.fromUser?d=QR(n,t,C.path,C.snap,r,i,a):((0,L.hu)(C.source.fromServer,"Unknown source."),f=C.source.tagged||t.serverCache.isFiltered()&&!o(C.path),d=zI(n,t,C.path,C.snap,r,i,f,a))}else if(e.type===ml.MERGE){const C=e;C.source.fromUser?d=function(n,t,e,r,i,a,d){let f=t;return r.foreach((m,C)=>{const M=Jn(e,m);c3(t,Vt(M))&&(f=QR(n,f,M,C,i,a,d))}),r.foreach((m,C)=>{const M=Jn(e,m);c3(t,Vt(M))||(f=QR(n,f,M,C,i,a,d))}),f}(n,t,C.path,C.children,r,i,a):((0,L.hu)(C.source.fromServer,"Unknown source."),f=C.source.tagged||t.serverCache.isFiltered(),d=JR(n,t,C.path,C.children,r,i,f,a))}else if(e.type===ml.ACK_USER_WRITE){const C=e;d=C.revert?function(n,t,e,r,i,a){let d;if(null!=jI(r,e))return t;{const f=new KR(r,t,i),m=t.eventCache.getNode();let C;if(o(e)||".priority"===Vt(e)){let M;if(t.serverCache.isFullyInitialized())M=HI(r,Am(t));else{const T=t.serverCache.getNode();(0,L.hu)(T instanceof At,"serverChildren would be complete if leaf node"),M=ZR(r,T)}M=M,C=n.filter.updateFullNode(m,M,a)}else{const M=Vt(e);let T=YR(r,M,t.serverCache);null==T&&t.serverCache.isCompleteForChild(M)&&(T=m.getImmediateChild(M)),C=null!=T?n.filter.updateChild(m,M,T,Pn(e),f,a):t.eventCache.getNode().hasChild(M)?n.filter.updateChild(m,M,At.EMPTY_NODE,Pn(e),f,a):m,C.isEmpty()&&t.serverCache.isFullyInitialized()&&(d=HI(r,Am(t)),d.isLeafNode()&&(C=n.filter.updateFullNode(C,d,a)))}return d=t.serverCache.isFullyInitialized()||null!=jI(r,cn()),sE(t,C,d,n.filter.filtersNodes())}}(n,t,C.path,r,i,a):function(n,t,e,r,i,a,d){if(null!=jI(i,e))return t;const f=t.serverCache.isFiltered(),m=t.serverCache;if(null!=r.value){if(o(e)&&m.isFullyInitialized()||m.isCompleteForPath(e))return zI(n,t,e,m.getNode().getChild(e),i,a,f,d);if(o(e)){let C=new Wn(null);return m.getNode().forEachChild(No,(M,T)=>{C=C.set(new fn(M),T)}),JR(n,t,e,C,i,a,f,d)}return t}{let C=new Wn(null);return r.foreach((M,T)=>{const x=Jn(e,M);m.isCompleteForPath(x)&&(C=C.set(M,m.getNode().getChild(x)))}),JR(n,t,e,C,i,a,f,d)}}(n,t,C.path,C.affectedTree,r,i,a)}else{if(e.type!==ml.LISTEN_COMPLETE)throw(0,L.g5)("Unknown operation type: "+e.type);d=function(n,t,e,r,i){const a=t.serverCache;return l3(n,JU(t,a.getNode(),a.isFullyInitialized()||o(e),a.isFiltered()),e,r,a3,i)}(n,t,e.path,r,a)}const m=a.getChanges();return function(n,t,e){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=BI(n);(e.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&e.push(ZU(BI(t)))}}(t,d,m),{viewCache:d,changes:m}}(n.processor_,i,t,e,r);return function(n,t){(0,L.hu)(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,L.hu)(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,a.viewCache),(0,L.hu)(a.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=a.viewCache,p3(n,a.changes,a.viewCache.eventCache.getNode(),null)}function p3(n,t,e,r){return function(n,t,e,r){const i=[],a=[];return t.forEach(d=>{"child_changed"===d.type&&n.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&a.push(function(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}(d.childName,d.snapshotNode))}),oE(n,i,"child_removed",t,r,e),oE(n,i,"child_added",t,r,e),oE(n,i,"child_moved",a,r,e),oE(n,i,"child_changed",t,r,e),oE(n,i,"value",t,r,e),i}(n.eventGenerator_,t,e,r?[r]:n.eventRegistrations_)}let GI,qI;class g3{constructor(){this.views=new Map}}function XR(n,t,e,r){const i=t.source.queryId;if(null!==i){const a=n.views.get(i);return(0,L.hu)(null!=a,"SyncTree gave us an op for an invalid query."),f3(a,t,e,r)}{let a=[];for(const d of n.views.values())a=a.concat(f3(d,t,e,r));return a}}function m3(n,t,e,r,i){const d=n.views.get(t._queryIdentifier);if(!d){let f=HI(e,i?r:null),m=!1;f?m=!0:r instanceof At?(f=ZR(e,r),m=!1):(f=At.EMPTY_NODE,m=!1);const C=VI(new sp(f,m,!1),new sp(r,i,!1));return new e4(t,C)}return d}function _3(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function lp(n,t){let e=null;for(const r of n.views.values())e=e||r4(r,t);return e}function y3(n,t){return t._queryParams.loadsAllData()?$I(n):n.views.get(t._queryIdentifier)}function b3(n,t){return null!=y3(n,t)}function cp(n){return null!=$I(n)}function $I(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let f4=1;class v3{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Wn(null),this.pendingWriteTree_={visibleWrites:wc.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function e1(n,t,e,r,i){return function(n,t,e,r,i){(0,L.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:t,snap:e,writeId:r,visible:i}),i&&(n.visibleWrites=aE(n.visibleWrites,t,e)),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r,i),i?zb(n,new Pm({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,e)):[]}function up(n,t,e=!1){const r=function(n,t){for(let e=0;e<n.allWrites.length;e++){const r=n.allWrites[e];if(r.writeId===t)return r}return null}(n.pendingWriteTree_,t);if(function(n,t){const e=n.allWrites.findIndex(f=>f.writeId===t);(0,L.hu)(e>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[e];n.allWrites.splice(e,1);let i=r.visible,a=!1,d=n.allWrites.length-1;for(;i&&d>=0;){const f=n.allWrites[d];f.visible&&(d>=e&&kq(f,r.path)?i=!1:h(r.path,f.path)&&(a=!0)),d--}return!!i&&(a?(function(n){n.visibleWrites=n3(n.allWrites,Nq,cn()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=XU(n.visibleWrites,r.path):ni(r.children,m=>{n.visibleWrites=XU(n.visibleWrites,Jn(r.path,m))}),!0))}(n.pendingWriteTree_,t)){let a=new Wn(null);return null!=r.snap?a=a.set(cn(),!0):ni(r.children,d=>{a=a.set(new fn(d),!0)}),zb(n,new LI(r.path,a,e))}return[]}function lE(n,t,e){return zb(n,new Pm({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,e))}function t1(n,t,e,r){const i=t._path,a=n.syncPointTree_.get(i);let d=[];if(a&&("default"===t._queryIdentifier||b3(a,t))){const f=function(n,t,e,r){const i=t._queryIdentifier,a=[];let d=[];const f=cp(n);if("default"===i)for(const[m,C]of n.views.entries())d=d.concat(h3(C,e,r)),d3(C)&&(n.views.delete(m),C.query._queryParams.loadsAllData()||a.push(C.query));else{const m=n.views.get(i);m&&(d=d.concat(h3(m,e,r)),d3(m)&&(n.views.delete(i),m.query._queryParams.loadsAllData()||a.push(m.query)))}return f&&!cp(n)&&a.push(new((0,L.hu)(GI,"Reference.ts has not been loaded"),GI)(t._repo,t._path)),{removed:a,events:d}}(a,t,e,r);(function(n){return 0===n.views.size})(a)&&(n.syncPointTree_=n.syncPointTree_.remove(i));const m=f.removed;d=f.events;const C=-1!==m.findIndex(T=>T._queryParams.loadsAllData()),M=n.syncPointTree_.findOnPath(i,(T,x)=>cp(x));if(C&&!M){const T=n.syncPointTree_.subtree(i);if(!T.isEmpty()){const x=function(n){return n.fold((t,e,r)=>{if(e&&cp(e))return[$I(e)];{let i=[];return e&&(i=_3(e)),ni(r,(a,d)=>{i=i.concat(d)}),i}})}(T);for(let R=0;R<x.length;++R){const j=x[R],ie=j.query,pe=M3(n,j);n.listenProvider_.startListening(cE(ie),ZI(n,ie),pe.hashFn,pe.onComplete)}}}if(!M&&m.length>0&&!r)if(C){const T=null;n.listenProvider_.stopListening(cE(t),T)}else m.forEach(T=>{const x=n.queryToTagMap.get(YI(T));n.listenProvider_.stopListening(cE(T),x)});!function(n,t){for(let e=0;e<t.length;++e){const r=t[e];if(!r._queryParams.loadsAllData()){const i=YI(r),a=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(a)}}}(n,m)}return d}function C3(n,t,e){const r=t._path;let i=null,a=!1;n.syncPointTree_.foreachOnPath(r,(T,x)=>{const R=s(T,r);i=i||lp(x,R),a=a||cp(x)});let f,d=n.syncPointTree_.get(r);d?(a=a||cp(d),i=i||lp(d,cn())):(d=new g3,n.syncPointTree_=n.syncPointTree_.set(r,d)),null!=i?f=!0:(f=!1,i=At.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((x,R)=>{const j=lp(R,cn());j&&(i=i.updateImmediateChild(x,j))}));const m=b3(d,t);if(!m&&!t._queryParams.loadsAllData()){const T=YI(t);(0,L.hu)(!n.queryToTagMap.has(T),"View does not exist, but we have a tag");const x=f4++;n.queryToTagMap.set(T,x),n.tagToQueryMap.set(x,T)}let M=function(n,t,e,r,i,a){const d=m3(n,t,r,i,a);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,d),function(n,t){n.eventRegistrations_.push(t)}(d,e),function(n,t){const e=n.viewCache_.eventCache,r=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(qn,(a,d)=>{r.push(Bb(a,d))}),e.isFullyInitialized()&&r.push(ZU(e.getNode())),p3(n,r,e.getNode(),t)}(d,e)}(d,t,e,UI(n.pendingWriteTree_,r),i,f);if(!m&&!a){const T=y3(d,t);M=M.concat(function(n,t,e){const r=t._path,i=ZI(n,t),a=M3(n,e),d=n.listenProvider_.startListening(cE(t),i,a.hashFn,a.onComplete),f=n.syncPointTree_.subtree(r);if(i)(0,L.hu)(!cp(f.value),"If we're adding a query, it shouldn't be shadowed");else{const m=f.fold((C,M,T)=>{if(!o(C)&&M&&cp(M))return[$I(M).query];{let x=[];return M&&(x=x.concat(_3(M).map(R=>R.query))),ni(T,(R,j)=>{x=x.concat(j)}),x}});for(let C=0;C<m.length;++C){const M=m[C];n.listenProvider_.stopListening(cE(M),ZI(n,M))}}return d}(n,t,T))}return M}function WI(n,t,e){const i=n.pendingWriteTree_,a=n.syncPointTree_.findOnPath(t,(d,f)=>{const C=lp(f,s(d,t));if(C)return C});return r3(i,t,a,e,!0)}function zb(n,t){return w3(t,n.syncPointTree_,null,UI(n.pendingWriteTree_,cn()))}function w3(n,t,e,r){if(o(n.path))return E3(n,t,e,r);{const i=t.get(cn());null==e&&null!=i&&(e=lp(i,cn()));let a=[];const d=Vt(n.path),f=n.operationForChild(d),m=t.children.get(d);if(m&&f){const C=e?e.getImmediateChild(d):null,M=o3(r,d);a=a.concat(w3(f,m,C,M))}return i&&(a=a.concat(XR(i,n,r,e))),a}}function E3(n,t,e,r){const i=t.get(cn());null==e&&null!=i&&(e=lp(i,cn()));let a=[];return t.children.inorderTraversal((d,f)=>{const m=e?e.getImmediateChild(d):null,C=o3(r,d),M=n.operationForChild(d);M&&(a=a.concat(E3(M,f,m,C)))}),i&&(a=a.concat(XR(i,n,r,e))),a}function M3(n,t){const e=t.query,r=ZI(n,e);return{hashFn:()=>(function(n){return n.viewCache_.serverCache.getNode()}(t)||At.EMPTY_NODE).hash(),onComplete:i=>{if("ok"===i)return r?function(n,t,e){const r=n1(n,e);if(r){const i=r1(r),a=i.path,d=i.queryId,f=s(a,t);return i1(n,a,new iE(zR(d),f))}return[]}(n,e._path,r):function(n,t){return zb(n,new iE({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(n,e._path);{const a=function(n,t){let e="Unknown Error";"too_big"===n?e="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?e="Client doesn't have permission to access the desired data.":"unavailable"===n&&(e="The service is unavailable");const r=new Error(n+" at "+t._path.toString()+": "+e);return r.code=n.toUpperCase(),r}(i,e);return t1(n,e,null,a)}}}}function ZI(n,t){const e=YI(t);return n.queryToTagMap.get(e)}function YI(n){return n._path.toString()+"$"+n._queryIdentifier}function n1(n,t){return n.tagToQueryMap.get(t)}function r1(n){const t=n.indexOf("$");return(0,L.hu)(-1!==t&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new fn(n.substr(0,t))}}function i1(n,t,e){const r=n.syncPointTree_.get(t);return(0,L.hu)(r,"Missing sync point for query tag that we're tracking"),XR(r,e,UI(n.pendingWriteTree_,t),null)}function cE(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new((0,L.hu)(qI,"Reference.ts has not been loaded"),qI)(n._repo,n._path):n}class o1{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new o1(e)}node(){return this.node_}}class s1{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Jn(this.path_,t);return new s1(this.syncTree_,e)}node(){return WI(this.syncTree_,this.path_)}}const D3=function(n,t,e){return n&&"object"==typeof n?((0,L.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?O4(n[".sv"],t,e):"object"==typeof n[".sv"]?T4(n[".sv"],t):void(0,L.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},O4=function(n,t,e){switch(n){case"timestamp":return e.timestamp;default:(0,L.hu)(!1,"Unexpected server value: "+n)}},T4=function(n,t,e){n.hasOwnProperty("increment")||(0,L.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,L.hu)(!1,"Unexpected increment value: "+r);const i=t.node();if((0,L.hu)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const d=i.getValue();return"number"!=typeof d?r:d+r},O3=function(n,t,e,r){return l1(t,new s1(e,n),r)},a1=function(n,t,e){return l1(n,new o1(t),e)};function l1(n,t,e){const r=n.getPriority().val(),i=D3(r,t.getImmediateChild(".priority"),e);let a;if(n.isLeafNode()){const d=n,f=D3(d.getValue(),t,e);return f!==d.getValue()||i!==d.getPriority().val()?new Nb(f,wr(i)):n}{const d=n;return a=d,i!==d.getPriority().val()&&(a=a.updatePriority(new Nb(i))),d.forEachChild(qn,(f,m)=>{const C=l1(m,t.getImmediateChild(f),e);C!==m&&(a=a.updateImmediateChild(f,C))}),a}}class c1{constructor(t="",e=null,r={children:{},childCount:0}){this.name=t,this.parent=e,this.node=r}}function KI(n,t){let e=t instanceof fn?t:new fn(t),r=n,i=Vt(e);for(;null!==i;){const a=(0,L.DV)(r.node.children,i)||{children:{},childCount:0};r=new c1(i,r,a),e=Pn(e),i=Vt(e)}return r}function Fm(n){return n.node.value}function u1(n,t){n.node.value=t,d1(n)}function T3(n){return n.node.childCount>0}function QI(n,t){ni(n.node.children,(e,r)=>{t(new c1(e,n,r))})}function I3(n,t,e,r){e&&!r&&t(n),QI(n,i=>{I3(i,t,!0,r)}),e&&r&&t(n)}function uE(n){return new fn(null===n.parent?n.name:uE(n.parent)+"/"+n.name)}function d1(n){null!==n.parent&&function(n,t,e){const r=function(n){return void 0===Fm(n)&&!T3(n)}(e),i=(0,L.r3)(n.node.children,t);r&&i?(delete n.node.children[t],n.node.childCount--,d1(n)):!r&&!i&&(n.node.children[t]=e.node,n.node.childCount++,d1(n))}(n.parent,n.name,n)}const A4=/[\[\].#$\/\u0000-\u001F\u007F]/,x4=/[\[\].#$\u0000-\u001F\u007F]/,h1=10485760,JI=function(n){return"string"==typeof n&&0!==n.length&&!A4.test(n)},S3=function(n){return"string"==typeof n&&0!==n.length&&!x4.test(n)},dE=function(n){return null===n||"string"==typeof n||"number"==typeof n&&!Db(n)||n&&"object"==typeof n&&(0,L.r3)(n,".sv")},Bu=function(n,t,e,r){r&&void 0===t||hE((0,L.gK)(n,"value"),t,e)},hE=function(n,t,e){const r=e instanceof fn?new p(e,n):e;if(void 0===t)throw new Error(n+"contains undefined "+D(r));if("function"==typeof t)throw new Error(n+"contains a function "+D(r)+" with contents = "+t.toString());if(Db(t))throw new Error(n+"contains "+t.toString()+" "+D(r));if("string"==typeof t&&t.length>h1/3&&(0,L.ug)(t)>h1)throw new Error(n+"contains a string greater than "+h1+" utf8 bytes "+D(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let i=!1,a=!1;if(ni(t,(d,f)=>{if(".value"===d)i=!0;else if(".priority"!==d&&".sv"!==d&&(a=!0,!JI(d)))throw new Error(n+" contains an invalid key ("+d+") "+D(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=(0,L.ug)(t),E(n)})(r,d),hE(n,f,r),function(n){const t=n.parts_.pop();n.byteLength_-=(0,L.ug)(t),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&a)throw new Error(n+' contains ".value" child '+D(r)+" in addition to actual children.")}},P3=function(n,t,e,r){if(r&&void 0===t)return;const i=(0,L.gK)(n,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const a=[];ni(t,(d,f)=>{const m=new fn(d);if(hE(i,f,Jn(e,m)),".priority"===K0(m)&&!dE(f))throw new Error(i+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(m)}),function(n,t){let e,r;for(e=0;e<t.length;e++){r=t[e];const a=Rb(r);for(let d=0;d<a.length;d++)if((".priority"!==a[d]||d!==a.length-1)&&!JI(a[d]))throw new Error(n+"contains an invalid key ("+a[d]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(c);let i=null;for(e=0;e<t.length;e++){if(r=t[e],null!==i&&h(i,r))throw new Error(n+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,a)},f1=function(n,t,e){if(!e||void 0!==t){if(Db(t))throw new Error((0,L.gK)(n,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!dE(t))throw new Error((0,L.gK)(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},fE=function(n,t,e,r){if(!(r&&void 0===e||JI(e)))throw new Error((0,L.gK)(n,t)+'was an invalid key = "'+e+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},pE=function(n,t,e,r){if(!(r&&void 0===e||S3(e)))throw new Error((0,L.gK)(n,t)+'was an invalid path = "'+e+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},_l=function(n,t){if(".info"===Vt(t))throw new Error(n+" failed = Can't modify data under /.info/")},A3=function(n,t){const e=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!JI(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==e.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),S3(n)}(e))throw new Error((0,L.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class N4{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function XI(n,t){let e=null;for(let r=0;r<t.length;r++){const i=t[r],a=i.getPath();null!==e&&!u(a,e.path)&&(n.eventLists_.push(e),e=null),null===e&&(e={events:[],path:a}),e.events.push(i)}e&&n.eventLists_.push(e)}function p1(n,t,e){XI(n,e),x3(n,r=>u(r,t))}function yl(n,t,e){XI(n,e),x3(n,r=>h(r,t)||h(t,r))}function x3(n,t){n.recursionDepth_++;let e=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(t(i.path)?(L4(n.eventLists_[r]),n.eventLists_[r]=null):e=!1)}e&&(n.eventLists_=[]),n.recursionDepth_--}function L4(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(null!==e){n.events[t]=null;const r=e.getEventRunner();lh&&ti("event: "+e.toString()),ch(r)}}}const F3="repo_interrupt";class B4{constructor(t,e,r,i){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new N4,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=NI(),this.transactionQueueTree_=new c1,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function k3(n){const e=n.infoData_.getNode(new fn(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+e}function gE(n){return function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n}({timestamp:k3(n)})}function R3(n,t,e,r,i){n.dataUpdateCount++;const a=new fn(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let d=[];if(i)if(r){const m=(0,L.UI)(e,C=>wr(C));d=function(n,t,e,r){const i=n1(n,r);if(i){const a=r1(i),d=a.path,f=a.queryId,m=s(d,t),C=Wn.fromObject(e);return i1(n,d,new Hb(zR(f),m,C))}return[]}(n.serverSyncTree_,a,m,i)}else{const m=wr(e);d=function(n,t,e,r){const i=n1(n,r);if(null!=i){const a=r1(i),d=a.path,f=a.queryId,m=s(d,t);return i1(n,d,new Pm(zR(f),m,e))}return[]}(n.serverSyncTree_,a,m,i)}else if(r){const m=(0,L.UI)(e,C=>wr(C));d=function(n,t,e){const r=Wn.fromObject(e);return zb(n,new Hb({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(n.serverSyncTree_,a,m)}else{const m=wr(e);d=lE(n.serverSyncTree_,a,m)}let f=a;d.length>0&&(f=$b(n,a)),yl(n.eventQueue_,f,d)}function N3(n,t){g1(n,"connected",t),!1===t&&function(n){Gb(n,"onDisconnectEvents");const t=gE(n),e=NI();UR(n.onDisconnect_,cn(),(i,a)=>{const d=O3(i,a,n.serverSyncTree_,t);Ub(e,i,d)});let r=[];UR(e,cn(),(i,a)=>{r=r.concat(lE(n.serverSyncTree_,i,a));const d=b1(n,i);$b(n,d)}),n.onDisconnect_=NI(),yl(n.eventQueue_,cn(),r)}(n)}function g1(n,t,e){const r=new fn("/.info/"+t),i=wr(e);n.infoData_.updateSnapshot(r,i);const a=lE(n.infoSyncTree_,r,i);yl(n.eventQueue_,r,a)}function eS(n){return n.nextWriteId_++}function m1(n,t,e,r,i){Gb(n,"set",{path:t.toString(),value:e,priority:r});const a=gE(n),d=wr(e,r),f=WI(n.serverSyncTree_,t),m=a1(d,f,a),C=eS(n),M=e1(n.serverSyncTree_,t,m,C,!0);XI(n.eventQueue_,M),n.server_.put(t.toString(),d.val(!0),(x,R)=>{const j="ok"===x;j||Li("set at "+t+" failed: "+x);const ie=up(n.serverSyncTree_,C,!j);yl(n.eventQueue_,t,ie),dp(0,i,x,R)});const T=b1(n,t);$b(n,T),yl(n.eventQueue_,T,[])}function $4(n,t,e){n.server_.onDisconnectCancel(t.toString(),(r,i)=>{"ok"===r&&BR(n.onDisconnect_,t),dp(0,e,r,i)})}function L3(n,t,e,r){const i=wr(e);n.server_.onDisconnectPut(t.toString(),i.val(!0),(a,d)=>{"ok"===a&&Ub(n.onDisconnect_,t,i),dp(0,r,a,d)})}function _1(n,t,e){let r;r=".info"===Vt(t._path)?t1(n.infoSyncTree_,t,e):t1(n.serverSyncTree_,t,e),p1(n.eventQueue_,t._path,r)}function V3(n){n.persistentConnection_&&n.persistentConnection_.interrupt(F3)}function Gb(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),ti(e,...t)}function dp(n,t,e,r){t&&ch(()=>{if("ok"===e)t(null);else{const i=(e||"error").toUpperCase();let a=i;r&&(a+=": "+r);const d=new Error(a);d.code=i,t(d)}})}function y1(n,t,e){return WI(n.serverSyncTree_,t,e)||At.EMPTY_NODE}function tS(n,t=n.transactionQueueTree_){if(t||nS(n,t),Fm(t)){const e=U3(n,t);(0,L.hu)(e.length>0,"Sending zero length transaction queue"),e.every(i=>0===i.status)&&function(n,t,e){const r=e.map(C=>C.currentWriteId),i=y1(n,t,r);let a=i;const d=i.hash();for(let C=0;C<e.length;C++){const M=e[C];(0,L.hu)(0===M.status,"tryToSendTransactionQueue_: items in queue should all be run."),M.status=1,M.retryCount++;const T=s(t,M.path);a=a.updateChild(T,M.currentOutputSnapshotRaw)}const f=a.val(!0),m=t;n.server_.put(m.toString(),f,C=>{Gb(n,"transaction put response",{path:m.toString(),status:C});let M=[];if("ok"===C){const T=[];for(let x=0;x<e.length;x++)e[x].status=2,M=M.concat(up(n.serverSyncTree_,e[x].currentWriteId)),e[x].onComplete&&T.push(()=>e[x].onComplete(null,!0,e[x].currentOutputSnapshotResolved)),e[x].unwatcher();nS(n,KI(n.transactionQueueTree_,t)),tS(n,n.transactionQueueTree_),yl(n.eventQueue_,t,M);for(let x=0;x<T.length;x++)ch(T[x])}else{if("datastale"===C)for(let T=0;T<e.length;T++)e[T].status=3===e[T].status?4:0;else{Li("transaction at "+m.toString()+" failed: "+C);for(let T=0;T<e.length;T++)e[T].status=4,e[T].abortReason=C}$b(n,t)}},d)}(n,uE(t),e)}else T3(t)&&QI(t,e=>{tS(n,e)})}function $b(n,t){const e=B3(n,t),r=uE(e);return function(n,t,e){if(0===t.length)return;const r=[];let i=[];const d=t.filter(f=>0===f.status).map(f=>f.currentWriteId);for(let f=0;f<t.length;f++){const m=t[f],C=s(e,m.path);let T,M=!1;if((0,L.hu)(null!==C,"rerunTransactionsUnderNode_: relativePath should not be null."),4===m.status)M=!0,T=m.abortReason,i=i.concat(up(n.serverSyncTree_,m.currentWriteId,!0));else if(0===m.status)if(m.retryCount>=25)M=!0,T="maxretry",i=i.concat(up(n.serverSyncTree_,m.currentWriteId,!0));else{const x=y1(n,m.path,d);m.currentInputSnapshot=x;const R=t[f].update(x.val());if(void 0!==R){hE("transaction failed: Data returned ",R,m.path);let j=wr(R);"object"==typeof R&&null!=R&&(0,L.r3)(R,".priority")||(j=j.updatePriority(x.getPriority()));const pe=m.currentWriteId,Ae=gE(n),Ge=a1(j,x,Ae);m.currentOutputSnapshotRaw=j,m.currentOutputSnapshotResolved=Ge,m.currentWriteId=eS(n),d.splice(d.indexOf(pe),1),i=i.concat(e1(n.serverSyncTree_,m.path,Ge,m.currentWriteId,m.applyLocally)),i=i.concat(up(n.serverSyncTree_,pe,!0))}else M=!0,T="nodata",i=i.concat(up(n.serverSyncTree_,m.currentWriteId,!0))}yl(n.eventQueue_,e,i),i=[],M&&(t[f].status=2,setTimeout(t[f].unwatcher,Math.floor(0)),t[f].onComplete&&r.push("nodata"===T?()=>t[f].onComplete(null,!1,t[f].currentInputSnapshot):()=>t[f].onComplete(new Error(T),!1,null)))}nS(n,n.transactionQueueTree_);for(let f=0;f<r.length;f++)ch(r[f]);tS(n,n.transactionQueueTree_)}(n,U3(n,e),r),r}function B3(n,t){let e,r=n.transactionQueueTree_;for(e=Vt(t);null!==e&&void 0===Fm(r);)r=KI(r,e),e=Vt(t=Pn(t));return r}function U3(n,t){const e=[];return H3(n,t,e),e.sort((r,i)=>r.order-i.order),e}function H3(n,t,e){const r=Fm(t);if(r)for(let i=0;i<r.length;i++)e.push(r[i]);QI(t,i=>{H3(n,i,e)})}function nS(n,t){const e=Fm(t);if(e){let r=0;for(let i=0;i<e.length;i++)2!==e[i].status&&(e[r]=e[i],r++);e.length=r,u1(t,e.length>0?e:void 0)}QI(t,r=>{nS(n,r)})}function b1(n,t){const e=uE(B3(n,t)),r=KI(n.transactionQueueTree_,t);return function(n,t,e){let r=n.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,i=>{v1(n,i)}),v1(n,r),I3(r,i=>{v1(n,i)}),e}function v1(n,t){const e=Fm(t);if(e){const r=[];let i=[],a=-1;for(let d=0;d<e.length;d++)3===e[d].status||(1===e[d].status?((0,L.hu)(a===d-1,"All SENT items should be at beginning of queue."),a=d,e[d].status=3,e[d].abortReason="set"):((0,L.hu)(0===e[d].status,"Unexpected transaction status in abort"),e[d].unwatcher(),i=i.concat(up(n.serverSyncTree_,e[d].currentWriteId,!0)),e[d].onComplete&&r.push(e[d].onComplete.bind(null,new Error("set"),!1,null))));-1===a?u1(t,void 0):e.length=a+1,yl(n.eventQueue_,uE(t),i);for(let d=0;d<r.length;d++)ch(r[d])}}const C1=function(n,t){const e=t5(n),r=e.namespace;return"firebase.com"===e.domain&&Ro(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==e.domain&&Ro("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Li("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new dh(e.host,e.secure,r,t,"ws"===e.scheme||"wss"===e.scheme,"",r!==e.subdomain),path:new fn(e.pathString)}},t5=function(n){let t="",e="",r="",i="",a="",d=!0,f="https",m=443;if("string"==typeof n){let C=n.indexOf("//");C>=0&&(f=n.substring(0,C-1),n=n.substring(C+2));let M=n.indexOf("/");-1===M&&(M=n.length);let T=n.indexOf("?");-1===T&&(T=n.length),t=n.substring(0,Math.min(M,T)),M<T&&(i=function(n){let t="";const e=n.split("/");for(let r=0;r<e.length;r++)if(e[r].length>0){let i=e[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(n.substring(M,T)));const x=function(n){const t={};"?"===n.charAt(0)&&(n=n.substring(1));for(const e of n.split("&")){if(0===e.length)continue;const r=e.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Li(`Invalid query segment '${e}' in query '${n}'`)}return t}(n.substring(Math.min(n.length,T)));C=t.indexOf(":"),C>=0?(d="https"===f||"wss"===f,m=parseInt(t.substring(C+1),10)):C=t.length;const R=t.slice(0,C);if("localhost"===R.toLowerCase())e="localhost";else if(R.split(".").length<=2)e=R;else{const j=t.indexOf(".");r=t.substring(0,j).toLowerCase(),e=t.substring(j+1),a=r}"ns"in x&&(a=x.ns)}return{host:t,port:m,domain:e,subdomain:r,secure:d,scheme:f,pathString:i,namespace:a}};class j3{constructor(t,e,r,i){this.eventType=t,this.eventRegistration=e,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return"value"===this.eventType?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,L.Pz)(this.snapshot.exportVal())}}class z3{constructor(t,e,r){this.eventRegistration=t,this.error=e,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class G3{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return(0,L.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}class $3{constructor(t,e){this._repo=t,this._path=e}cancel(){const t=new L.BH;return $4(this._repo,this._path,t.wrapCallback(()=>{})),t.promise}remove(){_l("OnDisconnect.remove",this._path);const t=new L.BH;return L3(this._repo,this._path,null,t.wrapCallback(()=>{})),t.promise}set(t){_l("OnDisconnect.set",this._path),Bu("OnDisconnect.set",t,this._path,!1);const e=new L.BH;return L3(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}setWithPriority(t,e){_l("OnDisconnect.setWithPriority",this._path),Bu("OnDisconnect.setWithPriority",t,this._path,!1),f1("OnDisconnect.setWithPriority",e,!1);const r=new L.BH;return function(n,t,e,r,i){const a=wr(e,r);n.server_.onDisconnectPut(t.toString(),a.val(!0),(d,f)=>{"ok"===d&&Ub(n.onDisconnect_,t,a),dp(0,i,d,f)})}(this._repo,this._path,t,e,r.wrapCallback(()=>{})),r.promise}update(t){_l("OnDisconnect.update",this._path),P3("OnDisconnect.update",t,this._path,!1);const e=new L.BH;return function(n,t,e,r){if((0,L.xb)(e))return ti("onDisconnect().update() called with empty data.  Don't do anything."),void dp(0,r,"ok",void 0);n.server_.onDisconnectMerge(t.toString(),e,(i,a)=>{"ok"===i&&ni(e,(d,f)=>{const m=wr(f);Ub(n.onDisconnect_,Jn(t,d),m)}),dp(0,r,i,a)})}(this._repo,this._path,t,e.wrapCallback(()=>{})),e.promise}}class Ls{constructor(t,e,r,i){this._repo=t,this._path=e,this._queryParams=r,this._orderByCalled=i}get key(){return o(this._path)?null:K0(this._path)}get ref(){return new bl(this._repo,this._path)}get _queryIdentifier(){const t=KU(this._queryParams),e=B0(t);return"{}"===e?"default":e}get _queryObject(){return KU(this._queryParams)}isEqual(t){if(!((t=(0,L.m9)(t))instanceof Ls))return!1;const e=this._repo===t._repo,r=u(this._path,t._path);return e&&r&&this._queryIdentifier===t._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)""!==n.pieces_[e]&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}(this._path)}}function rS(n,t){if(!0===n._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function hp(n){let t=null,e=null;if(n.hasStart()&&(t=n.getIndexStartValue()),n.hasEnd()&&(e=n.getIndexEndValue()),n.getIndex()===No){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==ku)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(n.hasEnd()){if(n.getIndexEndName()!==_c)throw new Error(r);if("string"!=typeof e)throw new Error(i)}}else if(n.getIndex()===qn){if(null!=t&&!dE(t)||null!=e&&!dE(e))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,L.hu)(n.getIndex()instanceof FR||n.getIndex()===kR,"unknown index type."),null!=t&&"object"==typeof t||null!=e&&"object"==typeof e)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function iS(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class bl extends Ls{constructor(t,e){super(t,e,new FI,!1)}get parent(){const t=AR(this._path);return null===t?null:new bl(this._repo,t)}get root(){let t=this;for(;null!==t.parent;)t=t.parent;return t}}class km{constructor(t,e,r){this._node=t,this.ref=e,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new fn(t),r=Rm(this.ref,t);return new km(this._node.getChild(e),r,qn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(r,i)=>t(new km(i,Rm(this.ref,r),qn)))}hasChild(t){const e=new fn(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function q3(n,t){return(n=(0,L.m9)(n))._checkNotDeleted("ref"),void 0!==t?Rm(n._root,t):n._root}function W3(n,t){(n=(0,L.m9)(n))._checkNotDeleted("refFromURL");const e=C1(t,n._repo.repoInfo_.nodeAdmin);A3("refFromURL",e);const r=e.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&Ro("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),q3(n,e.path.toString())}function Rm(n,t){return null===Vt((n=(0,L.m9)(n))._path)?((e=t)&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),pE("child","path",e,!1)):pE("child","path",t,!1),new bl(n._repo,Jn(n._path,t));var e}function w1(n,t){n=(0,L.m9)(n),_l("set",n._path),Bu("set",t,n._path,!1);const e=new L.BH;return m1(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function s5(n,t){P3("update",t,n._path,!1);const e=new L.BH;return function(n,t,e,r){Gb(n,"update",{path:t.toString(),value:e});let i=!0;const a=gE(n),d={};if(ni(e,(f,m)=>{i=!1,d[f]=O3(Jn(t,f),wr(m),n.serverSyncTree_,a)}),i)ti("update() called with empty data.  Don't do anything."),dp(0,r,"ok",void 0);else{const f=eS(n),m=function(n,t,e,r){!function(n,t,e,r){(0,L.hu)(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:r,visible:!0}),n.visibleWrites=$R(n.visibleWrites,t,e),n.lastWriteId=r}(n.pendingWriteTree_,t,e,r);const i=Wn.fromObject(e);return zb(n,new Hb({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}(n.serverSyncTree_,t,d,f);XI(n.eventQueue_,m),n.server_.merge(t.toString(),e,(C,M)=>{const T="ok"===C;T||Li("update at "+t+" failed: "+C);const x=up(n.serverSyncTree_,f,!T),R=x.length>0?$b(n,t):t;yl(n.eventQueue_,R,x),dp(0,r,C,M)}),ni(e,C=>{const M=b1(n,Jn(t,C));$b(n,M)}),yl(n.eventQueue_,t,[])}}(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}function a5(n){return function(n,t){const e=function(n,t){const e=t._path;let r=null;n.syncPointTree_.foreachOnPath(e,(C,M)=>{const T=s(C,e);r=r||lp(M,T)});let i=n.syncPointTree_.get(e);i?r=r||lp(i,cn()):(i=new g3,n.syncPointTree_=n.syncPointTree_.set(e,i));const a=null!=r,d=a?new sp(r,!0,!1):null;return function(n){return BI(n.viewCache_)}(m3(i,t,UI(n.pendingWriteTree_,t._path),a?d.getNode():At.EMPTY_NODE,a))}(n.serverSyncTree_,t);return null!=e?Promise.resolve(e):n.server_.get(t).then(r=>{const i=wr(r).withIndex(t._queryParams.getIndex()),a=lE(n.serverSyncTree_,t._path,i);return p1(n.eventQueue_,t._path,a),Promise.resolve(i)},r=>(Gb(n,"get for query "+(0,L.Pz)(t)+" failed: "+r),Promise.reject(new Error(r))))}((n=(0,L.m9)(n))._repo,n).then(t=>new km(t,new bl(n._repo,n._path),n._queryParams.getIndex()))}class oS{constructor(t){this.callbackContext=t}respondsTo(t){return"value"===t}createEvent(t,e){const r=e._queryParams.getIndex();return new j3("value",this,new km(t.snapshotNode,new bl(e._repo,e._path),r))}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new z3(this,t,e):null}matches(t){return t instanceof oS&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class sS{constructor(t,e){this.eventType=t,this.callbackContext=e}respondsTo(t){let e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,this.eventType===e}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new z3(this,t,e):null}createEvent(t,e){(0,L.hu)(null!=t.childName,"Child events should have a childName.");const r=Rm(new bl(e._repo,e._path),t.childName),i=e._queryParams.getIndex();return new j3(t.type,this,new km(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return"cancel"===t.getEventType()?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof sS&&this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function mE(n,t,e,r,i){let a;if("object"==typeof r&&(a=void 0,i=r),"function"==typeof r&&(a=r),i&&i.onlyOnce){const m=e,C=(M,T)=>{_1(n._repo,n,f),m(M,T)};C.userCallback=e.userCallback,C.context=e.context,e=C}const d=new G3(e,a||void 0),f="value"===t?new oS(d):new sS(t,d);return function(n,t,e){let r;r=".info"===Vt(t._path)?C3(n.infoSyncTree_,t,e):C3(n.serverSyncTree_,t,e),p1(n.eventQueue_,t._path,r)}(n._repo,n,f),()=>_1(n._repo,n,f)}function E1(n,t,e,r){return mE(n,"value",t,e,r)}function Z3(n,t,e,r){return mE(n,"child_added",t,e,r)}function Y3(n,t,e,r){return mE(n,"child_changed",t,e,r)}function K3(n,t,e,r){return mE(n,"child_moved",t,e,r)}function Q3(n,t,e,r){return mE(n,"child_removed",t,e,r)}function J3(n,t,e){let r=null;const i=e?new G3(e):null;"value"===t?r=new oS(i):t&&(r=new sS(t,i)),_1(n._repo,n,r)}class Ec{}class X3 extends Ec{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Bu("endAt",this._value,t._path,!0);const e=VR(t._queryParams,this._value,this._key);if(iS(e),hp(e),t._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ls(t._repo,t._path,e,t._orderByCalled)}}class c5 extends Ec{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Bu("endBefore",this._value,t._path,!1);const e=function(n,t,e){let r,i;return n.index_===No?("string"==typeof t&&(t=WU(t)),i=VR(n,t,e)):(r=null==e?ku:WU(e),i=VR(n,t,r)),i.endBeforeSet_=!0,i}(t._queryParams,this._value,this._key);if(iS(e),hp(e),t._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Ls(t._repo,t._path,e,t._orderByCalled)}}class eH extends Ec{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Bu("startAt",this._value,t._path,!0);const e=LR(t._queryParams,this._value,this._key);if(iS(e),hp(e),t._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Ls(t._repo,t._path,e,t._orderByCalled)}}class h5 extends Ec{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){Bu("startAfter",this._value,t._path,!1);const e=function(n,t,e){let r;if(n.index_===No)"string"==typeof t&&(t=qU(t)),r=LR(n,t,e);else{let i;i=null==e?_c:qU(e),r=LR(n,t,i)}return r.startAfterSet_=!0,r}(t._queryParams,this._value,this._key);if(iS(e),hp(e),t._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Ls(t._repo,t._path,e,t._orderByCalled)}}class p5 extends Ec{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ls(t._repo,t._path,function(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="l",e}(t._queryParams,this._limit),t._orderByCalled)}}class m5 extends Ec{constructor(t){super(),this._limit=t}_apply(t){if(t._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Ls(t._repo,t._path,function(n,t){const e=n.copy();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="r",e}(t._queryParams,this._limit),t._orderByCalled)}}class y5 extends Ec{constructor(t){super(),this._path=t}_apply(t){rS(t,"orderByChild");const e=new fn(this._path);if(o(e))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const r=new FR(e),i=kI(t._queryParams,r);return hp(i),new Ls(t._repo,t._path,i,!0)}}class v5 extends Ec{_apply(t){rS(t,"orderByKey");const e=kI(t._queryParams,No);return hp(e),new Ls(t._repo,t._path,e,!0)}}class w5 extends Ec{_apply(t){rS(t,"orderByPriority");const e=kI(t._queryParams,qn);return hp(e),new Ls(t._repo,t._path,e,!0)}}class M5 extends Ec{_apply(t){rS(t,"orderByValue");const e=kI(t._queryParams,kR);return hp(e),new Ls(t._repo,t._path,e,!0)}}class O5 extends Ec{constructor(t,e){super(),this._value=t,this._key=e}_apply(t){if(Bu("equalTo",this._value,t._path,!1),t._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(t._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new X3(this._value,this._key)._apply(new eH(this._value,this._key)._apply(t))}}function Mc(n,...t){let e=(0,L.m9)(n);for(const r of t)e=r._apply(e);return e}(function(n){(0,L.hu)(!GI,"__referenceConstructor has already been defined"),GI=n})(bl),function(n){(0,L.hu)(!qI,"__referenceConstructor has already been defined"),qI=n}(bl);const M1={};function nH(n,t,e,r,i){let a=r||n.options.databaseURL;void 0===a&&(n.options.projectId||Ro("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ti("Using default host for project ",n.options.projectId),a=`${n.options.projectId}-default-rtdb.firebaseio.com`);let m,C,d=C1(a,i),f=d.repoInfo;"undefined"!=typeof process&&(C=process.env.FIREBASE_DATABASE_EMULATOR_HOST),C?(m=!0,a=`http://${C}?ns=${f.namespace}`,d=C1(a,i),f=d.repoInfo):m=!d.repoInfo.secure;const M=i&&m?new Ru(Ru.OWNER):new Tb(n.name,n.options,t);A3("Invalid Firebase Database URL",d),o(d.path)||Ro("Database URL must point to the root of a Firebase Database (not including a child path).");const T=function(n,t,e,r){let i=M1[t.name];i||(i={},M1[t.name]=i);let a=i[n.toURLString()];return a&&Ro("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new B4(n,false,e,r),i[n.toURLString()]=a,a}(f,n,M,new H0(n.name,e));return new F5(T,n)}class F5{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(n,t,e){if(n.stats_=rp(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new RI(n.repoInfo_,(r,i,a,d)=>{R3(n,r,i,a,d)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>N3(n,!0),0);else{if(null!=e){if("object"!=typeof e)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,L.Pz)(e)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Ze(n.repoInfo_,t,(r,i,a,d)=>{R3(n,r,i,a,d)},r=>{N3(n,r)},r=>{!function(n,t){ni(t,(e,r)=>{g1(n,e,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function(n,t){const e=n.toString();return Pb[e]||(Pb[e]=t()),Pb[e]}(n.repoInfo_,()=>new Mq(n.stats_,n.server_)),n.infoData_=new bq,n.infoSyncTree_=new v3({startListening:(r,i,a,d)=>{let f=[];const m=n.infoData_.getNode(r._path);return m.isEmpty()||(f=lE(n.infoSyncTree_,r._path,m),setTimeout(()=>{d("ok")},0)),f},stopListening:()=>{}}),g1(n,"connected",!1),n.serverSyncTree_=new v3({startListening:(r,i,a,d)=>(n.server_.listen(r,a,i,(f,m)=>{const C=d(f,m);yl(n.eventQueue_,r._path,C)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new bl(this._repo,cn())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(n,t){const e=M1[t];(!e||e[n.key]!==n)&&Ro(`Database ${t}(${n.repoInfo_}) has already been deleted.`),V3(n),delete e[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){null===this._rootInternal&&Ro("Cannot call "+t+" on a deleted database.")}}function L5(n,t){uR(n,t)}class j5{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}Ze.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)},Ze.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)},lR(Ss.SDK_VERSION),(0,Ss._registerComponent)(new ol.wA("database",(t,{instanceIdentifier:e})=>nH(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"),t.getProvider("app-check-internal"),e),"PUBLIC").setMultipleInstances(!0)),(0,Ss.registerVersion)(aI,"0.12.4",void 0),(0,Ss.registerVersion)(aI,"0.12.4","esm2017");const q5=new sl.Yd("@firebase/database-compat"),rH=function(n){q5.warn("FIREBASE WARNING: "+n)};class Y5{constructor(t){this._delegate=t}cancel(t){(0,L.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,L.Wj)("OnDisconnect.cancel","onComplete",t,!0);const e=this._delegate.cancel();return t&&e.then(()=>t(null),r=>t(r)),e}remove(t){(0,L.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,L.Wj)("OnDisconnect.remove","onComplete",t,!0);const e=this._delegate.remove();return t&&e.then(()=>t(null),r=>t(r)),e}set(t,e){(0,L.Dv)("OnDisconnect.set",1,2,arguments.length),(0,L.Wj)("OnDisconnect.set","onComplete",e,!0);const r=this._delegate.set(t);return e&&r.then(()=>e(null),i=>e(i)),r}setWithPriority(t,e,r){(0,L.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,L.Wj)("OnDisconnect.setWithPriority","onComplete",r,!0);const i=this._delegate.setWithPriority(t,e);return r&&i.then(()=>r(null),a=>r(a)),i}update(t,e){if((0,L.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(t)){const i={};for(let a=0;a<t.length;++a)i[""+a]=t[a];t=i,rH("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,L.Wj)("OnDisconnect.update","onComplete",e,!0);const r=this._delegate.update(t);return e&&r.then(()=>e(null),i=>e(i)),r}}class K5{constructor(t,e){this.committed=t,this.snapshot=e}toJSON(){return(0,L.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class fp{constructor(t,e){this._database=t,this._delegate=e}val(){return(0,L.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,L.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,L.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,L.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(t){return(0,L.Dv)("DataSnapshot.child",0,1,arguments.length),t=String(t),pE("DataSnapshot.child","path",t,!1),new fp(this._database,this._delegate.child(t))}hasChild(t){return(0,L.Dv)("DataSnapshot.hasChild",1,1,arguments.length),pE("DataSnapshot.hasChild","path",t,!1),this._delegate.hasChild(t)}getPriority(){return(0,L.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(t){return(0,L.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,L.Wj)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach(e=>t(new fp(this._database,e)))}hasChildren(){return(0,L.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,L.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,L.Dv)("DataSnapshot.ref",0,0,arguments.length),new ya(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class ho{constructor(t,e){this.database=t,this._delegate=e}on(t,e,r,i){var a;(0,L.Dv)("Query.on",2,4,arguments.length),(0,L.Wj)("Query.on","callback",e,!1);const d=ho.getCancelAndContextArgs_("Query.on",r,i),f=(C,M)=>{e.call(d.context,new fp(this.database,C),M)};f.userCallback=e,f.context=d.context;const m=null===(a=d.cancel)||void 0===a?void 0:a.bind(d.context);switch(t){case"value":return E1(this._delegate,f,m),e;case"child_added":return Z3(this._delegate,f,m),e;case"child_removed":return Q3(this._delegate,f,m),e;case"child_changed":return Y3(this._delegate,f,m),e;case"child_moved":return K3(this._delegate,f,m),e;default:throw new Error((0,L.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(t,e,r){if((0,L.Dv)("Query.off",0,3,arguments.length),function(n,t,e){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,L.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,t),(0,L.Wj)("Query.off","callback",e,!0),(0,L.lb)("Query.off","context",r,!0),e){const i=()=>{};i.userCallback=e,i.context=r,J3(this._delegate,t,i)}else J3(this._delegate,t)}get(){return a5(this._delegate).then(t=>new fp(this.database,t))}once(t,e,r,i){(0,L.Dv)("Query.once",1,4,arguments.length),(0,L.Wj)("Query.once","callback",e,!0);const a=ho.getCancelAndContextArgs_("Query.once",r,i),d=new L.BH,f=(C,M)=>{const T=new fp(this.database,C);e&&e.call(a.context,T,M),d.resolve(T)};f.userCallback=e,f.context=a.context;const m=C=>{a.cancel&&a.cancel.call(a.context,C),d.reject(C)};switch(t){case"value":E1(this._delegate,f,m,{onlyOnce:!0});break;case"child_added":Z3(this._delegate,f,m,{onlyOnce:!0});break;case"child_removed":Q3(this._delegate,f,m,{onlyOnce:!0});break;case"child_changed":Y3(this._delegate,f,m,{onlyOnce:!0});break;case"child_moved":K3(this._delegate,f,m,{onlyOnce:!0});break;default:throw new Error((0,L.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return d.promise}limitToFirst(t){return(0,L.Dv)("Query.limitToFirst",1,1,arguments.length),new ho(this.database,Mc(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new p5(n)}(t)))}limitToLast(t){return(0,L.Dv)("Query.limitToLast",1,1,arguments.length),new ho(this.database,Mc(this._delegate,function(n){if("number"!=typeof n||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new m5(n)}(t)))}orderByChild(t){return(0,L.Dv)("Query.orderByChild",1,1,arguments.length),new ho(this.database,Mc(this._delegate,function(n){if("$key"===n)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===n)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===n)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return pE("orderByChild","path",n,!1),new y5(n)}(t)))}orderByKey(){return(0,L.Dv)("Query.orderByKey",0,0,arguments.length),new ho(this.database,Mc(this._delegate,new v5))}orderByPriority(){return(0,L.Dv)("Query.orderByPriority",0,0,arguments.length),new ho(this.database,Mc(this._delegate,new w5))}orderByValue(){return(0,L.Dv)("Query.orderByValue",0,0,arguments.length),new ho(this.database,Mc(this._delegate,new M5))}startAt(t=null,e){return(0,L.Dv)("Query.startAt",0,2,arguments.length),new ho(this.database,Mc(this._delegate,function(n=null,t){return fE("startAt","key",t,!0),new eH(n,t)}(t,e)))}startAfter(t=null,e){return(0,L.Dv)("Query.startAfter",0,2,arguments.length),new ho(this.database,Mc(this._delegate,function(n,t){return fE("startAfter","key",t,!0),new h5(n,t)}(t,e)))}endAt(t=null,e){return(0,L.Dv)("Query.endAt",0,2,arguments.length),new ho(this.database,Mc(this._delegate,function(n,t){return fE("endAt","key",t,!0),new X3(n,t)}(t,e)))}endBefore(t=null,e){return(0,L.Dv)("Query.endBefore",0,2,arguments.length),new ho(this.database,Mc(this._delegate,function(n,t){return fE("endBefore","key",t,!0),new c5(n,t)}(t,e)))}equalTo(t,e){return(0,L.Dv)("Query.equalTo",1,2,arguments.length),new ho(this.database,Mc(this._delegate,function(n,t){return fE("equalTo","key",t,!0),new O5(n,t)}(t,e)))}toString(){return(0,L.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,L.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(t){if((0,L.Dv)("Query.isEqual",1,1,arguments.length),!(t instanceof ho))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(t._delegate)}static getCancelAndContextArgs_(t,e,r){const i={cancel:void 0,context:void 0};if(e&&r)i.cancel=e,(0,L.Wj)(t,"cancel",i.cancel,!0),i.context=r,(0,L.lb)(t,"context",i.context,!0);else if(e)if("object"==typeof e&&null!==e)i.context=e;else{if("function"!=typeof e)throw new Error((0,L.gK)(t,"cancelOrContext")+" must either be a cancel callback or a context object.");i.cancel=e}return i}get ref(){return new ya(this.database,new bl(this._delegate._repo,this._delegate._path))}}class ya extends ho{constructor(t,e){super(t,new Ls(e._repo,e._path,new FI,!1)),this.database=t,this._delegate=e}getKey(){return(0,L.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(t){return(0,L.Dv)("Reference.child",1,1,arguments.length),"number"==typeof t&&(t=String(t)),new ya(this.database,Rm(this._delegate,t))}getParent(){(0,L.Dv)("Reference.parent",0,0,arguments.length);const t=this._delegate.parent;return t?new ya(this.database,t):null}getRoot(){return(0,L.Dv)("Reference.root",0,0,arguments.length),new ya(this.database,this._delegate.root)}set(t,e){(0,L.Dv)("Reference.set",1,2,arguments.length),(0,L.Wj)("Reference.set","onComplete",e,!0);const r=w1(this._delegate,t);return e&&r.then(()=>e(null),i=>e(i)),r}update(t,e){if((0,L.Dv)("Reference.update",1,2,arguments.length),Array.isArray(t)){const i={};for(let a=0;a<t.length;++a)i[""+a]=t[a];t=i,rH("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}_l("Reference.update",this._delegate._path),(0,L.Wj)("Reference.update","onComplete",e,!0);const r=s5(this._delegate,t);return e&&r.then(()=>e(null),i=>e(i)),r}setWithPriority(t,e,r){(0,L.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,L.Wj)("Reference.setWithPriority","onComplete",r,!0);const i=function(n,t,e){if(_l("setWithPriority",n._path),Bu("setWithPriority",t,n._path,!1),f1("setWithPriority",e,!1),".length"===n.key||".keys"===n.key)throw"setWithPriority failed: "+n.key+" is a read-only object.";const r=new L.BH;return m1(n._repo,n._path,t,e,r.wrapCallback(()=>{})),r.promise}(this._delegate,t,e);return r&&i.then(()=>r(null),a=>r(a)),i}remove(t){(0,L.Dv)("Reference.remove",0,1,arguments.length),(0,L.Wj)("Reference.remove","onComplete",t,!0);const e=function(n){return _l("remove",n._path),w1(n,null)}(this._delegate);return t&&e.then(()=>t(null),r=>t(r)),e}transaction(t,e,r){(0,L.Dv)("Reference.transaction",1,3,arguments.length),(0,L.Wj)("Reference.transaction","transactionUpdate",t,!1),(0,L.Wj)("Reference.transaction","onComplete",e,!0),function(n,t,e,r){if(void 0!==e&&"boolean"!=typeof e)throw new Error((0,L.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,r);const i=function(n,t,e){var r;if(n=(0,L.m9)(n),_l("Reference.transaction",n._path),".length"===n.key||".keys"===n.key)throw"Reference.transaction failed: "+n.key+" is a read-only object.";const i=null===(r=null==e?void 0:e.applyLocally)||void 0===r||r,a=new L.BH,f=E1(n,()=>{});return function(n,t,e,r,i,a){Gb(n,"transaction on "+t);const d={path:t,update:e,onComplete:r,status:null,order:Ns(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},f=y1(n,t,void 0);d.currentInputSnapshot=f;const m=d.update(f.val());if(void 0===m)d.unwatcher(),d.currentOutputSnapshotRaw=null,d.currentOutputSnapshotResolved=null,d.onComplete&&d.onComplete(null,!1,d.currentInputSnapshot);else{hE("transaction failed: Data returned ",m,d.path),d.status=0;const C=KI(n.transactionQueueTree_,t),M=Fm(C)||[];let T;M.push(d),u1(C,M),"object"==typeof m&&null!==m&&(0,L.r3)(m,".priority")?(T=(0,L.DV)(m,".priority"),(0,L.hu)(dE(T),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):T=(WI(n.serverSyncTree_,t)||At.EMPTY_NODE).getPriority().val();const x=gE(n),R=wr(m,T),j=a1(R,f,x);d.currentOutputSnapshotRaw=R,d.currentOutputSnapshotResolved=j,d.currentWriteId=eS(n);const ie=e1(n.serverSyncTree_,t,j,d.currentWriteId,d.applyLocally);yl(n.eventQueue_,t,ie),tS(n,n.transactionQueueTree_)}}(n._repo,n._path,t,(m,C,M)=>{let T=null;m?a.reject(m):(T=new km(M,new bl(n._repo,n._path),qn),a.resolve(new j5(C,T)))},f,i),a.promise}(this._delegate,t,{applyLocally:r}).then(a=>new K5(a.committed,new fp(this.database,a.snapshot)));return e&&i.then(a=>e(null,a.committed,a.snapshot),a=>e(a,!1,null)),i}setPriority(t,e){(0,L.Dv)("Reference.setPriority",1,2,arguments.length),(0,L.Wj)("Reference.setPriority","onComplete",e,!0);const r=function(n,t){n=(0,L.m9)(n),_l("setPriority",n._path),f1("setPriority",t,!1);const e=new L.BH;return m1(n._repo,Jn(n._path,".priority"),t,null,e.wrapCallback(()=>{})),e.promise}(this._delegate,t);return e&&r.then(()=>e(null),i=>e(i)),r}push(t,e){(0,L.Dv)("Reference.push",0,2,arguments.length),(0,L.Wj)("Reference.push","onComplete",e,!0);const r=function(n,t){n=(0,L.m9)(n),_l("push",n._path),Bu("push",t,n._path,!0);const e=k3(n._repo),r=dq(e),i=Rm(n,r),a=Rm(n,r);let d;return d=null!=t?w1(a,t).then(()=>a):Promise.resolve(a),i.then=d.then.bind(d),i.catch=d.then.bind(d,void 0),i}(this._delegate,t),i=r.then(d=>new ya(this.database,d));e&&i.then(()=>e(null),d=>e(d));const a=new ya(this.database,r);return a.then=i.then.bind(i),a.catch=i.catch.bind(i,void 0),a}onDisconnect(){return _l("Reference.onDisconnect",this._delegate._path),new Y5(new $3(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class _E{constructor(t,e){this._delegate=t,this.app=e,this.INTERNAL={delete:()=>this._delegate._delete()}}useEmulator(t,e,r={}){!function(n,t,e,r={}){(n=(0,L.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Ro("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let a;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ro('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Ru(Ru.OWNER);else if(r.mockUserToken){const d="string"==typeof r.mockUserToken?r.mockUserToken:(0,L.Sg)(r.mockUserToken,n.app.options.projectId);a=new Ru(d)}!function(n,t,e,r){n.repoInfo_=new dh(`${t}:${e}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams),r&&(n.authTokenProvider_=r)}(i,t,e,a)}(this._delegate,t,e,r)}ref(t){if((0,L.Dv)("database.ref",0,1,arguments.length),t instanceof ya){const e=W3(this._delegate,t.toString());return new ya(this,e)}{const e=q3(this._delegate,t);return new ya(this,e)}}refFromURL(t){(0,L.Dv)("database.refFromURL",1,1,arguments.length);const r=W3(this._delegate,t);return new ya(this,r)}goOffline(){return(0,L.Dv)("database.goOffline",0,0,arguments.length),function(n){(n=(0,L.m9)(n))._checkNotDeleted("goOffline"),V3(n._repo)}(this._delegate)}goOnline(){return(0,L.Dv)("database.goOnline",0,0,arguments.length),function(n){(n=(0,L.m9)(n))._checkNotDeleted("goOnline"),function(n){n.persistentConnection_&&n.persistentConnection_.resume(F3)}(n._repo)}(this._delegate)}}_E.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:n=>function(n){return{".sv":{increment:n}}}(n)};var J5=Object.freeze({__proto__:null,initStandalone:function({app:n,url:t,version:e,customAuthImpl:r,namespace:i,nodeAdmin:a=!1}){lR(e);const d=new ol.zt("auth-internal",new ol.H0("database-standalone"));return d.setComponent(new ol.wA("auth-internal",()=>r,"PRIVATE")),{instance:new _E(nH(n,d,void 0,t,a),n),namespace:i}}});const X5=_E.ServerValue;function iH(n){return null==n}function oH(n){return"function"==typeof n.set}function sH(n,t){return oH(t)?t:n.ref(t)}function aH(n,t){if(function(n){return"string"==typeof n}(n))return t.stringCase();if(oH(n))return t.firebaseCase();if(function(n){return"function"==typeof n.exportVal}(n))return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof n)}function yE(n,t,e="on",r=Gd.z){return new mn.y(i=>{let a=null;return a=n[e](t,(d,f)=>{r.schedule(()=>{i.next({snapshot:d,prevKey:f})}),"once"===e&&r.schedule(()=>i.complete())},d=>{r.schedule(()=>i.error(d))}),"on"===e?{unsubscribe(){null!=a&&n.off(t,a)}}:{unsubscribe(){}}}).pipe((0,$e.U)(i=>{const{snapshot:a,prevKey:d}=i;let f=null;return a.exists()&&(f=a.key),{type:t,payload:a,prevKey:d,key:f}}),(0,jT.B)())}function lH(n,t){const e=n.length;for(let r=0;r<e;r++)if(n[r].payload.key===t)return r;return-1}function o8(n,t){const{payload:e,prevKey:r,key:i}=t,a=lH(n,i),d=function(n,t){if(iH(t))return 0;{const e=lH(n,t);return-1===e?n.length:e+1}}(n,r);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let f=null;t.payload.forEach(m=>{const C={payload:m,type:"value",prevKey:f,key:m.key};return f=m.key,n=[...n,C],!1})}return n;case"child_added":if(a>-1){const f=n[a-1];(f&&f.key||null)!==r&&(n=n.filter(m=>m.payload.key!==e.key)).splice(d,0,t)}else{if(null==r)return[t,...n];(n=n.slice()).splice(d,0,t)}return n;case"child_removed":return n.filter(f=>f.payload.key!==e.key);case"child_changed":return n.map(f=>f.payload.key===i?t:f);case"child_moved":if(a>-1){const f=n.splice(a,1)[0];return(n=n.slice()).splice(d,0,f),n}return n;default:return n}}function cH(n){return(iH(n)||0===n.length)&&(n=["child_added","child_removed","child_changed","child_moved"]),n}function uH(n,t,e){return function(n,t,e){return yE(n,"value","once",e).pipe(Dn(r=>{const i=[(0,Le.of)(r)];return t.forEach(a=>i.push(yE(n,a,"on",e))),(0,Is.T)(...i).pipe(Ga(o8,[]))}),Hg())}(n,t=cH(t),e)}function dH(n,t,e){const r=(t=cH(t)).map(i=>yE(n,i,"on",e));return(0,Is.T)(...r)}function hH(n,t){return function(r,i){return aH(r,{stringCase:()=>n.child(r)[t](i),firebaseCase:()=>r[t](i),snapshotCase:()=>r.ref[t](i)})}}function c8(n){return function(e){return e?aH(e,{stringCase:()=>n.child(e).remove(),firebaseCase:()=>e.remove(),snapshotCase:()=>e.ref.remove()}):n.remove()}}function fH(n,t){return function(){return yE(n,"value","on",t)}}!function(n){n.INTERNAL.registerComponent(new ol.wA("database-compat",(t,{instanceIdentifier:e})=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("database").getImmediate({identifier:e});return new _E(i,r)},"PUBLIC").setServiceProps({Reference:ya,Query:ho,Database:_E,DataSnapshot:fp,enableLogging:L5,INTERNAL:J5,ServerValue:X5}).setMultipleInstances(!0)),n.registerVersion("@firebase/database-compat","0.1.4")}(aR.Z);const h8=new l.OlP("angularfire2.realtimeDatabaseURL"),f8=new l.OlP("angularfire2.database.use-emulator");let aS=(()=>{class n{constructor(e,r,i,a,d,f,m,C,M,T,x,R,j,ie,pe){this.schedulers=f;const Ae=m,Ge=(0,ao.on)(e,d,r);C&&My(Ge,d,M,x,R,j,T,ie),this.database=(0,ao.cc)(`${Ge.name}.database.${i}`,"AngularFireDatabase",Ge.name,()=>{const et=d.runOutsideAngular(()=>Ge.database(i||void 0));return Ae&&et.useEmulator(...Ae),et},[Ae])}list(e,r){const i=this.schedulers.ngZone.runOutsideAngular(()=>sH(this.database,e));let a=i;return r&&(a=r(i)),function(n,t){const e=t.schedulers.outsideAngular,r=t.schedulers.ngZone.run(()=>n.ref);return{query:n,update:hH(r,"update"),set:hH(r,"set"),push:i=>r.push(i),remove:c8(r),snapshotChanges:i=>uH(n,i,e).pipe(xn.iC),stateChanges:i=>dH(n,i,e).pipe(xn.iC),auditTrail:i=>function(n,t,e){return function(n,t,e){return function(n,t){return yE(n,"value","on",t).pipe((0,$e.U)(e=>{let r;return e.payload.forEach(i=>(r=i.key,!1)),{data:e,lastKeyToLoad:r}}))}(n,e).pipe(function(...n){return t=>{let e;return"function"==typeof n[n.length-1]&&(e=n.pop()),t.lift(new xU(n,e))}}(t),(0,$e.U)(([i,a])=>{const d=i.lastKeyToLoad,f=a.map(m=>m.key);return{actions:a,lastKeyToLoad:d,loadedKeys:f}}),function(n){return t=>t.lift(new oR(n))}(i=>-1===i.loadedKeys.indexOf(i.lastKeyToLoad)),(0,$e.U)(i=>i.actions))}(n,dH(n,t).pipe(Ga((i,a)=>[...i,a],[])),e)}(n,i,e).pipe(xn.iC),valueChanges:(i,a)=>uH(n,i,e).pipe((0,$e.U)(f=>f.map(m=>a&&a.idField?Object.assign(Object.assign({},m.payload.val()),{[a.idField]:m.key}):m.payload.val())),xn.iC)}}(a,this)}object(e){return function(n,t){return{query:n,snapshotChanges:()=>fH(n,t.schedulers.outsideAngular)().pipe(xn.iC),update:e=>n.ref.update(e),set:e=>n.ref.set(e),remove:()=>n.ref.remove(),valueChanges:()=>fH(n,t.schedulers.outsideAngular)().pipe(xn.iC,(0,$e.U)(r=>r.payload.exists()?r.payload.val():null))}}(this.schedulers.ngZone.runOutsideAngular(()=>sH(this.database,e)),this)}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ao.Dh),l.LFG(ao.xv,8),l.LFG(h8,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(xn.HU),l.LFG(f8,8),l.LFG(Bf,8),l.LFG(Fg,8),l.LFG(Ey,8),l.LFG(kg,8),l.LFG(Rg,8),l.LFG(Ng,8),l.LFG(cw,8),l.LFG(rw,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),p8=(()=>{class n{constructor(){lw.Z.registerVersion("angularfire",xn.q4.full,"rtdb-compat")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[aS]}),n})(),g8=(()=>{class n{constructor(e){this.database=e,this.usersRef=this.database.list("users"),this.users$=this.usersRef.snapshotChanges().pipe((0,$e.U)(r=>r.map(i=>Object.assign({key:i.payload.key},i.payload.val()))))}addUser(e){return this.usersRef.push(e),this.users$}getUsers(){return this.users$}getUser(e){return this.users$.pipe((0,$e.U)(i=>i.find(a=>a.key===e)))}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(aS))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function m8(n,t){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Field is required"),l.qZA())}function _8(n,t){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Min length is 2 characters"),l.qZA())}function y8(n,t){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Max length is 20 characters"),l.qZA())}function b8(n,t){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Invalid field(only letters and dashes)"),l.qZA())}function v8(n,t){if(1&n&&(l.TgZ(0,"mat-error"),l.YNc(1,m8,2,0,"mat-error",7),l.YNc(2,_8,2,0,"mat-error",7),l.YNc(3,y8,2,0,"mat-error",7),l.YNc(4,b8,2,0,"mat-error",7),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.Q6J("ngIf",null==e.firstName.errors?null:e.firstName.errors.required),l.xp6(1),l.Q6J("ngIf",null==e.firstName.errors?null:e.firstName.errors.minlength),l.xp6(1),l.Q6J("ngIf",null==e.firstName.errors?null:e.firstName.errors.maxlength),l.xp6(1),l.Q6J("ngIf",null==e.firstName.errors?null:e.firstName.errors.pattern)}}function C8(n,t){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Field is required"),l.qZA())}function w8(n,t){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Min length is 2 characters"),l.qZA())}function E8(n,t){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Max length is 20 characters"),l.qZA())}function M8(n,t){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Invalid field(only letters and dashes)"),l.qZA())}function D8(n,t){if(1&n&&(l.TgZ(0,"mat-error"),l.YNc(1,C8,2,0,"mat-error",7),l.YNc(2,w8,2,0,"mat-error",7),l.YNc(3,E8,2,0,"mat-error",7),l.YNc(4,M8,2,0,"mat-error",7),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.Q6J("ngIf",null==e.lastName.errors?null:e.lastName.errors.required),l.xp6(1),l.Q6J("ngIf",null==e.lastName.errors?null:e.lastName.errors.minlength),l.xp6(1),l.Q6J("ngIf",null==e.lastName.errors?null:e.lastName.errors.maxlength),l.xp6(1),l.Q6J("ngIf",null==e.lastName.errors?null:e.lastName.errors.pattern)}}function O8(n,t){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Field is required"),l.qZA())}function T8(n,t){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Invalid email"),l.qZA())}function I8(n,t){if(1&n&&(l.TgZ(0,"mat-error"),l.YNc(1,O8,2,0,"mat-error",7),l.YNc(2,T8,2,0,"mat-error",7),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.Q6J("ngIf",null==e.email.errors?null:e.email.errors.required),l.xp6(1),l.Q6J("ngIf",null==e.email.errors?null:e.email.errors.email)}}function S8(n,t){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Field is required"),l.qZA())}function P8(n,t){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Min length is 6 characters"),l.qZA())}function A8(n,t){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Max length is 20 characters"),l.qZA())}function x8(n,t){if(1&n&&(l.TgZ(0,"mat-error"),l.YNc(1,S8,2,0,"mat-error",7),l.YNc(2,P8,2,0,"mat-error",7),l.YNc(3,A8,2,0,"mat-error",7),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.Q6J("ngIf",null==e.password.errors?null:e.password.errors.required),l.xp6(1),l.Q6J("ngIf",null==e.password.errors?null:e.password.errors.minlength),l.xp6(1),l.Q6J("ngIf",null==e.password.errors?null:e.password.errors.maxlength)}}function F8(n,t){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Field is required"),l.qZA())}function k8(n,t){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Min length is 6 characters"),l.qZA())}function R8(n,t){1&n&&(l.TgZ(0,"mat-error"),l._uU(1,"Max length is 20 characters"),l.qZA())}function N8(n,t){if(1&n&&(l.TgZ(0,"mat-error"),l.YNc(1,F8,2,0,"mat-error",7),l.YNc(2,k8,2,0,"mat-error",7),l.YNc(3,R8,2,0,"mat-error",7),l.qZA()),2&n){const e=l.oxw();l.xp6(1),l.Q6J("ngIf",null==e.confirmPassword.errors?null:e.confirmPassword.errors.required),l.xp6(1),l.Q6J("ngIf",null==e.confirmPassword.errors?null:e.confirmPassword.errors.minlength),l.xp6(1),l.Q6J("ngIf",null==e.confirmPassword.errors?null:e.confirmPassword.errors.maxlength)}}function L8(n,t){1&n&&(l.TgZ(0,"mat-error"),l._uU(1," Passwords must be matched "),l.qZA())}let V8=(()=>{class n{constructor(e,r){this.authService=e,this.usersService=r,this.identityRevealedValidator=i=>{const a=i.get("password"),d=i.get("confirmPassword");return a&&d&&a.value!==d.value?{identityNotRevealed:!0}:null},this.registerForm=new Cg({firstName:new Ts("",[lr.required,lr.minLength(2),lr.maxLength(20),lr.pattern("[a-zA-Z-]+$")]),lastName:new Ts("",[lr.required,lr.minLength(2),lr.maxLength(20),lr.pattern("[a-zA-Z-]+$")]),email:new Ts("",[lr.required,lr.email]),password:new Ts("",[lr.required,lr.minLength(6),lr.maxLength(20)]),confirmPassword:new Ts("",[lr.required,lr.minLength(6),lr.maxLength(20)])},{validators:this.identityRevealedValidator})}get firstName(){return this.registerForm.get("firstName")}get lastName(){return this.registerForm.get("lastName")}get email(){return this.registerForm.get("email")}get password(){return this.registerForm.get("password")}get confirmPassword(){return this.registerForm.get("confirmPassword")}createUser(){const{email:e,password:r}=this.registerForm.value,i=Object.assign(Object.assign({},this.registerForm.value),{role:"User"});this.usersService.addUser(i),this.authService.registerUser(e,r)}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Dy),l.Y36(g8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-register-form"]],decls:46,vars:8,consts:[[1,"page"],[1,"form__container"],[1,"form__title"],[1,"form",3,"formGroup"],["appearance","legacy","color","accent"],["type","text","matInput","","placeholder","Type your first name","formControlName","firstName"],["matPrefix",""],[4,"ngIf"],["type","text","matInput","","placeholder","Type your last name","formControlName","lastName"],["type","text","matInput","","formControlName","email","placeholder","Type your email"],["type","password","matInput","","formControlName","password","placeholder","Type your Password"],["type","password","matInput","","formControlName","confirmPassword","placeholder","Repeat your password"],["mat-button","","type","submit",1,"form__btn",3,"disabled","click"],[1,"form__link"],["mat-button","","routerLink","/login","href","#"]],template:function(e,r){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"h2",2),l._uU(3,"Sign Up"),l.qZA(),l.TgZ(4,"form",3),l.TgZ(5,"mat-form-field",4),l.TgZ(6,"mat-label"),l._uU(7,"First Name"),l.qZA(),l._UZ(8,"input",5),l.TgZ(9,"mat-icon",6),l._uU(10,"person_outline"),l.qZA(),l.YNc(11,v8,5,4,"mat-error",7),l.qZA(),l.TgZ(12,"mat-form-field",4),l.TgZ(13,"mat-label"),l._uU(14,"Last Name"),l.qZA(),l._UZ(15,"input",8),l.TgZ(16,"mat-icon",6),l._uU(17,"person_outline"),l.qZA(),l.YNc(18,D8,5,4,"mat-error",7),l.qZA(),l.TgZ(19,"mat-form-field",4),l.TgZ(20,"mat-label"),l._uU(21,"Email"),l.qZA(),l._UZ(22,"input",9),l.TgZ(23,"mat-icon",6),l._uU(24,"mail_outline"),l.qZA(),l.YNc(25,I8,3,2,"mat-error",7),l.qZA(),l.TgZ(26,"mat-form-field",4),l.TgZ(27,"mat-label"),l._uU(28,"Password"),l.qZA(),l._UZ(29,"input",10),l.TgZ(30,"mat-icon",6),l._uU(31,"lock"),l.qZA(),l.YNc(32,x8,4,3,"mat-error",7),l.qZA(),l.TgZ(33,"mat-form-field",4),l.TgZ(34,"mat-label"),l._uU(35,"Confirm Password"),l.qZA(),l._UZ(36,"input",11),l.TgZ(37,"mat-icon",6),l._uU(38,"lock"),l.qZA(),l.YNc(39,N8,4,3,"mat-error",7),l.qZA(),l.YNc(40,L8,2,0,"mat-error",7),l.TgZ(41,"button",12),l.NdJ("click",function(){return r.createUser()}),l._uU(42,"REGISTER"),l.qZA(),l.qZA(),l.TgZ(43,"div",13),l.TgZ(44,"a",14),l._uU(45,"I HAVE AN ACCOUNT"),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(4),l.Q6J("formGroup",r.registerForm),l.xp6(7),l.Q6J("ngIf",r.firstName.invalid&&(r.firstName.dirty||r.firstName.touched)),l.xp6(7),l.Q6J("ngIf",r.lastName.invalid&&(r.lastName.dirty||r.lastName.touched)),l.xp6(7),l.Q6J("ngIf",r.email.invalid&&(r.email.dirty||r.email.touched)),l.xp6(7),l.Q6J("ngIf",r.password.invalid&&(r.password.dirty||r.password.touched)),l.xp6(7),l.Q6J("ngIf",r.confirmPassword.invalid&&(r.confirmPassword.dirty||r.confirmPassword.touched)),l.xp6(1),l.Q6J("ngIf",(null==r.registerForm.errors?null:r.registerForm.errors.identityNotRevealed)&&r.confirmPassword.touched),l.xp6(1),l.Q6J("disabled",r.registerForm.invalid))},directives:[DC,fC,bu,pm,sb,Rk,yu,Vd,ly,bb,M0,Nr,wb,Eb,wf,kT],styles:[".form__container[_ngcontent-%COMP%]{padding:40px;background:#7b3fe1;width:400px;margin:0 auto;transform:translateY(100px);color:#fffc;border-radius:10px}.form__container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]{padding:20px;display:flex;flex-direction:column}.form__container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:-webkit-autofill{-webkit-box-shadow:0 0 0 1000px #7b3fe1 inset!important;-webkit-text-fill-color:rgba(255,255,255,.8)!important}.form__container[_ngcontent-%COMP%]   .form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{padding-right:10px}.form__container[_ngcontent-%COMP%]   .form__btn[_ngcontent-%COMP%]{margin:20px 0;background:#1f2329}.form__container[_ngcontent-%COMP%]   .form__link[_ngcontent-%COMP%]{text-align:center}.form__title[_ngcontent-%COMP%]{color:inherit;text-align:center;font-weight:normal}.page[_ngcontent-%COMP%]{min-width:100vw;min-height:100vh;background:#1f2329}"]}),n})();var pH=V(4022);const D1=(0,$e.U)(n=>!!n);let lS=(()=>{class n{constructor(e,r){this.router=e,this.auth=r,this.canActivate=(i,a)=>{const d=i.data.authGuardPipe||(()=>D1);return this.auth.user.pipe(_r(1),d(i,a),(0,$e.U)(f=>"boolean"==typeof f?f:Array.isArray(f)?this.router.createUrlTree(f):this.router.parseUrl(f)))}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(xi),l.LFG(Bf))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const gH=()=>(n=>(0,pH.z)(D1,(0,$e.U)(t=>t&&n||!0)))([""]),G8=[{path:"",component:(()=>{class n{constructor(e){this.authService=e}ngOnInit(){}logOut(){this.authService.signOut()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(Dy))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-test"]],decls:2,vars:0,consts:[["mat-raised-button","",3,"click"]],template:function(e,r){1&e&&(l.TgZ(0,"button",0),l.NdJ("click",function(){return r.logOut()}),l._uU(1," LogOut"),l.qZA())},directives:[wb],styles:[""]}),n})(),canActivate:[lS],data:{authGuardPipe:()=>(n=>(0,pH.z)(D1,(0,$e.U)(t=>t||n)))(["login"])}},{path:"login",component:PU,canActivate:[lS],data:{authGuardPipe:gH}},{path:"register",component:V8,canActivate:[lS],data:{authGuardPipe:gH}}];let $8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[oC.forRoot(G8)],oC]}),n})();var Y8=V(6465),Q8=V(6102);new class extends Q8.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let r,i=-1,a=e.length;t=t||e.shift();do{if(r=t.execute(t.state,t.delay))break}while(++i<a&&(t=e.shift()));if(this.active=!1,r){for(;++i<a&&(t=e.shift());)t.unsubscribe();throw r}}}(class extends Y8.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,r=0){return null!==r&&r>0?super.requestAsyncId(t,e,r):(t.actions.push(this),t.scheduled||(t.scheduled=requestAnimationFrame(()=>t.flush(null))))}recycleAsyncId(t,e,r=0){if(null!==r&&r>0||null===r&&this.delay>0)return super.recycleAsyncId(t,e,r);0===t.actions.length&&(cancelAnimationFrame(e),t.scheduled=void 0)}});var I1=V(4581);function uS(){return n=>n.lift(new eW)}class eW{call(t,e){return e.subscribe(new tW(t))}}class tW extends tn.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}let dS=(()=>{class n{constructor(e,r,i){this._ngZone=e,this._platform=r,this._scrolled=new it.xQ,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const r=this.scrollContainers.get(e);r&&(r.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new mn.y(r=>{this._globalSubscription||this._addGlobalListener();const i=e>0?this._scrolled.pipe(ub(e)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,Le.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(e,r){const i=this.getAncestorScrollContainers(e);return this.scrolled(r).pipe(On(a=>!a||i.indexOf(a)>-1))}getAncestorScrollContainers(e){const r=[];return this.scrollContainers.forEach((i,a)=>{this._scrollableContainsElement(a,e)&&r.push(a)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,r){let i=cl(r),a=e.getElementRef().nativeElement;do{if(i==a)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>tp(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(l.R0b),l.LFG(In),l.LFG(K,8))},n.\u0275prov=l.Yz7({factory:function(){return new n(l.LFG(l.R0b),l.LFG(In),l.LFG(K,8))},token:n,providedIn:"root"}),n})(),Lm=(()=>{class n{constructor(e,r,i){this._platform=e,this._change=new it.xQ,this._changeListener=a=>{this._change.next(a)},this._document=i,r.runOutsideAngular(()=>{if(e.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+i,right:e.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,r=this._getWindow(),i=e.documentElement,a=i.getBoundingClientRect();return{top:-a.top||e.body.scrollTop||r.scrollY||i.scrollTop||0,left:-a.left||e.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(ub(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(In),l.LFG(l.R0b),l.LFG(K,8))},n.\u0275prov=l.Yz7({factory:function(){return new n(l.LFG(In),l.LFG(l.R0b),l.LFG(K,8))},token:n,providedIn:"root"}),n})(),hS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),S1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Zg,jg,hS],Zg,hS]}),n})(),MW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[S1]]}),n})(),HW=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[MW,Sn],Sn]}),n})();class U1{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class H1 extends U1{constructor(t,e,r,i){super(),this.component=t,this.viewContainerRef=e,this.injector=r,this.componentFactoryResolver=i}}class Yb extends U1{constructor(t,e,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class zW extends U1{constructor(t){super(),this.element=t instanceof l.SBq?t.nativeElement:t}}class j1{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof H1?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Yb?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof zW?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class PH extends j1{constructor(t,e,r,i,a){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=d=>{const f=d.element,m=this._document.createComment("dom-portal");f.parentNode.insertBefore(m,f),this.outletElement.appendChild(f),this._attachedPortal=d,super.setDisposeFn(()=>{m.parentNode&&m.parentNode.replaceChild(f,m)})},this._document=a}attachComponentPortal(t){const r=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let i;return t.viewContainerRef?(i=t.viewContainerRef.createComponent(r,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>i.destroy())):(i=r.create(t.injector||this._defaultInjector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=t,i}attachTemplatePortal(t){let e=t.viewContainerRef,r=e.createEmbeddedView(t.templateRef,t.context);return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=e.indexOf(r);-1!==i&&e.remove(i)}),this._attachedPortal=t,r}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let wS=(()=>{class n extends j1{constructor(e,r,i){super(),this._componentFactoryResolver=e,this._viewContainerRef=r,this._isInitialized=!1,this.attached=new l.vpe,this.attachDomPortal=a=>{const d=a.element,f=this._document.createComment("dom-portal");a.setAttachedHost(this),d.parentNode.insertBefore(f,d),this._getRootNode().appendChild(d),this._attachedPortal=a,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(d,f)})},this._document=i}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const r=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,a=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),d=r.createComponent(a,r.length,e.injector||r.injector);return r!==this._viewContainerRef&&this._getRootNode().appendChild(d.hostView.rootNodes[0]),super.setDisposeFn(()=>d.destroy()),this._attachedPortal=e,this._attachedRef=d,this.attached.emit(d),d}attachTemplatePortal(e){e.setAttachedHost(this);const r=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=r,this.attached.emit(r),r}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l._Vd),l.Y36(l.s_b),l.Y36(K))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[l.qOj]}),n})(),xH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const FH=yw();class WW{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=cr(-this._previousScrollPosition.left),t.style.top=cr(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,r=t.style,i=this._document.body.style,a=r.scrollBehavior||"",d=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),FH&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),FH&&(r.scrollBehavior=a,i.scrollBehavior=d)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,r=this._viewportRuler.getViewportSize();return e.scrollHeight>r.height||e.scrollWidth>r.width}}class ZW{constructor(t,e,r,i){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class kH{enable(){}disable(){}attach(){}}function z1(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function RH(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class YW{constructor(t,e,r,i){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();z1(e,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let KW=(()=>{class n{constructor(e,r,i,a){this._scrollDispatcher=e,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new kH,this.close=d=>new ZW(this._scrollDispatcher,this._ngZone,this._viewportRuler,d),this.block=()=>new WW(this._viewportRuler,this._document),this.reposition=d=>new YW(this._scrollDispatcher,this._viewportRuler,this._ngZone,d),this._document=a}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(dS),l.LFG(Lm),l.LFG(l.R0b),l.LFG(K))},n.\u0275prov=l.Yz7({factory:function(){return new n(l.LFG(dS),l.LFG(Lm),l.LFG(l.R0b),l.LFG(K))},token:n,providedIn:"root"}),n})();class ES{constructor(t){if(this.scrollStrategy=new kH,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const r of e)void 0!==t[r]&&(this[r]=t[r])}}}class QW{constructor(t,e,r,i,a){this.offsetX=r,this.offsetY=i,this.panelClass=a,this.originX=t.originX,this.originY=t.originY,this.overlayX=e.overlayX,this.overlayY=e.overlayY}}class JW{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let NH=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const r=this._attachedOverlays.indexOf(e);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(K))},n.\u0275prov=l.Yz7({factory:function(){return new n(l.LFG(K))},token:n,providedIn:"root"}),n})(),XW=(()=>{class n extends NH{constructor(e){super(e),this._keydownListener=r=>{const i=this._attachedOverlays;for(let a=i.length-1;a>-1;a--)if(i[a]._keydownEvents.observers.length>0){i[a]._keydownEvents.next(r);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(K))},n.\u0275prov=l.Yz7({factory:function(){return new n(l.LFG(K))},token:n,providedIn:"root"}),n})(),eZ=(()=>{class n extends NH{constructor(e,r){super(e),this._platform=r,this._cursorStyleIsSet=!1,this._pointerDownListener=i=>{this._pointerDownEventTarget=Zd(i)},this._clickListener=i=>{const a=Zd(i),d="click"===i.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:a;this._pointerDownEventTarget=null;const f=this._attachedOverlays.slice();for(let m=f.length-1;m>-1;m--){const C=f[m];if(!(C._outsidePointerEvents.observers.length<1)&&C.hasAttached()){if(C.overlayElement.contains(a)||C.overlayElement.contains(d))break;C._outsidePointerEvents.next(i)}}}}add(e){if(super.add(e),!this._isAttached){const r=this._document.body;r.addEventListener("pointerdown",this._pointerDownListener,!0),r.addEventListener("click",this._clickListener,!0),r.addEventListener("auxclick",this._clickListener,!0),r.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(K),l.LFG(In))},n.\u0275prov=l.Yz7({factory:function(){return new n(l.LFG(K),l.LFG(In))},token:n,providedIn:"root"}),n})(),CE=(()=>{class n{constructor(e,r){this._platform=r,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Ny()){const i=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let a=0;a<i.length;a++)i[a].parentNode.removeChild(i[a])}const r=this._document.createElement("div");r.classList.add(e),Ny()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(K),l.LFG(In))},n.\u0275prov=l.Yz7({factory:function(){return new n(l.LFG(K),l.LFG(In))},token:n,providedIn:"root"}),n})();class tZ{constructor(t,e,r,i,a,d,f,m,C){this._portalOutlet=t,this._host=e,this._pane=r,this._config=i,this._ngZone=a,this._keyboardDispatcher=d,this._document=f,this._location=m,this._outsideClickDispatcher=C,this._backdropElement=null,this._backdropClick=new it.xQ,this._attachments=new it.xQ,this._detachments=new it.xQ,this._locationChanges=yr.w.EMPTY,this._backdropClickHandler=M=>this._backdropClick.next(M),this._keydownEvents=new it.xQ,this._outsidePointerEvents=new it.xQ,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){let e=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(_r(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}setDirection(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=cr(this._config.width),t.height=cr(this._config.height),t.minWidth=cr(this._config.minWidth),t.minHeight=cr(this._config.minHeight),t.maxWidth=cr(this._config.maxWidth),t.maxHeight=cr(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(!t)return;let e;const r=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",r),this._disposeBackdrop(t)),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",r)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(r,500))}_toggleClasses(t,e,r){const i=t.classList;uw(e).forEach(a=>{a&&(r?i.add(a):i.remove(a))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Gn((0,Is.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.parentNode&&t.parentNode.removeChild(t),this._backdropElement===t&&(this._backdropElement=null))}}const LH="cdk-overlay-connected-position-bounding-box",nZ=/([A-Za-z%]+)$/;class VH{constructor(t,e,r,i,a){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new it.xQ,this._resizeSubscription=yr.w.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(LH),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const t=this._originRect,e=this._overlayRect,r=this._viewportRect,i=[];let a;for(let d of this._preferredPositions){let f=this._getOriginPoint(t,d),m=this._getOverlayPoint(f,e,d),C=this._getOverlayFit(m,e,r,d);if(C.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(d,f);this._canFitWithFlexibleDimensions(C,m,r)?i.push({position:d,origin:f,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(f,d)}):(!a||a.overlayFit.visibleArea<C.visibleArea)&&(a={overlayFit:C,overlayPoint:m,originPoint:f,position:d,overlayRect:e})}if(i.length){let d=null,f=-1;for(const m of i){const C=m.boundingBoxRect.width*m.boundingBoxRect.height*(m.position.weight||1);C>f&&(f=C,d=m)}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(a.position,a.originPoint);this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Vm(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(LH),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e){let r,i;if("center"==e.originX)r=t.left+t.width/2;else{const a=this._isRtl()?t.right:t.left,d=this._isRtl()?t.left:t.right;r="start"==e.originX?a:d}return i="center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom,{x:r,y:i}}_getOverlayPoint(t,e,r){let i,a;return i="center"==r.overlayX?-e.width/2:"start"===r.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,a="center"==r.overlayY?-e.height/2:"top"==r.overlayY?0:-e.height,{x:t.x+i,y:t.y+a}}_getOverlayFit(t,e,r,i){const a=UH(e);let{x:d,y:f}=t,m=this._getOffset(i,"x"),C=this._getOffset(i,"y");m&&(d+=m),C&&(f+=C);let x=0-f,R=f+a.height-r.height,j=this._subtractOverflows(a.width,0-d,d+a.width-r.width),ie=this._subtractOverflows(a.height,x,R),pe=j*ie;return{visibleArea:pe,isCompletelyWithinViewport:a.width*a.height===pe,fitsInViewportVertically:ie===a.height,fitsInViewportHorizontally:j==a.width}}_canFitWithFlexibleDimensions(t,e,r){if(this._hasFlexibleDimensions){const i=r.bottom-e.y,a=r.right-e.x,d=BH(this._overlayRef.getConfig().minHeight),f=BH(this._overlayRef.getConfig().minWidth),C=t.fitsInViewportHorizontally||null!=f&&f<=a;return(t.fitsInViewportVertically||null!=d&&d<=i)&&C}return!1}_pushOverlayOnScreen(t,e,r){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const i=UH(e),a=this._viewportRect,d=Math.max(t.x+i.width-a.width,0),f=Math.max(t.y+i.height-a.height,0),m=Math.max(a.top-r.top-t.y,0),C=Math.max(a.left-r.left-t.x,0);let M=0,T=0;return M=i.width<=a.width?C||-d:t.x<this._viewportMargin?a.left-r.left-t.x:0,T=i.height<=a.height?m||-f:t.y<this._viewportMargin?a.top-r.top-t.y:0,this._previousPushAmount={x:M,y:T},{x:t.x+M,y:t.y+T}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new JW(t,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=t.overlayY;r="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let a=0;a<e.length;a++)e[a].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(t,e){const r=this._viewportRect,i=this._isRtl();let a,d,f,M,T,x;if("top"===e.overlayY)d=t.y,a=r.height-d+this._viewportMargin;else if("bottom"===e.overlayY)f=r.height-t.y+2*this._viewportMargin,a=r.height-f+this._viewportMargin;else{const R=Math.min(r.bottom-t.y+r.top,t.y),j=this._lastBoundingBoxSize.height;a=2*R,d=t.y-R,a>j&&!this._isInitialRender&&!this._growAfterOpen&&(d=t.y-j/2)}if("end"===e.overlayX&&!i||"start"===e.overlayX&&i)x=r.width-t.x+this._viewportMargin,M=t.x-this._viewportMargin;else if("start"===e.overlayX&&!i||"end"===e.overlayX&&i)T=t.x,M=r.right-t.x;else{const R=Math.min(r.right-t.x+r.left,t.x),j=this._lastBoundingBoxSize.width;M=2*R,T=t.x-R,M>j&&!this._isInitialRender&&!this._growAfterOpen&&(T=t.x-j/2)}return{top:d,left:T,bottom:f,right:x,width:M,height:a}}_setBoundingBoxStyles(t,e){const r=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,d=this._overlayRef.getConfig().maxWidth;i.height=cr(r.height),i.top=cr(r.top),i.bottom=cr(r.bottom),i.width=cr(r.width),i.left=cr(r.left),i.right=cr(r.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",a&&(i.maxHeight=cr(a)),d&&(i.maxWidth=cr(d))}this._lastBoundingBoxSize=r,Vm(this._boundingBox.style,i)}_resetBoundingBoxStyles(){Vm(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Vm(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const r={},i=this._hasExactPosition(),a=this._hasFlexibleDimensions,d=this._overlayRef.getConfig();if(i){const M=this._viewportRuler.getViewportScrollPosition();Vm(r,this._getExactOverlayY(e,t,M)),Vm(r,this._getExactOverlayX(e,t,M))}else r.position="static";let f="",m=this._getOffset(e,"x"),C=this._getOffset(e,"y");m&&(f+=`translateX(${m}px) `),C&&(f+=`translateY(${C}px)`),r.transform=f.trim(),d.maxHeight&&(i?r.maxHeight=cr(d.maxHeight):a&&(r.maxHeight="")),d.maxWidth&&(i?r.maxWidth=cr(d.maxWidth):a&&(r.maxWidth="")),Vm(this._pane.style,r)}_getExactOverlayY(t,e,r){let i={top:"",bottom:""},a=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r));let d=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return a.y-=d,"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":i.top=cr(a.y),i}_getExactOverlayX(t,e,r){let d,i={left:"",right:""},a=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,r)),d=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===d?i.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":i.left=cr(a.x),i}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:RH(t,r),isOriginOutsideView:z1(t,r),isOverlayClipped:RH(e,r),isOverlayOutsideView:z1(e,r)}}_subtractOverflows(t,...e){return e.reduce((r,i)=>r-Math.max(i,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+t-this._viewportMargin,bottom:r.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&uw(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof l.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+e,height:r,width:e}}}function Vm(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function BH(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(nZ);return e&&"px"!==e?null:parseFloat(t)}return n||null}function UH(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}class rZ{constructor(t,e,r,i,a,d,f){this._preferredPositions=[],this._positionStrategy=new VH(r,i,a,d,f).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(t,e),this.onPositionChange=this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(t){this._positionStrategy.withScrollableContainers(t)}withFallbackPosition(t,e,r,i){const a=new QW(t,e,r,i);return this._preferredPositions.push(a),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}withOffsetX(t){return this._positionStrategy.withDefaultOffsetX(t),this}withOffsetY(t){return this._positionStrategy.withDefaultOffsetY(t),this}withLockedPosition(t){return this._positionStrategy.withLockedPosition(t),this}withPositions(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(t){return this._positionStrategy.setOrigin(t),this}}const HH="cdk-global-overlay-wrapper";class iZ{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(HH),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._justifyContent="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:a,maxWidth:d,maxHeight:f}=r,m=!("100%"!==i&&"100vw"!==i||d&&"100%"!==d&&"100vw"!==d),C=!("100%"!==a&&"100vh"!==a||f&&"100%"!==f&&"100vh"!==f);t.position=this._cssPosition,t.marginLeft=m?"0":this._leftOffset,t.marginTop=C?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,m?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=C?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,r=e.style;e.classList.remove(HH),r.justifyContent=r.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let oZ=(()=>{class n{constructor(e,r,i,a){this._viewportRuler=e,this._document=r,this._platform=i,this._overlayContainer=a}global(){return new iZ}connectedTo(e,r,i){return new rZ(r,i,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new VH(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(Lm),l.LFG(K),l.LFG(In),l.LFG(CE))},n.\u0275prov=l.Yz7({factory:function(){return new n(l.LFG(Lm),l.LFG(K),l.LFG(In),l.LFG(CE))},token:n,providedIn:"root"}),n})(),sZ=0,mh=(()=>{class n{constructor(e,r,i,a,d,f,m,C,M,T,x){this.scrollStrategies=e,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=a,this._keyboardDispatcher=d,this._injector=f,this._ngZone=m,this._document=C,this._directionality=M,this._location=T,this._outsideClickDispatcher=x}create(e){const r=this._createHostElement(),i=this._createPaneElement(r),a=this._createPortalOutlet(i),d=new ES(e);return d.direction=d.direction||this._directionality.value,new tZ(a,r,i,d,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const r=this._document.createElement("div");return r.id="cdk-overlay-"+sZ++,r.classList.add("cdk-overlay-pane"),e.appendChild(r),r}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new PH(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(KW),l.LFG(CE),l.LFG(l._Vd),l.LFG(oZ),l.LFG(XW),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(K),l.LFG(Fs),l.LFG(xt),l.LFG(eZ))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const uZ={provide:new l.OlP("cdk-connected-overlay-scroll-strategy"),deps:[mh],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let G1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[mh,uZ],imports:[[Zg,xH,S1],S1]}),n})();const MZ={provide:new l.OlP("mat-select-scroll-strategy"),deps:[mh],useFactory:function(n){return()=>n.scrollStrategies.reposition()}};let IZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[MZ],imports:[[mr,G1,FT,Sn],hS,gm,FT,Sn]}),n})(),BZ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[mr,Sn],Sn]}),n})();const KH_firebase={projectId:"project-26c91",appId:"1:213748646652:web:2552c93c18f56064c68d79",storageBucket:"project-26c91.appspot.com",apiKey:"AIzaSyDZyUW_OMPVBy_LBU8pL36jEr7Qk3gv4Uw",databaseURL:"https://project-26c91-default-rtdb.europe-west1.firebasedatabase.app",authDomain:"project-26c91.firebaseapp.com",messagingSenderId:"213748646652",measurementId:"G-209TRSKTE0"};var Qe,UZ="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},_h={},q1=q1||{},Ot=UZ||self;function DS(){}function W1(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function ME(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var Z1="closure_uid_"+(1e9*Math.random()>>>0),jZ=0;function zZ(n,t,e){return n.call.apply(n.bind,arguments)}function GZ(n,t,e){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(t,i)}}return function(){return n.apply(t,arguments)}}function fo(n,t,e){return(fo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?zZ:GZ).apply(null,arguments)}function OS(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var r=e.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function po(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(r,i,a){for(var d=Array(arguments.length-2),f=2;f<arguments.length;f++)d[f-2]=arguments[f];return t.prototype[i].apply(r,d)}}function pp(){this.s=this.s,this.o=this.o}var qZ={};pp.prototype.s=!1,pp.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,Z1)&&n[Z1]||(n[Z1]=++jZ)}(this);delete qZ[n]}},pp.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const QH=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},JH=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const r=n.length,i="string"==typeof n?n.split(""):n;for(let a=0;a<r;a++)a in i&&t.call(e,i[a],a,n)};function XH(n){return Array.prototype.concat.apply([],arguments)}function Y1(n){const t=n.length;if(0<t){const e=Array(t);for(let r=0;r<t;r++)e[r]=n[r];return e}return[]}function TS(n){return/^[\s\xa0]*$/.test(n)}var ss,ej=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function os(n,t){return-1!=n.indexOf(t)}function K1(n,t){return n<t?-1:n>t?1:0}e:{var tj=Ot.navigator;if(tj){var nj=tj.userAgent;if(nj){ss=nj;break e}}ss=""}function Q1(n,t,e){for(const r in n)t.call(e,n[r],r,n)}function rj(n){const t={};for(const e in n)t[e]=n[e];return t}var ij="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oj(n,t){let e,r;for(let i=1;i<arguments.length;i++){for(e in r=arguments[i],r)n[e]=r[e];for(let a=0;a<ij.length;a++)e=ij[a],Object.prototype.hasOwnProperty.call(r,e)&&(n[e]=r[e])}}function J1(n){return J1[" "](n),n}J1[" "]=DS;var IS,YZ=os(ss,"Opera"),Qb=os(ss,"Trident")||os(ss,"MSIE"),sj=os(ss,"Edge"),X1=sj||Qb,aj=os(ss,"Gecko")&&!(os(ss.toLowerCase(),"webkit")&&!os(ss,"Edge"))&&!(os(ss,"Trident")||os(ss,"MSIE"))&&!os(ss,"Edge"),KZ=os(ss.toLowerCase(),"webkit")&&!os(ss,"Edge");function lj(){var n=Ot.document;return n?n.documentMode:void 0}e:{var eN="",tN=function(){var n=ss;return aj?/rv:([^\);]+)(\)|;)/.exec(n):sj?/Edge\/([\d\.]+)/.exec(n):Qb?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):KZ?/WebKit\/(\S+)/.exec(n):YZ?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(tN&&(eN=tN?tN[1]:""),Qb){var nN=lj();if(null!=nN&&nN>parseFloat(eN)){IS=String(nN);break e}}IS=eN}var QZ={};function JZ(){return t=QZ,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){let n=0;const t=ej(String(IS)).split("."),e=ej("9").split("."),r=Math.max(t.length,e.length);for(let d=0;0==n&&d<r;d++){var i=t[d]||"",a=e[d]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=K1(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||K1(0==i[2].length,0==a[2].length)||K1(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n}();var t}var XZ=Ot.document&&Qb&&(lj()||parseInt(IS,10))||void 0,e7=function(){if(!Ot.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ot.addEventListener("test",DS,t),Ot.removeEventListener("test",DS,t)}catch(e){}return n}();function Lo(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function DE(n,t){if(Lo.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(aj){e:{try{J1(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:t7[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&DE.Z.h.call(this)}}Lo.prototype.h=function(){this.defaultPrevented=!0},po(DE,Lo);var t7={2:"touch",3:"pen",4:"mouse"};DE.prototype.h=function(){DE.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var OE="closure_listenable_"+(1e6*Math.random()|0),n7=0;function r7(n,t,e,r,i){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!r,this.ia=i,this.key=++n7,this.ca=this.fa=!1}function SS(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function PS(n){this.src=n,this.g={},this.h=0}function iN(n,t){var e=t.type;if(e in n.g){var a,r=n.g[e],i=QH(r,t);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(SS(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function oN(n,t,e,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ca&&a.listener==t&&a.capture==!!e&&a.ia==r)return i}return-1}PS.prototype.add=function(n,t,e,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var d=oN(n,t,r,i);return-1<d?(t=n[d],e||(t.fa=!1)):((t=new r7(t,this.src,a,!!r,i)).fa=e,n.push(t)),t};var sN="closure_lm_"+(1e6*Math.random()|0),aN={};function uj(n,t,e,r,i){if(r&&r.once)return hj(n,t,e,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)uj(n,t[a],e,r,i);return null}return e=dN(e),n&&n[OE]?n.N(t,e,ME(r)?!!r.capture:!!r,i):dj(n,t,e,!1,r,i)}function dj(n,t,e,r,i,a){if(!t)throw Error("Invalid event type");var d=ME(i)?!!i.capture:!!i,f=cN(n);if(f||(n[sN]=f=new PS(n)),(e=f.add(t,e,r,d,a)).proxy)return e;if(r=function(){var t=o7;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=r,r.src=n,r.listener=e,n.addEventListener)e7||(i=d),void 0===i&&(i=!1),n.addEventListener(t.toString(),r,i);else if(n.attachEvent)n.attachEvent(pj(t.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return e}function hj(n,t,e,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)hj(n,t[a],e,r,i);return null}return e=dN(e),n&&n[OE]?n.O(t,e,ME(r)?!!r.capture:!!r,i):dj(n,t,e,!0,r,i)}function fj(n,t,e,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)fj(n,t[a],e,r,i);else r=ME(r)?!!r.capture:!!r,e=dN(e),n&&n[OE]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=oN(a=n.g[t],e,r,i))&&(SS(a[e]),Array.prototype.splice.call(a,e,1),0==a.length&&(delete n.g[t],n.h--))):n&&(n=cN(n))&&(t=n.g[t.toString()],n=-1,t&&(n=oN(t,e,r,i)),(e=-1<n?t[n]:null)&&lN(e))}function lN(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[OE])iN(t.i,n);else{var e=n.type,r=n.proxy;t.removeEventListener?t.removeEventListener(e,r,n.capture):t.detachEvent?t.detachEvent(pj(e),r):t.addListener&&t.removeListener&&t.removeListener(r),(e=cN(t))?(iN(e,n),0==e.h&&(e.src=null,t[sN]=null)):SS(n)}}}function pj(n){return n in aN?aN[n]:aN[n]="on"+n}function o7(n,t){if(n.ca)n=!0;else{t=new DE(t,this);var e=n.listener,r=n.ia||n.src;n.fa&&lN(n),n=e.call(r,t)}return n}function cN(n){return(n=n[sN])instanceof PS?n:null}var uN="__closure_events_fn_"+(1e9*Math.random()>>>0);function dN(n){return"function"==typeof n?n:(n[uN]||(n[uN]=function(t){return n.handleEvent(t)}),n[uN])}function Hi(){pp.call(this),this.i=new PS(this),this.P=this,this.I=null}function go(n,t){var e,r=n.I;if(r)for(e=[];r;r=r.I)e.push(r);if(n=n.P,r=t.type||t,"string"==typeof t)t=new Lo(t,n);else if(t instanceof Lo)t.target=t.target||n;else{var i=t;oj(t=new Lo(r,n),i)}if(i=!0,e)for(var a=e.length-1;0<=a;a--){var d=t.g=e[a];i=AS(d,r,!0,t)&&i}if(i=AS(d=t.g=n,r,!0,t)&&i,i=AS(d,r,!1,t)&&i,e)for(a=0;a<e.length;a++)i=AS(d=t.g=e[a],r,!1,t)&&i}function AS(n,t,e,r){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var d=t[a];if(d&&!d.ca&&d.capture==e){var f=d.listener,m=d.ia||d.src;d.fa&&iN(n.i,d),i=!1!==f.call(m,r)&&i}}return i&&!r.defaultPrevented}po(Hi,pp),Hi.prototype[OE]=!0,Hi.prototype.removeEventListener=function(n,t,e,r){fj(this,n,t,e,r)},Hi.prototype.M=function(){if(Hi.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],r=0;r<e.length;r++)SS(e[r]);delete n.g[t],n.h--}}this.I=null},Hi.prototype.N=function(n,t,e,r){return this.i.add(String(n),t,!1,e,r)},Hi.prototype.O=function(n,t,e,r){return this.i.add(String(n),t,!0,e,r)};var hN=Ot.JSON.stringify;function s7(){var n=mj;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var pN,gj=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new l7,n=>n.reset());class l7{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function c7(n){Ot.setTimeout(()=>{throw n},0)}function fN(n,t){pN||function(){var n=Ot.Promise.resolve(void 0);pN=function(){n.then(d7)}}(),gN||(pN(),gN=!0),mj.add(n,t)}var gN=!1,mj=new class{constructor(){this.h=this.g=null}add(t,e){const r=gj.get();r.set(t,e),this.h?this.h.next=r:this.g=r,this.h=r}};function d7(){for(var n;n=s7();){try{n.h.call(n.g)}catch(e){c7(e)}var t=gj;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}gN=!1}function xS(n,t){Hi.call(this),this.h=n||1,this.g=t||Ot,this.j=fo(this.kb,this),this.l=Date.now()}function mN(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function _N(n,t,e){if("function"==typeof n)e&&(n=fo(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=fo(n.handleEvent,n)}return 2147483647<Number(t)?-1:Ot.setTimeout(n,t||0)}function _j(n){n.g=_N(()=>{n.g=null,n.i&&(n.i=!1,_j(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}po(xS,Hi),(Qe=xS.prototype).da=!1,Qe.S=null,Qe.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),go(this,"tick"),this.da&&(mN(this),this.start()))}},Qe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Qe.M=function(){xS.Z.M.call(this),mN(this),delete this.g};class h7 extends pp{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:_j(this)}M(){super.M(),this.g&&(Ot.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function TE(n){pp.call(this),this.h=n,this.g={}}po(TE,pp);var yj=[];function bj(n,t,e,r){Array.isArray(e)||(e&&(yj[0]=e.toString()),e=yj);for(var i=0;i<e.length;i++){var a=uj(t,e[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function vj(n){Q1(n.g,function(t,e){this.g.hasOwnProperty(e)&&lN(t)},n),n.g={}}function FS(){this.g=!0}function Jb(n,t,e,r){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var r=e[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var d=1;d<i.length;d++)i[d]=""}}}return hN(e)}catch(f){return t}}(n,e)+(r?" "+r:"")})}TE.prototype.M=function(){TE.Z.M.call(this),vj(this)},TE.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},FS.prototype.Aa=function(){this.g=!1},FS.prototype.info=function(){};var Bm={},Cj=null;function kS(){return Cj=Cj||new Hi}function wj(n){Lo.call(this,Bm.Ma,n)}function IE(n){const t=kS();go(t,new wj(t,n))}function Ej(n,t){Lo.call(this,Bm.STAT_EVENT,n),this.stat=t}function as(n){const t=kS();go(t,new Ej(t,n))}function Mj(n,t){Lo.call(this,Bm.Na,n),this.size=t}function SE(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Ot.setTimeout(function(){n()},t)}Bm.Ma="serverreachability",po(wj,Lo),Bm.STAT_EVENT="statevent",po(Ej,Lo),Bm.Na="timingevent",po(Mj,Lo);var RS={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Dj={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function yN(){}function Tj(){}yN.prototype.h=null;var CN,PE={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function bN(){Lo.call(this,"d")}function vN(){Lo.call(this,"c")}function NS(){}function AE(n,t,e,r){this.l=n,this.j=t,this.m=e,this.X=r||1,this.V=new TE(this),this.P=_7,this.W=new xS(n=X1?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ij}function Ij(){this.i=null,this.g="",this.h=!1}po(bN,Lo),po(vN,Lo),po(NS,yN),NS.prototype.g=function(){return new XMLHttpRequest},NS.prototype.i=function(){return{}},CN=new NS;var _7=45e3,wN={},LS={};function EN(n,t,e){n.K=1,n.v=jS(yh(t)),n.s=e,n.U=!0,Sj(n,null)}function Sj(n,t){n.F=Date.now(),xE(n),n.A=yh(n.v);var e=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),Vj(e.h,"t",r),n.C=0,e=n.l.H,n.h=new Ij,n.g=a6(n.l,e?t:null,!n.s),0<n.O&&(n.L=new h7(fo(n.Ia,n,n.g),n.O)),bj(n.V,n.g,"readystatechange",n.gb),t=n.H?rj(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),IE(1),function(n,t,e,r,i,a){n.info(function(){if(n.g)if(a)for(var d="",f=a.split("&"),m=0;m<f.length;m++){var C=f[m].split("=");if(1<C.length){var M=C[0];C=C[1];var T=M.split("_");d=2<=T.length&&"type"==T[1]?d+(M+"=")+C+"&":d+(M+"=redacted&")}}else d=null;else d=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+e+"\n"+d})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Pj(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Aj(n,t,e){let i,r=!0;for(;!n.I&&n.C<e.length;){if(i=y7(n,e),i==LS){4==t&&(n.o=4,as(14),r=!1),Jb(n.j,n.m,null,"[Incomplete Response]");break}if(i==wN){n.o=4,as(15),Jb(n.j,n.m,e,"[Invalid Chunk]"),r=!1;break}Jb(n.j,n.m,i,null),MN(n,i)}Pj(n)&&i!=LS&&i!=wN&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,as(16),r=!1),n.i=n.i&&r,r?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),RN(t),t.L=!0,as(11))):(Jb(n.j,n.m,e,"[Invalid Chunked Response]"),Um(n),FE(n))}function y7(n,t){var e=n.C,r=t.indexOf("\n",e);return-1==r?LS:(e=Number(t.substring(e,r)),isNaN(e)?wN:(r+=1)+e>t.length?LS:(t=t.substr(r,e),n.C=r+e,t))}function xE(n){n.Y=Date.now()+n.P,xj(n,n.P)}function xj(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=SE(fo(n.eb,n),t)}function VS(n){n.B&&(Ot.clearTimeout(n.B),n.B=null)}function FE(n){0==n.l.G||n.I||r6(n.l,n)}function Um(n){VS(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,mN(n.W),vj(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function MN(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||TN(e.i,n)))if(e.I=n.N,!n.J&&TN(e.i,n)&&3==e.G){try{var r=e.Ca.g.parse(t)}catch(C){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])e:if(e.u)e.ta=i[1],0<e.ta-e.U&&37500>i[2]&&e.N&&0==e.A&&!e.v&&(e.v=SE(fo(e.ab,e),6e3));else{if(e.g){if(!(e.g.F+3e3<n.F))break e;ZS(e),qS(e)}kN(e),as(18)}if(1>=Hj(e.i)&&e.ka){try{e.ka()}catch(C){}e.ka=void 0}}else zm(e,11)}else if((n.J||e.g==n)&&ZS(e),!TS(t))for(i=e.Ca.g.parse(t),t=0;t<i.length;t++){let C=i[t];if(e.U=C[0],C=C[1],2==e.G)if("c"==C[0]){e.J=C[1],e.la=C[2];const M=C[3];null!=M&&(e.ma=M,e.h.info("VER="+e.ma));const T=C[4];null!=T&&(e.za=T,e.h.info("SVER="+e.za));const x=C[5];null!=x&&"number"==typeof x&&0<x&&(e.K=r=1.5*x,e.h.info("backChannelRequestTimeoutMs_="+r)),r=e;const R=n.g;if(R){const j=R.g?R.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(j){var a=r.i;!a.g&&(os(j,"spdy")||os(j,"quic")||os(j,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(IN(a,a.h),a.h=null))}if(r.D){const ie=R.g?R.g.getResponseHeader("X-HTTP-Session-Id"):null;ie&&(r.sa=ie,dr(r.F,r.D,ie))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var d=n;if((r=e).oa=s6(r,r.H?r.la:null,r.W),d.J){jj(r.i,d);var f=d,m=r.K;m&&f.setTimeout(m),f.B&&(VS(f),xE(f)),r.g=d}else t6(r);0<e.l.length&&WS(e)}else"stop"!=C[0]&&"close"!=C[0]||zm(e,7);else 3==e.G&&("stop"==C[0]||"close"==C[0]?"stop"==C[0]?zm(e,7):xN(e):"noop"!=C[0]&&e.j&&e.j.wa(C),e.A=0)}IE(4)}catch(C){}}function DN(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(W1(n)||"string"==typeof n)JH(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(W1(n)||"string"==typeof n){e=[];for(var r=n.length,i=0;i<r;i++)e.push(i)}else for(i in e=[],r=0,n)e[r++]=i;i=(r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(W1(n)){for(var t=[],e=n.length,r=0;r<e;r++)t.push(n[r]);return t}for(r in t=[],e=0,n)t[e++]=n[r];return t}(n)).length;for(var a=0;a<i;a++)t.call(void 0,r[a],e&&e[a],n)}}function Xb(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var r=0;r<e;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Xb)for(e=n.T(),r=0;r<e.length;r++)this.set(e[r],n.get(e[r]));else for(r in n)this.set(r,n[r])}function ON(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var r=n.g[t];Hm(n.h,r)&&(n.g[e++]=r),t++}n.g.length=e}if(n.i!=n.g.length){var i={};for(e=t=0;t<n.g.length;)Hm(i,r=n.g[t])||(n.g[e++]=r,i[r]=1),t++;n.g.length=e}}function Hm(n,t){return Object.prototype.hasOwnProperty.call(n,t)}(Qe=AE.prototype).setTimeout=function(n){this.P=n},Qe.gb=function(n){n=n.target;const t=this.L;t&&3==bh(n)?t.l():this.Ia(n)},Qe.Ia=function(n){try{if(n==this.g)e:{const M=bh(this.g);var t=this.g.Da();const T=this.g.ba();if(!(3>M)&&(3!=M||X1||this.g&&(this.h.h||this.g.ga()||Kj(this.g)))){this.I||4!=M||7==t||IE(8==t||0>=T?3:2),VS(this);var e=this.g.ba();this.N=e;t:if(Pj(this)){var r=Kj(this.g);n="";var i=r.length,a=4==bh(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Um(this),FE(this);var d="";break t}this.h.i=new Ot.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,n+=this.h.i.decode(r[t],{stream:a&&t==i-1});r.splice(0,i),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==e,function(n,t,e,r,i,a,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+e+"\n"+a+" "+d})}(this.j,this.u,this.A,this.m,this.X,M,e),this.i){if(this.$&&!this.J){t:{if(this.g){var f,m=this.g;if((f=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!TS(f)){var C=f;break t}}C=null}if(!(e=C)){this.i=!1,this.o=3,as(12),Um(this),FE(this);break e}Jb(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,MN(this,e)}this.U?(Aj(this,M,d),X1&&this.i&&3==M&&(bj(this.V,this.W,"tick",this.fb),this.W.start())):(Jb(this.j,this.m,d,null),MN(this,d)),4==M&&Um(this),this.i&&!this.I&&(4==M?r6(this.l,this):(this.i=!1,xE(this)))}else 400==e&&0<d.indexOf("Unknown SID")?(this.o=3,as(12)):(this.o=0,as(13)),Um(this),FE(this)}}}catch(M){}},Qe.fb=function(){if(this.g){var n=bh(this.g),t=this.g.ga();this.C<t.length&&(VS(this),Aj(this,n,t),this.i&&4!=n&&xE(this))}},Qe.cancel=function(){this.I=!0,Um(this)},Qe.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(IE(3),as(17)),Um(this),this.o=2,FE(this)):xj(this,this.Y-n)},(Qe=Xb.prototype).R=function(){ON(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},Qe.T=function(){return ON(this),this.g.concat()},Qe.get=function(n,t){return Hm(this.h,n)?this.h[n]:t},Qe.set=function(n,t){Hm(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},Qe.forEach=function(n,t){for(var e=this.T(),r=0;r<e.length;r++){var i=e[r],a=this.get(i);n.call(t,a,i,this)}};var Fj=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function jm(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof jm){this.g=void 0!==t?t:n.g,BS(this,n.j),this.s=n.s,US(this,n.i),HS(this,n.m),this.l=n.l,t=n.h;var e=new NE;e.i=t.i,t.g&&(e.g=new Xb(t.g),e.h=t.h),kj(this,e),this.o=n.o}else n&&(e=String(n).match(Fj))?(this.g=!!t,BS(this,e[1]||"",!0),this.s=kE(e[2]||""),US(this,e[3]||"",!0),HS(this,e[4]),this.l=kE(e[5]||"",!0),kj(this,e[6]||"",!0),this.o=kE(e[7]||"")):(this.g=!!t,this.h=new NE(null,this.g))}function yh(n){return new jm(n)}function BS(n,t,e){n.j=e?kE(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function US(n,t,e){n.i=e?kE(t,!0):t}function HS(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function kj(n,t,e){t instanceof NE?(n.h=t,function(n,t){t&&!n.j&&(gp(n),n.i=null,n.g.forEach(function(e,r){var i=r.toLowerCase();r!=i&&(Nj(this,r),Vj(this,i,e))},n)),n.j=t}(n.h,n.g)):(e||(t=RE(t,O7)),n.h=new NE(t,n.g))}function dr(n,t,e){n.h.set(t,e)}function jS(n){return dr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function kE(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function RE(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,E7),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function E7(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}jm.prototype.toString=function(){var n=[],t=this.j;t&&n.push(RE(t,Rj,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(RE(t,Rj,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(RE(e,"/"==e.charAt(0)?D7:M7,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",RE(e,T7)),n.join("")};var Rj=/[#\/\?@]/g,M7=/[#\?:]/g,D7=/[#\?]/g,O7=/[#\?@]/g,T7=/#/g;function NE(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function gp(n){n.g||(n.g=new Xb,n.h=0,n.i&&function(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var r=n[e].indexOf("="),i=null;if(0<=r){var a=n[e].substring(0,r);i=n[e].substring(r+1)}else a=n[e];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function Nj(n,t){gp(n),t=ev(n,t),Hm(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,Hm((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&ON(n)))}function Lj(n,t){return gp(n),t=ev(n,t),Hm(n.g.h,t)}function Vj(n,t,e){Nj(n,t),0<e.length&&(n.i=null,n.g.set(ev(n,t),Y1(e)),n.h+=e.length)}function ev(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function Bj(n){this.l=n||P7,n=Ot.PerformanceNavigationTiming?0<(n=Ot.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Ot.g&&Ot.g.Ea&&Ot.g.Ea()&&Ot.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Qe=NE.prototype).add=function(n,t){gp(this),this.i=null,n=ev(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},Qe.forEach=function(n,t){gp(this),this.g.forEach(function(e,r){JH(e,function(i){n.call(t,i,r,this)},this)},this)},Qe.T=function(){gp(this);for(var n=this.g.R(),t=this.g.T(),e=[],r=0;r<t.length;r++)for(var i=n[r],a=0;a<i.length;a++)e.push(t[r]);return e},Qe.R=function(n){gp(this);var t=[];if("string"==typeof n)Lj(this,n)&&(t=XH(t,this.g.get(ev(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=XH(t,n[e])}return t},Qe.set=function(n,t){return gp(this),this.i=null,Lj(this,n=ev(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},Qe.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},Qe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var r=t[e],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var d=i;""!==r[a]&&(d+="="+encodeURIComponent(String(r[a]))),n.push(d)}}return this.i=n.join("&")};var P7=10;function Uj(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Hj(n){return n.h?1:n.g?n.g.size:0}function TN(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function IN(n,t){n.g?n.g.add(t):n.h=t}function jj(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function zj(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return Y1(n.i)}function SN(){}function A7(){this.g=new SN}function x7(n,t,e){const r=e||"";try{DN(n,function(i,a){let d=i;ME(i)&&(d=hN(i)),t.push(r+a+"="+encodeURIComponent(d))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function zS(n,t,e,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function LE(n){this.l=n.$b||null,this.j=n.ib||!1}function GS(n,t){Hi.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=PN,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Bj.prototype.cancel=function(){if(this.i=zj(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},SN.prototype.stringify=function(n){return Ot.JSON.stringify(n,void 0)},SN.prototype.parse=function(n){return Ot.JSON.parse(n,void 0)},po(LE,yN),LE.prototype.g=function(){return new GS(this.l,this.j)},LE.prototype.i=function(n){return function(){return n}}({}),po(GS,Hi);var PN=0;function Gj(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function VE(n){n.readyState=4,n.l=null,n.j=null,n.A=null,BE(n)}function BE(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Qe=GS.prototype).open=function(n,t){if(this.readyState!=PN)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,BE(this)},Qe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Ot).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Qe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,VE(this)),this.readyState=PN},Qe.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,BE(this)),this.g&&(this.readyState=3,BE(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ot.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Gj(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Qe.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?VE(this):BE(this),3==this.readyState&&Gj(this)}},Qe.Ua=function(n){this.g&&(this.response=this.responseText=n,VE(this))},Qe.Ta=function(n){this.g&&(this.response=n,VE(this))},Qe.ha=function(){this.g&&VE(this)},Qe.setRequestHeader=function(n,t){this.v.append(n,t)},Qe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Qe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(GS.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var k7=Ot.JSON.parse;function ri(n){Hi.call(this),this.headers=new Xb,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=$j,this.K=this.L=!1}po(ri,Hi);var $j="",R7=/^https?$/i,N7=["POST","PUT"];function V7(n){return"content-type"==n.toLowerCase()}function qj(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,Wj(n),$S(n)}function Wj(n){n.D||(n.D=!0,go(n,"complete"),go(n,"error"))}function Zj(n){if(n.h&&void 0!==q1&&(!n.C[1]||4!=bh(n)||2!=n.ba()))if(n.v&&4==bh(n))_N(n.Fa,0,n);else if(go(n,"readystatechange"),4==bh(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var r;if(r=0===f){var i=String(n.H).match(Fj)[1]||null;if(!i&&Ot.self&&Ot.self.location){var a=Ot.self.location.protocol;i=a.substr(0,a.length-1)}r=!R7.test(i?i.toLowerCase():"")}e=r}if(e)go(n,"complete"),go(n,"success");else{n.m=6;try{var d=2<bh(n)?n.g.statusText:""}catch(m){d=""}n.j=d+" ["+n.ba()+"]",Wj(n)}}finally{$S(n)}}}function $S(n,t){if(n.g){Yj(n);const e=n.g,r=n.C[0]?DS:null;n.g=null,n.C=null,t||go(n,"ready");try{e.onreadystatechange=r}catch(i){}}}function Yj(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Ot.clearTimeout(n.A),n.A=null)}function bh(n){return n.g?n.g.readyState:0}function Kj(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case $j:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(t){return null}}function AN(n,t,e){e:{for(r in e){var r=!1;break e}r=!0}r||(e=function(n){let t="";return Q1(n,function(e,r){t+=r,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):dr(n,t,e))}function UE(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function Qj(n){this.za=0,this.l=[],this.h=new FS,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=UE("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=UE("baseRetryDelayMs",5e3,n),this.$a=UE("retryDelaySeedMs",1e4,n),this.Ya=UE("forwardChannelMaxRetries",2,n),this.ra=UE("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new Bj(n&&n.concurrentRequestLimit),this.Ca=new A7,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function xN(n){if(Jj(n),3==n.G){var t=n.V++,e=yh(n.F);dr(e,"SID",n.J),dr(e,"RID",t),dr(e,"TYPE","terminate"),HE(n,e),(t=new AE(n,n.h,t,void 0)).K=2,t.v=jS(yh(e)),e=!1,Ot.navigator&&Ot.navigator.sendBeacon&&(e=Ot.navigator.sendBeacon(t.v.toString(),"")),!e&&Ot.Image&&((new Image).src=t.v,e=!0),e||(t.g=a6(t.l,null),t.g.ea(t.v)),t.F=Date.now(),xE(t)}o6(n)}function qS(n){n.g&&(RN(n),n.g.cancel(),n.g=null)}function Jj(n){qS(n),n.u&&(Ot.clearTimeout(n.u),n.u=null),ZS(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Ot.clearTimeout(n.m),n.m=null)}function FN(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&WS(n)}function WS(n){Uj(n.i)||n.m||(n.m=!0,fN(n.Ha,n),n.C=0)}function Xj(n,t){var e;e=t?t.m:n.V++;const r=yh(n.F);dr(r,"SID",n.J),dr(r,"RID",e),dr(r,"AID",n.U),HE(n,r),n.o&&n.s&&AN(r,n.o,n.s),e=new AE(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=e6(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),IN(n.i,e),EN(e,r,t)}function HE(n,t){n.j&&DN({},function(e,r){dr(t,r,e)})}function e6(n,t,e){e=Math.min(n.l.length,e);var r=n.j?fo(n.j.Oa,n.j,n):null;e:{var i=n.l;let a=-1;for(;;){const d=["count="+e];-1==a?0<e?(a=i[0].h,d.push("ofs="+a)):a=0:d.push("ofs="+a);let f=!0;for(let m=0;m<e;m++){let C=i[m].h;const M=i[m].g;if(C-=a,0>C)a=Math.max(0,i[m].h-100),f=!1;else try{x7(M,d,"req"+C+"_")}catch(T){r&&r(M)}}if(f){r=d.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,r}function t6(n){n.g||n.u||(n.Y=1,fN(n.Ga,n),n.A=0)}function kN(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=SE(fo(n.Ga,n),i6(n,n.A)),n.A++,0))}function RN(n){null!=n.B&&(Ot.clearTimeout(n.B),n.B=null)}function n6(n){n.g=new AE(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=yh(n.oa);dr(t,"RID","rpc"),dr(t,"SID",n.J),dr(t,"CI",n.N?"0":"1"),dr(t,"AID",n.U),HE(n,t),dr(t,"TYPE","xmlhttp"),n.o&&n.s&&AN(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=jS(yh(t)),e.s=null,e.U=!0,Sj(e,n)}function ZS(n){null!=n.v&&(Ot.clearTimeout(n.v),n.v=null)}function r6(n,t){var e=null;if(n.g==t){ZS(n),RN(n),n.g=null;var r=2}else{if(!TN(n.i,t))return;e=t.D,jj(n.i,t),r=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==r){e=t.s?t.s.length:0,t=Date.now()-t.F;var i=n.C;go(r=kS(),new Mj(r,e,t,i)),WS(n)}else t6(n);else if(3==(i=t.o)||0==i&&0<n.I||!(1==r&&function(n,t){return!(Hj(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=SE(fo(n.Ha,n,t),i6(n,n.C)),n.C++,0)))}(n,t)||2==r&&kN(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),i){case 1:zm(n,5);break;case 4:zm(n,10);break;case 3:zm(n,6);break;default:zm(n,2)}}function i6(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function zm(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var r=fo(n.jb,n);e||(e=new jm("//www.google.com/images/cleardot.gif"),Ot.location&&"http"==Ot.location.protocol||BS(e,"https"),jS(e)),function(n,t){const e=new FS;if(Ot.Image){const r=new Image;r.onload=OS(zS,e,r,"TestLoadImage: loaded",!0,t),r.onerror=OS(zS,e,r,"TestLoadImage: error",!1,t),r.onabort=OS(zS,e,r,"TestLoadImage: abort",!1,t),r.ontimeout=OS(zS,e,r,"TestLoadImage: timeout",!1,t),Ot.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else t(!1)}(e.toString(),r)}else as(2);n.G=0,n.j&&n.j.va(t),o6(n),Jj(n)}function o6(n){n.G=0,n.I=-1,n.j&&((0!=zj(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Y1(n.l),n.l.length=0),n.j.ua())}function s6(n,t,e){let r=function(n){return n instanceof jm?yh(n):new jm(n,void 0)}(e);if(""!=r.i)t&&US(r,t+"."+r.i),HS(r,r.m);else{const i=Ot.location;r=function(n,t,e,r){var i=new jm(null,void 0);return n&&BS(i,n),t&&US(i,t),e&&HS(i,e),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,e)}return n.aa&&Q1(n.aa,function(i,a){dr(r,a,i)}),e=n.sa,(t=n.D)&&e&&dr(r,t,e),dr(r,"VER",n.ma),HE(n,r),r}function a6(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ri(e&&n.Ba&&!n.qa?new LE({ib:!0}):n.qa)).L=n.H,t}function l6(){}function YS(){if(Qb&&!(10<=Number(XZ)))throw Error("Environmental error: no available transport.")}function ba(n,t){Hi.call(this),this.g=new Qj(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!TS(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!TS(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new tv(this)}function c6(n){bN.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function u6(){vN.call(this),this.status=1}function tv(n){this.g=n}(Qe=ri.prototype).ea=function(n,t,e,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():CN.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:CN),this.g.onreadystatechange=fo(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(a){return void qj(this,a)}n=e||"";const i=new Xb(this.headers);r&&DN(r,function(a,d){i.set(d,a)}),r=function(n){e:{var t=V7;const e=n.length,r="string"==typeof n?n.split(""):n;for(let i=0;i<e;i++)if(i in r&&t.call(void 0,r[i],i,n)){t=i;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(i.T()),e=Ot.FormData&&n instanceof Ot.FormData,!(0<=QH(N7,t))||r||e||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(a,d){this.g.setRequestHeader(d,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Yj(this),0<this.B&&((this.K=function(n){return Qb&&JZ()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=fo(this.pa,this)):this.A=_N(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){qj(this,a)}},Qe.pa=function(){void 0!==q1&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,go(this,"timeout"),this.abort(8))},Qe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,go(this,"complete"),go(this,"abort"),$S(this))},Qe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$S(this,!0)),ri.Z.M.call(this)},Qe.Fa=function(){this.s||(this.F||this.v||this.l?Zj(this):this.cb())},Qe.cb=function(){Zj(this)},Qe.ba=function(){try{return 2<bh(this)?this.g.status:-1}catch(n){return-1}},Qe.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Qe.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),k7(t)}},Qe.Da=function(){return this.m},Qe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Qe=Qj.prototype).ma=8,Qe.G=1,Qe.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(t){}},Qe.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const i=new AE(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=rj(a),oj(a,this.P)):a=this.P),null===this.o&&(i.H=a),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var r=this.l[e];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=e6(this,i,t),dr(e=yh(this.F),"RID",n),dr(e,"CVER",22),this.D&&dr(e,"X-HTTP-Session-Id",this.D),HE(this,e),this.o&&a&&AN(e,this.o,a),IN(this.i,i),this.Ra&&dr(e,"TYPE","init"),this.ja?(dr(e,"$req",t),dr(e,"SID","null"),i.$=!0,EN(i,e,null)):EN(i,e,t),this.G=2}}else 3==this.G&&(n?Xj(this,n):0==this.l.length||Uj(this.i)||Xj(this))},Qe.Ga=function(){if(this.u=null,n6(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=SE(fo(this.bb,this),n)}},Qe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,as(10),qS(this),n6(this))},Qe.ab=function(){null!=this.v&&(this.v=null,qS(this),kN(this),as(19))},Qe.jb=function(n){n?(this.h.info("Successfully pinged google.com"),as(2)):(this.h.info("Failed to ping google.com"),as(1))},(Qe=l6.prototype).xa=function(){},Qe.wa=function(){},Qe.va=function(){},Qe.ua=function(){},Qe.Oa=function(){},YS.prototype.g=function(n,t){return new ba(n,t)},po(ba,Hi),ba.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),fN(fo(n.hb,n,t))),as(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=s6(n,null,n.W),WS(n)},ba.prototype.close=function(){xN(this.g)},ba.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,FN(this.g,t)}else this.v?((t={}).__data__=hN(n),FN(this.g,t)):FN(this.g,n)},ba.prototype.M=function(){this.g.j=null,delete this.j,xN(this.g),delete this.g,ba.Z.M.call(this)},po(c6,bN),po(u6,vN),po(tv,l6),tv.prototype.xa=function(){go(this.g,"a")},tv.prototype.wa=function(n){go(this.g,new c6(n))},tv.prototype.va=function(n){go(this.g,new u6(n))},tv.prototype.ua=function(){go(this.g,"b")},YS.prototype.createWebChannel=YS.prototype.g,ba.prototype.send=ba.prototype.u,ba.prototype.open=ba.prototype.m,ba.prototype.close=ba.prototype.close,RS.NO_ERROR=0,RS.TIMEOUT=8,RS.HTTP_ERROR=6,Dj.COMPLETE="complete",Tj.EventType=PE,PE.OPEN="a",PE.CLOSE="b",PE.ERROR="c",PE.MESSAGE="d",Hi.prototype.listen=Hi.prototype.N,ri.prototype.listenOnce=ri.prototype.O,ri.prototype.getLastError=ri.prototype.La,ri.prototype.getLastErrorCode=ri.prototype.Da,ri.prototype.getStatus=ri.prototype.ba,ri.prototype.getResponseJson=ri.prototype.Qa,ri.prototype.getResponseText=ri.prototype.ga,ri.prototype.send=ri.prototype.ea;var H7=_h.createWebChannelTransport=function(){return new YS},j7=_h.getStatEventTarget=function(){return kS()},NN=_h.ErrorCode=RS,z7=_h.EventType=Dj,G7=_h.Event=Bm,d6=_h.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},$7=_h.FetchXmlHttpFactory=LE,KS=_h.WebChannel=Tj,q7=_h.XhrIo=ri;const h6="@firebase/firestore";class mo{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}mo.UNAUTHENTICATED=new mo(null),mo.GOOGLE_CREDENTIALS=new mo("google-credentials-uid"),mo.FIRST_PARTY=new mo("first-party-uid"),mo.MOCK_USER=new mo("mock-user");let nv="9.5.0";const mp=new sl.Yd("@firebase/firestore");function LN(){return mp.logLevel}function Fe(n,...t){if(mp.logLevel<=sl.in.DEBUG){const e=t.map(VN);mp.debug(`Firestore (${nv}): ${n}`,...e)}}function ii(n,...t){if(mp.logLevel<=sl.in.ERROR){const e=t.map(VN);mp.error(`Firestore (${nv}): ${n}`,...e)}}function jE(n,...t){if(mp.logLevel<=sl.in.WARN){const e=t.map(VN);mp.warn(`Firestore (${nv}): ${n}`,...e)}}function VN(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(e){return n}}function st(n="Unexpected state"){const t=`FIRESTORE (${nv}) INTERNAL ASSERTION FAILED: `+n;throw ii(t),new Error(t)}function vt(n,t){n||st()}function Be(n,t){return n}const ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends Error{constructor(t,e){super(e),this.code=t,this.message=e,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ji{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class f6{constructor(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${t}`}}class Y7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(mo.UNAUTHENTICATED))}shutdown(){}}class K7{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Q7{constructor(t){this.t=t,this.currentUser=mo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var r=this;let i=this.i;const a=C=>this.i!==i?(i=this.i,e(C)):Promise.resolve();let d=new ji;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new ji,t.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const C=d;t.enqueueRetryable((0,_e.Z)(function*(){yield C.promise,yield a(r.currentUser)}))},m=C=>{Fe("FirebaseCredentialsProvider","Auth detected"),this.auth=C,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(C=>m(C)),setTimeout(()=>{if(!this.auth){const C=this.t.getImmediate({optional:!0});C?m(C):(Fe("FirebaseCredentialsProvider","Auth not yet detected"),d.resolve(),d=new ji)}},0),f()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(r=>this.i!==t?(Fe("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(vt("string"==typeof r.accessToken),new f6(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return vt(null===t||"string"==typeof t),new mo(t)}}class J7{constructor(t,e,r){this.h=t,this.l=e,this.m=r,this.type="FirstParty",this.user=mo.FIRST_PARTY}get authHeaders(){const t={"X-Goog-AuthUser":this.l},e=this.h.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.m&&(t["X-Goog-Iam-Authorization-Token"]=this.m),t}}class X7{constructor(t,e,r){this.h=t,this.l=e,this.m=r}getToken(){return Promise.resolve(new J7(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(mo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class va{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=r=>this.g(r),this.p=r=>e.writeSequenceNumber(r))}g(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.p&&this.p(t),t}}function eY(n){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let r=0;r<n;r++)e[r]=Math.floor(256*Math.random());return e}va.T=-1;class p6{static I(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=eY(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<e&&(r+=t.charAt(i[a]%t.length))}return r}}function Kt(n,t){return n<t?-1:n>t?1:0}function rv(n,t,e){return n.length===t.length&&n.every((r,i)=>e(r,t[i]))}function g6(n){return n+"\0"}class zi{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ie(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ie(ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ie(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ie(ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return zi.fromMillis(Date.now())}static fromDate(t){return zi.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*e));return new zi(e,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Kt(this.nanoseconds,t.nanoseconds):Kt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Rt{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Rt(t)}static min(){return new Rt(new zi(0,0))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function m6(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Gm(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function _6(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class zE{constructor(t,e,r){void 0===e?e=0:e>t.length&&st(),void 0===r?r=t.length-e:r>t.length-e&&st(),this.segments=t,this.offset=e,this.len=r}get length(){return this.len}isEqual(t){return 0===zE.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof zE?t.forEach(r=>{e.push(r)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,r=this.limit();e<r;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const r=Math.min(t.length,e.length);for(let i=0;i<r;i++){const a=t.get(i),d=e.get(i);if(a<d)return-1;if(a>d)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class gn extends zE{construct(t,e,r){return new gn(t,e,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const r of t){if(r.indexOf("//")>=0)throw new Ie(ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);e.push(...r.split("/").filter(i=>i.length>0))}return new gn(e)}static emptyPath(){return new gn([])}}const tY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _o extends zE{construct(t,e,r){return new _o(t,e,r)}static isValidIdentifier(t){return tY.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_o.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new _o(["__name__"])}static fromServerFormat(t){const e=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Ie(ge.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(r),r=""};let d=!1;for(;i<t.length;){const f=t[i];if("\\"===f){if(i+1===t.length)throw new Ie(ge.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[i+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new Ie(ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=m,i+=2}else"`"===f?(d=!d,i++):"."!==f||d?(r+=f,i++):(a(),i++)}if(a(),d)throw new Ie(ge.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new _o(e)}static emptyPath(){return new _o([])}}class iv{constructor(t){this.fields=t,t.sort(_o.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return rv(this.fields,t.fields,(e,r)=>e.isEqual(r))}}class Gi{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Gi(e)}static fromUint8Array(t){const e=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(t);return new Gi(e)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Kt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Gi.EMPTY_BYTE_STRING=new Gi("");const rY=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _p(n){if(vt(!!n),"string"==typeof n){let t=0;const e=rY.exec(n);if(vt(!!e),e[1]){let i=e[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:oi(n.seconds),nanos:oi(n.nanos)}}function oi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ov(n){return"string"==typeof n?Gi.fromBase64String(n):Gi.fromUint8Array(n)}function BN(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=null==n?void 0:n.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function y6(n){const t=n.mapValue.fields.__previous_value__;return BN(t)?y6(t):t}function GE(n){const t=_p(n.mapValue.fields.__local_write_time__.timestampValue);return new zi(t.seconds,t.nanos)}function $m(n){return null==n}function QS(n){return 0===n&&1/n==-1/0}function b6(n){return"number"==typeof n&&Number.isInteger(n)&&!QS(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class ot{constructor(t){this.path=t}static fromPath(t){return new ot(gn.fromString(t))}static fromName(t){return new ot(gn.fromString(t).popFirst(5))}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}isEqual(t){return null!==t&&0===gn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return gn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ot(new gn(t.slice()))}}function qm(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?BN(n)?4:10:st()}function Uu(n,t){const e=qm(n);if(e!==qm(t))return!1;switch(e){case 0:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return GE(n).isEqual(GE(t));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=_p(r.timestampValue),d=_p(i.timestampValue);return a.seconds===d.seconds&&a.nanos===d.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return i=t,ov(n.bytesValue).isEqual(ov(i.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(r,i){return oi(r.geoPointValue.latitude)===oi(i.geoPointValue.latitude)&&oi(r.geoPointValue.longitude)===oi(i.geoPointValue.longitude)}(n,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return oi(r.integerValue)===oi(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=oi(r.doubleValue),d=oi(i.doubleValue);return a===d?QS(a)===QS(d):isNaN(a)&&isNaN(d)}return!1}(n,t);case 9:return rv(n.arrayValue.values||[],t.arrayValue.values||[],Uu);case 10:return function(r,i){const a=r.mapValue.fields||{},d=i.mapValue.fields||{};if(m6(a)!==m6(d))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===d[f]||!Uu(a[f],d[f])))return!1;return!0}(n,t);default:return st()}var i}function $E(n,t){return void 0!==(n.values||[]).find(e=>Uu(e,t))}function sv(n,t){const e=qm(n),r=qm(t);if(e!==r)return Kt(e,r);switch(e){case 0:return 0;case 1:return Kt(n.booleanValue,t.booleanValue);case 2:return function(i,a){const d=oi(i.integerValue||i.doubleValue),f=oi(a.integerValue||a.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(n,t);case 3:return v6(n.timestampValue,t.timestampValue);case 4:return v6(GE(n),GE(t));case 5:return Kt(n.stringValue,t.stringValue);case 6:return function(i,a){const d=ov(i),f=ov(a);return d.compareTo(f)}(n.bytesValue,t.bytesValue);case 7:return function(i,a){const d=i.split("/"),f=a.split("/");for(let m=0;m<d.length&&m<f.length;m++){const C=Kt(d[m],f[m]);if(0!==C)return C}return Kt(d.length,f.length)}(n.referenceValue,t.referenceValue);case 8:return function(i,a){const d=Kt(oi(i.latitude),oi(a.latitude));return 0!==d?d:Kt(oi(i.longitude),oi(a.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(i,a){const d=i.values||[],f=a.values||[];for(let m=0;m<d.length&&m<f.length;++m){const C=sv(d[m],f[m]);if(C)return C}return Kt(d.length,f.length)}(n.arrayValue,t.arrayValue);case 10:return function(i,a){const d=i.fields||{},f=Object.keys(d),m=a.fields||{},C=Object.keys(m);f.sort(),C.sort();for(let M=0;M<f.length&&M<C.length;++M){const T=Kt(f[M],C[M]);if(0!==T)return T;const x=sv(d[f[M]],m[C[M]]);if(0!==x)return x}return Kt(f.length,C.length)}(n.mapValue,t.mapValue);default:throw st()}}function v6(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return Kt(n,t);const e=_p(n),r=_p(t),i=Kt(e.seconds,r.seconds);return 0!==i?i:Kt(e.nanos,r.nanos)}function UN(n){return HN(n)}function HN(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=_p(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ov(n.bytesValue).toBase64():"referenceValue"in n?ot.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const d of r.values||[])a?a=!1:i+=",",i+=HN(d);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",d=!0;for(const f of i)d?d=!1:a+=",",a+=`${f}:${HN(r.fields[f])}`;return a+"}"}(n.mapValue):st();var t}function JS(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function jN(n){return!!n&&"integerValue"in n}function zN(n){return!!n&&"arrayValue"in n}function C6(n){return!!n&&"nullValue"in n}function w6(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function XS(n){return!!n&&"mapValue"in n}function qE(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Gm(n.mapValue.fields,(e,r)=>t.mapValue.fields[e]=qE(r)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=qE(n.arrayValue.values[e]);return t}return Object.assign({},n)}class Vo{constructor(t){this.value=t}static empty(){return new Vo({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let r=0;r<t.length-1;++r)if(e=(e.mapValue.fields||{})[t.get(r)],!XS(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=qE(e)}setAll(t){let e=_o.emptyPath(),r={},i=[];t.forEach((d,f)=>{if(!e.isImmediateParentOf(f)){const m=this.getFieldsMap(e);this.applyChanges(m,r,i),r={},i=[],e=f.popLast()}d?r[f.lastSegment()]=qE(d):i.push(f.lastSegment())});const a=this.getFieldsMap(e);this.applyChanges(a,r,i)}delete(t){const e=this.field(t.popLast());XS(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Uu(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=e.mapValue.fields[t.get(r)];XS(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},e.mapValue.fields[t.get(r)]=i),e=i}return e.mapValue.fields}applyChanges(t,e,r){Gm(e,(i,a)=>t[i]=a);for(const i of r)delete t[i]}clone(){return new Vo(qE(this.value))}}function E6(n){const t=[];return Gm(n.fields,(e,r)=>{const i=new _o([e]);if(XS(r)){const a=E6(r.mapValue).fields;if(0===a.length)t.push(i);else for(const d of a)t.push(i.child(d))}else t.push(i)}),new iv(t)}class hr{constructor(t,e,r,i,a){this.key=t,this.documentType=e,this.version=r,this.data=i,this.documentState=a}static newInvalidDocument(t){return new hr(t,0,Rt.min(),Vo.empty(),0)}static newFoundDocument(t,e,r){return new hr(t,1,e,r,0)}static newNoDocument(t,e){return new hr(t,2,e,Vo.empty(),0)}static newUnknownDocument(t,e){return new hr(t,3,e,Vo.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Vo.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Vo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof hr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}clone(){return new hr(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class iY{constructor(t,e=null,r=[],i=[],a=null,d=null,f=null){this.path=t,this.collectionGroup=e,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=d,this.endAt=f,this.A=null}}function M6(n,t=null,e=[],r=[],i=null,a=null,d=null){return new iY(n,t,e,r,i,a,d)}function WE(n){const t=Be(n);if(null===t.A){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(r=>function(n){return n.field.canonicalString()+n.op.toString()+UN(n.value)}(r)).join(","),e+="|ob:",e+=t.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),$m(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=nP(t.startAt)),t.endAt&&(e+="|ub:",e+=nP(t.endAt)),t.A=e}return t.A}function eP(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!pY(n.orderBy[i],t.orderBy[i]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((e=n.filters[i]).op!==(r=t.filters[i]).op||!e.field.isEqual(r.field)||!Uu(e.value,r.value))return!1;var e,r;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!T6(n.startAt,t.startAt)&&T6(n.endAt,t.endAt)}function tP(n){return ot.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class ls extends class{}{constructor(t,e,r){super(),this.field=t,this.op=e,this.value=r}static create(t,e,r){return t.isKeyField()?"in"===e||"not-in"===e?this.R(t,e,r):new aY(t,e,r):"array-contains"===e?new uY(t,r):"in"===e?new dY(t,r):"not-in"===e?new hY(t,r):"array-contains-any"===e?new fY(t,r):new ls(t,e,r)}static R(t,e,r){return"in"===e?new lY(t,r):new cY(t,r)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.P(sv(e,this.value)):null!==e&&qm(this.value)===qm(e)&&this.P(sv(e,this.value))}P(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return st()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class aY extends ls{constructor(t,e,r){super(t,e,r),this.key=ot.fromName(r.referenceValue)}matches(t){const e=ot.comparator(t.key,this.key);return this.P(e)}}class lY extends ls{constructor(t,e){super(t,"in",e),this.keys=D6(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class cY extends ls{constructor(t,e){super(t,"not-in",e),this.keys=D6(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function D6(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(r=>ot.fromName(r.referenceValue))}class uY extends ls{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return zN(e)&&$E(e.arrayValue,this.value)}}class dY extends ls{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&$E(this.value.arrayValue,e)}}class hY extends ls{constructor(t,e){super(t,"not-in",e)}matches(t){if($E(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!$E(this.value.arrayValue,e)}}class fY extends ls{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!zN(e)||!e.arrayValue.values)&&e.arrayValue.values.some(r=>$E(this.value.arrayValue,r))}}class ZE{constructor(t,e){this.position=t,this.before=e}}function nP(n){return`${n.before?"b":"a"}:${n.position.map(t=>UN(t)).join(",")}`}class av{constructor(t,e="asc"){this.field=t,this.dir=e}}function pY(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function O6(n,t,e){let r=0;for(let i=0;i<n.position.length;i++){const a=t[i],d=n.position[i];if(r=a.field.isKeyField()?ot.comparator(ot.fromName(d.referenceValue),e.key):sv(d,e.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function T6(n,t){if(null===n)return null===t;if(null===t||n.before!==t.before||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Uu(n.position[e],t.position[e]))return!1;return!0}class vh{constructor(t,e=null,r=[],i=[],a=null,d="F",f=null,m=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=d,this.startAt=f,this.endAt=m,this.V=null,this.S=null}}function I6(n,t,e,r,i,a,d,f){return new vh(n,t,e,r,i,a,d,f)}function lv(n){return new vh(n)}function rP(n){return!$m(n.limit)&&"F"===n.limitType}function iP(n){return!$m(n.limit)&&"L"===n.limitType}function GN(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function $N(n){for(const t of n.filters)if(t.v())return t.field;return null}function qN(n){return null!==n.collectionGroup}function cv(n){const t=Be(n);if(null===t.V){t.V=[];const e=$N(t),r=GN(t);if(null!==e&&null===r)e.isKeyField()||t.V.push(new av(e)),t.V.push(new av(_o.keyField(),"asc"));else{let i=!1;for(const a of t.explicitOrderBy)t.V.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.V.push(new av(_o.keyField(),a))}}}return t.V}function Cl(n){const t=Be(n);if(!t.S)if("F"===t.limitType)t.S=M6(t.path,t.collectionGroup,cv(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const a of cv(t))e.push(new av(a.field,"desc"===a.dir?"asc":"desc"));const r=t.endAt?new ZE(t.endAt.position,!t.endAt.before):null,i=t.startAt?new ZE(t.startAt.position,!t.startAt.before):null;t.S=M6(t.path,t.collectionGroup,e,t.filters,t.limit,r,i)}return t.S}function S6(n,t,e){return new vh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function YE(n,t){return eP(Cl(n),Cl(t))&&n.limitType===t.limitType}function P6(n){return`${WE(Cl(n))}|lt:${n.limitType}`}function WN(n){return`Query(target=${function(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(r=e).field.canonicalString()} ${r.op} ${UN(r.value)}`;var r}).join(", ")}]`),$m(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(r=e).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(t+=", startAt: "+nP(n.startAt)),n.endAt&&(t+=", endAt: "+nP(n.endAt)),`Target(${t})`}(Cl(n))}; limitType=${n.limitType})`}function KE(n,t){return t.isFoundDocument()&&function(e,r){const i=r.key.path;return null!==e.collectionGroup?r.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(i):ot.isDocumentKey(e.path)?e.path.isEqual(i):e.path.isImmediateParentOf(i)}(n,t)&&function(e,r){for(const i of e.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,t)&&function(e,r){for(const i of e.filters)if(!i.matches(r))return!1;return!0}(n,t)&&(r=t,!((e=n).startAt&&!O6(e.startAt,cv(e),r)||e.endAt&&O6(e.endAt,cv(e),r)));var e,r}function A6(n){return(t,e)=>{let r=!1;for(const i of cv(n)){const a=gY(i,t,e);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function gY(n,t,e){const r=n.field.isKeyField()?ot.comparator(t.key,e.key):function(i,a,d){const f=a.data.field(i),m=d.data.field(i);return null!==f&&null!==m?sv(f,m):st()}(n.field,t,e);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return st()}}function x6(n,t){if(n.D){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:QS(t)?"-0":t}}function F6(n){return{integerValue:""+n}}function k6(n,t){return b6(t)?F6(t):x6(n,t)}class oP{constructor(){this._=void 0}}function mY(n,t,e){return n instanceof uv?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(e,t):n instanceof Wm?N6(n,t):n instanceof Zm?L6(n,t):function(r,i){const a=R6(r,i),d=V6(a)+V6(r.C);return jN(a)&&jN(r.C)?F6(d):x6(r.N,d)}(n,t)}function _Y(n,t,e){return n instanceof Wm?N6(n,t):n instanceof Zm?L6(n,t):e}function R6(n,t){return n instanceof dv?jN(e=t)||(r=e)&&"doubleValue"in r?t:{integerValue:0}:null;var r,e}class uv extends oP{}class Wm extends oP{constructor(t){super(),this.elements=t}}function N6(n,t){const e=B6(t);for(const r of n.elements)e.some(i=>Uu(i,r))||e.push(r);return{arrayValue:{values:e}}}class Zm extends oP{constructor(t){super(),this.elements=t}}function L6(n,t){let e=B6(t);for(const r of n.elements)e=e.filter(i=>!Uu(i,r));return{arrayValue:{values:e}}}class dv extends oP{constructor(t,e){super(),this.N=t,this.C=e}}function V6(n){return oi(n.integerValue||n.doubleValue)}function B6(n){return zN(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class QE{constructor(t,e){this.field=t,this.transform=e}}class bY{constructor(t,e){this.version=t,this.transformResults=e}}class si{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new si}static exists(t){return new si(void 0,t)}static updateTime(t){return new si(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function sP(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class aP{}function vY(n,t,e){n instanceof JE?function(r,i,a){const d=r.value.clone(),f=z6(r.fieldTransforms,i,a.transformResults);d.setAll(f),i.convertToFoundDocument(a.version,d).setHasCommittedMutations()}(n,t,e):n instanceof yp?function(r,i,a){if(!sP(r.precondition,i))return void i.convertToUnknownDocument(a.version);const d=z6(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(j6(r)),f.setAll(d),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function ZN(n,t,e){var i;n instanceof JE?function(r,i,a){if(!sP(r.precondition,i))return;const d=r.value.clone(),f=G6(r.fieldTransforms,a,i);d.setAll(f),i.convertToFoundDocument(H6(i),d).setHasLocalMutations()}(n,t,e):n instanceof yp?function(r,i,a){if(!sP(r.precondition,i))return;const d=G6(r.fieldTransforms,a,i),f=i.data;f.setAll(j6(r)),f.setAll(d),i.convertToFoundDocument(H6(i),f).setHasLocalMutations()}(n,t,e):sP(n.precondition,i=t)&&i.convertToNoDocument(Rt.min())}function CY(n,t){let e=null;for(const r of n.fieldTransforms){const i=t.data.field(r.field),a=R6(r.transform,i||null);null!=a&&(null==e&&(e=Vo.empty()),e.set(r.field,a))}return e||null}function U6(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(r=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===r||e&&r&&rv(e,r,(i,a)=>function(n,t){return n.field.isEqual(t.field)&&(r=t.transform,(e=n.transform)instanceof Wm&&r instanceof Wm||e instanceof Zm&&r instanceof Zm?rv(e.elements,r.elements,Uu):e instanceof dv&&r instanceof dv?Uu(e.C,r.C):e instanceof uv&&r instanceof uv);var e,r}(i,a))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,r}function H6(n){return n.isFoundDocument()?n.version:Rt.min()}class JE extends aP{constructor(t,e,r,i=[]){super(),this.key=t,this.value=e,this.precondition=r,this.fieldTransforms=i,this.type=0}}class yp extends aP{constructor(t,e,r,i,a=[]){super(),this.key=t,this.data=e,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}}function j6(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const r=n.data.field(e);t.set(e,r)}}),t}function z6(n,t,e){const r=new Map;vt(n.length===e.length);for(let i=0;i<e.length;i++){const a=n[i],d=a.transform,f=t.data.field(a.field);r.set(a.field,_Y(d,f,e[i]))}return r}function G6(n,t,e){const r=new Map;for(const i of n){const a=i.transform,d=e.data.field(i.field);r.set(i.field,mY(a,d,t))}return r}class XE extends aP{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class YN extends aP{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class wY{constructor(t){this.count=t}}var ai,on;function $6(n){switch(n){default:return st();case ge.CANCELLED:case ge.UNKNOWN:case ge.DEADLINE_EXCEEDED:case ge.RESOURCE_EXHAUSTED:case ge.INTERNAL:case ge.UNAVAILABLE:case ge.UNAUTHENTICATED:return!1;case ge.INVALID_ARGUMENT:case ge.NOT_FOUND:case ge.ALREADY_EXISTS:case ge.PERMISSION_DENIED:case ge.FAILED_PRECONDITION:case ge.ABORTED:case ge.OUT_OF_RANGE:case ge.UNIMPLEMENTED:case ge.DATA_LOSS:return!0}}function q6(n){if(void 0===n)return ii("GRPC error has no .code"),ge.UNKNOWN;switch(n){case ai.OK:return ge.OK;case ai.CANCELLED:return ge.CANCELLED;case ai.UNKNOWN:return ge.UNKNOWN;case ai.DEADLINE_EXCEEDED:return ge.DEADLINE_EXCEEDED;case ai.RESOURCE_EXHAUSTED:return ge.RESOURCE_EXHAUSTED;case ai.INTERNAL:return ge.INTERNAL;case ai.UNAVAILABLE:return ge.UNAVAILABLE;case ai.UNAUTHENTICATED:return ge.UNAUTHENTICATED;case ai.INVALID_ARGUMENT:return ge.INVALID_ARGUMENT;case ai.NOT_FOUND:return ge.NOT_FOUND;case ai.ALREADY_EXISTS:return ge.ALREADY_EXISTS;case ai.PERMISSION_DENIED:return ge.PERMISSION_DENIED;case ai.FAILED_PRECONDITION:return ge.FAILED_PRECONDITION;case ai.ABORTED:return ge.ABORTED;case ai.OUT_OF_RANGE:return ge.OUT_OF_RANGE;case ai.UNIMPLEMENTED:return ge.UNIMPLEMENTED;case ai.DATA_LOSS:return ge.DATA_LOSS;default:return st()}}(on=ai||(ai={}))[on.OK=0]="OK",on[on.CANCELLED=1]="CANCELLED",on[on.UNKNOWN=2]="UNKNOWN",on[on.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",on[on.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",on[on.NOT_FOUND=5]="NOT_FOUND",on[on.ALREADY_EXISTS=6]="ALREADY_EXISTS",on[on.PERMISSION_DENIED=7]="PERMISSION_DENIED",on[on.UNAUTHENTICATED=16]="UNAUTHENTICATED",on[on.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",on[on.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",on[on.ABORTED=10]="ABORTED",on[on.OUT_OF_RANGE=11]="OUT_OF_RANGE",on[on.UNIMPLEMENTED=12]="UNIMPLEMENTED",on[on.INTERNAL=13]="INTERNAL",on[on.UNAVAILABLE=14]="UNAVAILABLE",on[on.DATA_LOSS=15]="DATA_LOSS";class wi{constructor(t,e){this.comparator=t,this.root=e||yo.EMPTY}insert(t,e){return new wi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,yo.BLACK,null,null))}remove(t){return new wi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,yo.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const r=this.comparator(t,e.key);if(0===r)return e.value;r<0?e=e.left:r>0&&(e=e.right)}return null}indexOf(t){let e=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(0===i)return e+r.left.size;i<0?r=r.left:(e+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,r)=>(t(e,r),!1))}toString(){const t=[];return this.inorderTraversal((e,r)=>(t.push(`${e}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new lP(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new lP(this.root,t,this.comparator,!1)}getReverseIterator(){return new lP(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new lP(this.root,t,this.comparator,!0)}}class lP{constructor(t,e,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=e?r(t.key,e):1,i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class yo{constructor(t,e,r,i,a){this.key=t,this.value=e,this.color=null!=r?r:yo.RED,this.left=null!=i?i:yo.EMPTY,this.right=null!=a?a:yo.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,r,i,a){return new yo(null!=t?t:this.key,null!=e?e:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,r){let i=this;const a=r(t,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(t,e,r),null):0===a?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return yo.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let r,i=this;if(e(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,e),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===e(t,i.key)){if(i.right.isEmpty())return yo.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,e))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,yo.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,yo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw st();const t=this.left.check();if(t!==this.right.check())throw st();return t+(this.isRed()?0:1)}}yo.EMPTY=null,yo.RED=!0,yo.BLACK=!1,yo.EMPTY=new class{constructor(){this.size=0}get key(){throw st()}get value(){throw st()}get color(){throw st()}get left(){throw st()}get right(){throw st()}copy(n,t,e,r,i){return this}insert(n,t,e){return new yo(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pr{constructor(t){this.comparator=t,this.data=new wi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,r)=>(t(e),!1))}forEachInRange(t,e){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;e(i.key)}}forEachWhile(t,e){let r;for(r=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new W6(this.data.getIterator())}getIteratorFrom(t){return new W6(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(r=>{e=e.add(r)}),e}isEqual(t){if(!(t instanceof Pr)||this.size!==t.size)return!1;const e=this.data.getIterator(),r=t.data.getIterator();for(;e.hasNext();){const i=e.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Pr(this.comparator);return e.data=t,e}}class W6{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const EY=new wi(ot.comparator);function wl(){return EY}const MY=new wi(ot.comparator);function KN(){return MY}const DY=new wi(ot.comparator);function Z6(){return DY}const OY=new Pr(ot.comparator);function bn(...n){let t=OY;for(const e of n)t=t.add(e);return t}const TY=new Pr(Kt);function cP(){return TY}class eM{constructor(t,e,r,i,a){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,e){const r=new Map;return r.set(t,tM.createSynthesizedTargetChangeForCurrentChange(t,e)),new eM(Rt.min(),r,cP(),wl(),bn())}}class tM{constructor(t,e,r,i,a){this.resumeToken=t,this.current=e,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,e){return new tM(Gi.EMPTY_BYTE_STRING,e,bn(),bn(),bn())}}class uP{constructor(t,e,r,i){this.k=t,this.removedTargetIds=e,this.key=r,this.$=i}}class Y6{constructor(t,e){this.targetId=t,this.O=e}}class K6{constructor(t,e,r=Gi.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=e,this.resumeToken=r,this.cause=i}}class Q6{constructor(){this.F=0,this.M=X6(),this.L=Gi.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(t){t.approximateByteSize()>0&&(this.U=!0,this.L=t)}W(){let t=bn(),e=bn(),r=bn();return this.M.forEach((i,a)=>{switch(a){case 0:t=t.add(i);break;case 2:e=e.add(i);break;case 1:r=r.add(i);break;default:st()}}),new tM(this.L,this.B,t,e,r)}G(){this.U=!1,this.M=X6()}H(t,e){this.U=!0,this.M=this.M.insert(t,e)}J(t){this.U=!0,this.M=this.M.remove(t)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class IY{constructor(t){this.tt=t,this.et=new Map,this.nt=wl(),this.st=J6(),this.it=new Pr(Kt)}rt(t){for(const e of t.k)t.$&&t.$.isFoundDocument()?this.ot(e,t.$):this.ct(e,t.key,t.$);for(const e of t.removedTargetIds)this.ct(e,t.key,t.$)}at(t){this.forEachTarget(t,e=>{const r=this.ut(e);switch(t.state){case 0:this.ht(e)&&r.j(t.resumeToken);break;case 1:r.X(),r.q||r.G(),r.j(t.resumeToken);break;case 2:r.X(),r.q||this.removeTarget(e);break;case 3:this.ht(e)&&(r.Z(),r.j(t.resumeToken));break;case 4:this.ht(e)&&(this.lt(e),r.j(t.resumeToken));break;default:st()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.et.forEach((r,i)=>{this.ht(i)&&e(i)})}ft(t){const e=t.targetId,r=t.O.count,i=this.dt(e);if(i){const a=i.target;if(tP(a))if(0===r){const d=new ot(a.path);this.ct(e,d,hr.newNoDocument(d,Rt.min()))}else vt(1===r);else this.wt(e)!==r&&(this.lt(e),this.it=this.it.add(e))}}_t(t){const e=new Map;this.et.forEach((a,d)=>{const f=this.dt(d);if(f){if(a.current&&tP(f.target)){const m=new ot(f.target.path);null!==this.nt.get(m)||this.gt(d,m)||this.ct(d,m,hr.newNoDocument(m,t))}a.K&&(e.set(d,a.W()),a.G())}});let r=bn();this.st.forEach((a,d)=>{let f=!0;d.forEachWhile(m=>{const C=this.dt(m);return!C||2===C.purpose||(f=!1,!1)}),f&&(r=r.add(a))});const i=new eM(t,e,this.it,this.nt,r);return this.nt=wl(),this.st=J6(),this.it=new Pr(Kt),i}ot(t,e){if(!this.ht(t))return;const r=this.gt(t,e.key)?2:0;this.ut(t).H(e.key,r),this.nt=this.nt.insert(e.key,e),this.st=this.st.insert(e.key,this.yt(e.key).add(t))}ct(t,e,r){if(!this.ht(t))return;const i=this.ut(t);this.gt(t,e)?i.H(e,1):i.J(e),this.st=this.st.insert(e,this.yt(e).delete(t)),r&&(this.nt=this.nt.insert(e,r))}removeTarget(t){this.et.delete(t)}wt(t){const e=this.ut(t).W();return this.tt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Y(t){this.ut(t).Y()}ut(t){let e=this.et.get(t);return e||(e=new Q6,this.et.set(t,e)),e}yt(t){let e=this.st.get(t);return e||(e=new Pr(Kt),this.st=this.st.insert(t,e)),e}ht(t){const e=null!==this.dt(t);return e||Fe("WatchChangeAggregator","Detected inactive target",t),e}dt(t){const e=this.et.get(t);return e&&e.q?null:this.tt.Tt(t)}lt(t){this.et.set(t,new Q6),this.tt.getRemoteKeysForTarget(t).forEach(e=>{this.ct(t,e,null)})}gt(t,e){return this.tt.getRemoteKeysForTarget(t).has(e)}}function J6(){return new wi(ot.comparator)}function X6(){return new wi(ot.comparator)}const SY={asc:"ASCENDING",desc:"DESCENDING"},PY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class AY{constructor(t,e){this.databaseId=t,this.D=e}}function nM(n,t){return n.D?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ez(n,t){return n.D?t.toBase64():t.toUint8Array()}function xY(n,t){return nM(n,t.toTimestamp())}function $i(n){return vt(!!n),Rt.fromTimestamp(function(t){const e=_p(t);return new zi(e.seconds,e.nanos)}(n))}function QN(n,t){return(e=n,new gn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function tz(n){const t=gn.fromString(n);return vt(fz(t)),t}function rM(n,t){return QN(n.databaseId,t.path)}function Hu(n,t){const e=tz(t);if(e.get(1)!==n.databaseId.projectId)throw new Ie(ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ie(ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new ot(rz(e))}function JN(n,t){return QN(n.databaseId,t)}function nz(n){const t=tz(n);return 4===t.length?gn.emptyPath():rz(t)}function iM(n){return new gn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rz(n){return vt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function iz(n,t,e){return{name:rM(n,t),fields:e.value.mapValue.fields}}function oz(n,t,e){const r=Hu(n,t.name),i=$i(t.updateTime),a=new Vo({mapValue:{fields:t.fields}}),d=hr.newFoundDocument(r,i,a);return e&&d.setHasCommittedMutations(),e?d.setHasCommittedMutations():d}function dP(n,t){let e;if(t instanceof JE)e={update:iz(n,t.key,t.value)};else if(t instanceof XE)e={delete:rM(n,t.key)};else if(t instanceof yp)e={update:iz(n,t.key,t.data),updateMask:HY(t.fieldMask)};else{if(!(t instanceof YN))return st();e={verify:rM(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(r=>function(i,a){const d=a.transform;if(d instanceof uv)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Wm)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Zm)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof dv)return{fieldPath:a.field.canonicalString(),increment:d.C};throw st()}(0,r))),t.precondition.isNone||(e.currentDocument=void 0!==(i=t.precondition).updateTime?{updateTime:xY(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:st()),e;var i}function sz(n,t){const e=t.currentDocument?void 0!==(i=t.currentDocument).updateTime?si.updateTime($i(i.updateTime)):void 0!==i.exists?si.exists(i.exists):si.none():si.none(),r=t.updateTransforms?t.updateTransforms.map(i=>function(a,d){let f=null;"setToServerValue"in d?(vt("REQUEST_TIME"===d.setToServerValue),f=new uv):"appendMissingElements"in d?f=new Wm(d.appendMissingElements.values||[]):"removeAllFromArray"in d?f=new Zm(d.removeAllFromArray.values||[]):"increment"in d?f=new dv(a,d.increment):st();const m=_o.fromServerFormat(d.fieldPath);return new QE(m,f)}(n,i)):[];var i;if(t.update){const i=Hu(n,t.update.name),a=new Vo({mapValue:{fields:t.update.fields}});if(t.updateMask){const d=new iv((t.updateMask.fieldPaths||[]).map(C=>_o.fromServerFormat(C)));return new yp(i,a,d,e,r)}return new JE(i,a,e,r)}if(t.delete){const i=Hu(n,t.delete);return new XE(i,e)}if(t.verify){const i=Hu(n,t.verify);return new YN(i,e)}return st()}function az(n,t){return{documents:[JN(n,t.path)]}}function lz(n,t){const e={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(e.parent=JN(n,r),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=JN(n,r.popLast()),e.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(f){if(0===f.length)return;const m=f.map(C=>function(M){if("=="===M.op){if(w6(M.value))return{unaryFilter:{field:hv(M.field),op:"IS_NAN"}};if(C6(M.value))return{unaryFilter:{field:hv(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(w6(M.value))return{unaryFilter:{field:hv(M.field),op:"IS_NOT_NAN"}};if(C6(M.value))return{unaryFilter:{field:hv(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hv(M.field),op:VY(M.op),value:M.value}}}(C));return 1===m.length?m[0]:{compositeFilter:{op:"AND",filters:m}}}(t.filters);i&&(e.structuredQuery.where=i);const a=function(f){if(0!==f.length)return f.map(m=>{return{field:hv((C=m).field),direction:LY(C.dir)};var C})}(t.orderBy);a&&(e.structuredQuery.orderBy=a);const d=(m=t.limit,n.D||$m(m)?m:{value:m});var m;return null!==d&&(e.structuredQuery.limit=d),t.startAt&&(e.structuredQuery.startAt=dz(t.startAt)),t.endAt&&(e.structuredQuery.endAt=dz(t.endAt)),e}function cz(n){let t=nz(n.parent);const e=n.structuredQuery,r=e.from?e.from.length:0;let i=null;if(r>0){vt(1===r);const M=e.from[0];M.allDescendants?i=M.collectionId:t=t.child(M.collectionId)}let a=[];e.where&&(a=uz(e.where));let d=[];e.orderBy&&(d=e.orderBy.map(M=>{return new av(fv((T=M).field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction));var T}));let f=null;e.limit&&(f=function(M){let T;return T="object"==typeof M?M.value:M,$m(T)?null:T}(e.limit));let m=null;e.startAt&&(m=hz(e.startAt));let C=null;return e.endAt&&(C=hz(e.endAt)),I6(t,i,d,a,f,"F",m,C)}function uz(n){return n?void 0!==n.unaryFilter?[UY(n)]:void 0!==n.fieldFilter?[BY(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>uz(t)).reduce((t,e)=>t.concat(e)):st():[]}function dz(n){return{before:n.before,values:n.position}}function hz(n){return new ZE(n.values||[],!!n.before)}function LY(n){return SY[n]}function VY(n){return PY[n]}function hv(n){return{fieldPath:n.canonicalString()}}function fv(n){return _o.fromServerFormat(n.fieldPath)}function BY(n){return ls.create(fv(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return st()}}(n.fieldFilter.op),n.fieldFilter.value)}function UY(n){switch(n.unaryFilter.op){case"IS_NAN":const t=fv(n.unaryFilter.field);return ls.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=fv(n.unaryFilter.field);return ls.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=fv(n.unaryFilter.field);return ls.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=fv(n.unaryFilter.field);return ls.create(i,"!=",{nullValue:"NULL_VALUE"});default:return st()}}function HY(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function fz(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Dc(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=pz(t)),t=jY(n.get(e),t);return pz(t)}function jY(n,t){let e=t;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=a}}return e}function pz(n){return n+"\x01\x01"}function Ch(n){const t=n.length;if(vt(t>=2),2===t)return vt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),gn.emptyPath();const e=t-2,r=[];let i="";for(let a=0;a<t;){const d=n.indexOf("\x01",a);switch((d<0||d>e)&&st(),n.charAt(d+1)){case"\x01":const f=n.substring(a,d);let m;0===i.length?m=f:(i+=f,m=i,i=""),r.push(m);break;case"\x10":i+=n.substring(a,d),i+="\0";break;case"\x11":i+=n.substring(a,d+1);break;default:st()}a=d+2}return new gn(r)}class zY{constructor(t,e){this.seconds=t,this.nanoseconds=e}}class Ca{constructor(t,e,r){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=r}}Ca.store="owner",Ca.key="owner";class bp{constructor(t,e,r){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=r}}bp.store="mutationQueues",bp.keyPath="userId";class Xn{constructor(t,e,r,i,a){this.userId=t,this.batchId=e,this.localWriteTimeMs=r,this.baseMutations=i,this.mutations=a}}Xn.store="mutations",Xn.keyPath="batchId",Xn.userMutationsIndex="userMutationsIndex",Xn.userMutationsKeyPath=["userId","batchId"];class Bo{constructor(){}static prefixForUser(t){return[t]}static prefixForPath(t,e){return[t,Dc(e)]}static key(t,e,r){return[t,Dc(e),r]}}Bo.store="documentMutations",Bo.PLACEHOLDER=new Bo;class GY{constructor(t,e){this.path=t,this.readTime=e}}class $Y{constructor(t,e){this.path=t,this.version=e}}class Ar{constructor(t,e,r,i,a,d){this.unknownDocument=t,this.noDocument=e,this.document=r,this.hasCommittedMutations=i,this.readTime=a,this.parentPath=d}}Ar.store="remoteDocuments",Ar.readTimeIndex="readTimeIndex",Ar.readTimeIndexPath="readTime",Ar.collectionReadTimeIndex="collectionReadTimeIndex",Ar.collectionReadTimeIndexPath=["parentPath","readTime"];class ju{constructor(t){this.byteSize=t}}ju.store="remoteDocumentGlobal",ju.key="remoteDocumentGlobalKey";class Vs{constructor(t,e,r,i,a,d,f){this.targetId=t,this.canonicalId=e,this.readTime=r,this.resumeToken=i,this.lastListenSequenceNumber=a,this.lastLimboFreeSnapshotVersion=d,this.query=f}}Vs.store="targets",Vs.keyPath="targetId",Vs.queryTargetsIndexName="queryTargetsIndex",Vs.queryTargetsKeyPath=["canonicalId","targetId"];class bo{constructor(t,e,r){this.targetId=t,this.path=e,this.sequenceNumber=r}}bo.store="targetDocuments",bo.keyPath=["targetId","path"],bo.documentTargetsIndex="documentTargetsIndex",bo.documentTargetsKeyPath=["path","targetId"];class wa{constructor(t,e,r,i){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=r,this.targetCount=i}}wa.key="targetGlobalKey",wa.store="targetGlobal";class Ym{constructor(t,e){this.collectionId=t,this.parent=e}}Ym.store="collectionParents",Ym.keyPath=["collectionId","parent"];class wh{constructor(t,e,r,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=r,this.inForeground=i}}wh.store="clientMetadata",wh.keyPath="clientId";class pv{constructor(t,e,r){this.bundleId=t,this.createTime=e,this.version=r}}pv.store="bundles",pv.keyPath="bundleId";class gv{constructor(t,e,r){this.name=t,this.readTime=e,this.bundledQuery=r}}gv.store="namedQueries",gv.keyPath="name";const qY=[bp.store,Xn.store,Bo.store,Ar.store,Vs.store,Ca.store,wa.store,bo.store,wh.store,ju.store,Ym.store,pv.store,gv.store],gz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class Oe{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&st(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Oe((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(e,a).next(r,i)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Oe?e:Oe.resolve(e)}catch(e){return Oe.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Oe.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Oe.reject(e)}static resolve(t){return new Oe((e,r)=>{e(t)})}static reject(t){return new Oe((e,r)=>{r(t)})}static waitFor(t){return new Oe((e,r)=>{let i=0,a=0,d=!1;t.forEach(f=>{++i,f.next(()=>{++a,d&&a===i&&e()},m=>r(m))}),d=!0,a===i&&e()})}static or(t){let e=Oe.resolve(!1);for(const r of t)e=e.next(i=>i?Oe.resolve(i):r());return e}static forEach(t,e){const r=[];return t.forEach((i,a)=>{r.push(e.call(this,i,a))}),this.waitFor(r)}}class hP{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.Et=new ji,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{e.error?this.Et.reject(new oM(t,e.error)):this.Et.resolve()},this.transaction.onerror=r=>{const i=XN(r.target.error);this.Et.reject(new oM(t,i))}}static open(t,e,r,i){try{return new hP(e,t.transaction(i,r))}catch(a){throw new oM(e,a)}}get It(){return this.Et.promise}abort(t){t&&this.Et.reject(t),this.aborted||(Fe("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(t){const e=this.transaction.objectStore(t);return new ZY(e)}}class Oc{constructor(t,e,r){this.name=t,this.version=e,this.At=r,12.2===Oc.Rt((0,L.z$)())&&ii("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Fe("SimpleDb","Removing database:",t),Qm(window.indexedDB.deleteDatabase(t)).toPromise()}static bt(){if(!(0,L.hl)())return!1;if(Oc.Pt())return!0;const t=(0,L.z$)(),e=Oc.Rt(t),r=0<e&&e<10,i=Oc.vt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}static Pt(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Vt)}static St(t,e){return t.store(e)}static Rt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static vt(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Dt(t){var e=this;return(0,_e.Z)(function*(){return e.db||(Fe("SimpleDb","Opening database:",e.name),e.db=yield new Promise((r,i)=>{const a=indexedDB.open(e.name,e.version);a.onsuccess=d=>{r(d.target.result)},a.onblocked=()=>{i(new oM(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=d=>{const f=d.target.error;i("VersionError"===f.name?new Ie(ge.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new Ie(ge.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new oM(t,f))},a.onupgradeneeded=d=>{Fe("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',d.oldVersion),e.At.Ct(d.target.result,a.transaction,d.oldVersion,e.version).next(()=>{Fe("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.Nt&&(e.db.onversionchange=r=>e.Nt(r)),e.db})()}xt(t){this.Nt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,r,i){var a=this;return(0,_e.Z)(function*(){const d="readonly"===e;let f=0;for(;;){++f;try{a.db=yield a.Dt(t);const m=hP.open(a.db,t,d?"readonly":"readwrite",r),C=i(m).catch(M=>(m.abort(M),Oe.reject(M))).toPromise();return C.catch(()=>{}),yield m.It,C}catch(m){const C="FirebaseError"!==m.name&&f<3;if(Fe("SimpleDb","Transaction failed with error:",m.message,"Retrying:",C),a.close(),!C)return Promise.reject(m)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class WY{constructor(t){this.kt=t,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(t){this.kt=t}done(){this.$t=!0}Mt(t){this.Ot=t}delete(){return Qm(this.kt.delete())}}class oM extends Ie{constructor(t,e){super(ge.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Km(n){return"IndexedDbTransactionError"===n.name}class ZY{constructor(t){this.store=t}put(t,e){let r;return void 0!==e?(Fe("SimpleDb","PUT",this.store.name,t,e),r=this.store.put(e,t)):(Fe("SimpleDb","PUT",this.store.name,"<auto-key>",t),r=this.store.put(t)),Qm(r)}add(t){return Fe("SimpleDb","ADD",this.store.name,t,t),Qm(this.store.add(t))}get(t){return Qm(this.store.get(t)).next(e=>(void 0===e&&(e=null),Fe("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Fe("SimpleDb","DELETE",this.store.name,t),Qm(this.store.delete(t))}count(){return Fe("SimpleDb","COUNT",this.store.name),Qm(this.store.count())}Lt(t,e){const r=this.cursor(this.options(t,e)),i=[];return this.Bt(r,(a,d)=>{i.push(d)}).next(()=>i)}Ut(t,e){Fe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(t,e);r.qt=!1;const i=this.cursor(r);return this.Bt(i,(a,d,f)=>f.delete())}Kt(t,e){let r;e?r=t:(r={},e=t);const i=this.cursor(r);return this.Bt(i,e)}jt(t){const e=this.cursor({});return new Oe((r,i)=>{e.onerror=a=>{const d=XN(a.target.error);i(d)},e.onsuccess=a=>{const d=a.target.result;d?t(d.primaryKey,d.value).next(f=>{f?d.continue():r()}):r()}})}Bt(t,e){const r=[];return new Oe((i,a)=>{t.onerror=d=>{a(d.target.error)},t.onsuccess=d=>{const f=d.target.result;if(!f)return void i();const m=new WY(f),C=e(f.primaryKey,f.value,m);if(C instanceof Oe){const M=C.catch(T=>(m.done(),Oe.reject(T)));r.push(M)}m.isDone?i():null===m.Ft?f.continue():f.continue(m.Ft)}}).next(()=>Oe.waitFor(r))}options(t,e){let r;return void 0!==t&&("string"==typeof t?r=t:e=t),{index:r,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const r=this.store.index(t.index);return t.qt?r.openKeyCursor(t.range,e):r.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Qm(n){return new Oe((t,e)=>{n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{const i=XN(r.target.error);e(i)}})}let _z=!1;function XN(n){const t=Oc.Rt((0,L.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const r=new Ie("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return _z||(_z=!0,setTimeout(()=>{throw r},0)),r}}return n}class yz extends mz{constructor(t,e){super(),this.Qt=t,this.currentSequenceNumber=e}}function Bs(n,t){const e=Be(n);return Oc.St(e.Qt,t)}class eL{constructor(t,e,r,i){this.batchId=t,this.localWriteTime=e,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,e){const r=e.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(t.key)&&vY(a,t,r[i])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&ZN(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&ZN(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const r=t.get(e.key),i=r;this.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Rt.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),bn())}isEqual(t){return this.batchId===t.batchId&&rv(this.mutations,t.mutations,(e,r)=>U6(e,r))&&rv(this.baseMutations,t.baseMutations,(e,r)=>U6(e,r))}}class tL{constructor(t,e,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=r,this.docVersions=i}static from(t,e,r){vt(t.mutations.length===r.length);let i=Z6();const a=t.mutations;for(let d=0;d<a.length;d++)i=i.insert(a[d].key,r[d].version);return new tL(t,e,r,i)}}class vp{constructor(t,e,r,i,a=Rt.min(),d=Rt.min(),f=Gi.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=f}withSequenceNumber(t){return new vp(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new vp(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new vp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class bz{constructor(t){this.Wt=t}}function nL(n,t){if(t.document)return oz(n.Wt,t.document,!!t.hasCommittedMutations);if(t.noDocument){const e=ot.fromSegments(t.noDocument.path),r=_v(t.noDocument.readTime),i=hr.newNoDocument(e,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){const e=ot.fromSegments(t.unknownDocument.path),r=_v(t.unknownDocument.version);return hr.newUnknownDocument(e,r)}return st()}function vz(n,t,e){const r=rL(e),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){const a={name:rM(f=n.Wt,(m=t).key),fields:m.data.value.mapValue.fields,updateTime:nM(f,m.version.toTimestamp())};return new Ar(null,null,a,t.hasCommittedMutations,r,i)}var f,m;if(t.isNoDocument()){const a=t.key.path.toArray(),d=mv(t.version),f=t.hasCommittedMutations;return new Ar(null,new GY(a,d),null,f,r,i)}if(t.isUnknownDocument()){const a=t.key.path.toArray(),d=mv(t.version);return new Ar(new $Y(a,d),null,null,!0,r,i)}return st()}function rL(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function Cz(n){const t=new zi(n[0],n[1]);return Rt.fromTimestamp(t)}function mv(n){const t=n.toTimestamp();return new zY(t.seconds,t.nanoseconds)}function _v(n){const t=new zi(n.seconds,n.nanoseconds);return Rt.fromTimestamp(t)}function yv(n,t){const e=(t.baseMutations||[]).map(a=>sz(n.Wt,a));for(let a=0;a<t.mutations.length-1;++a){const d=t.mutations[a];a+1<t.mutations.length&&void 0!==t.mutations[a+1].transform&&(d.updateTransforms=t.mutations[a+1].transform.fieldTransforms,t.mutations.splice(a+1,1),++a)}const r=t.mutations.map(a=>sz(n.Wt,a)),i=zi.fromMillis(t.localWriteTimeMs);return new eL(t.batchId,i,e,r)}function sM(n){const t=_v(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?_v(n.lastLimboFreeSnapshotVersion):Rt.min();let r;var i;return void 0!==n.query.documents?(vt(1===(i=n.query).documents.length),r=Cl(lv(nz(i.documents[0])))):r=Cl(cz(n.query)),new vp(r,n.targetId,0,n.lastListenSequenceNumber,t,e,Gi.fromBase64String(n.resumeToken))}function wz(n,t){const e=mv(t.snapshotVersion),r=mv(t.lastLimboFreeSnapshotVersion);let i;i=tP(t.target)?az(n.Wt,t.target):lz(n.Wt,t.target);const a=t.resumeToken.toBase64();return new Vs(t.targetId,WE(t.target),e,a,t.sequenceNumber,r,i)}function iL(n){const t=cz({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?S6(t,t.limit,"L"):t}class YY{getBundleMetadata(t,e){return Ez(t).get(e).next(r=>{if(r)return{id:(i=r).bundleId,createTime:_v(i.createTime),version:i.version};var i})}saveBundleMetadata(t,e){return Ez(t).put({bundleId:(r=e).id,createTime:mv($i(r.createTime)),version:r.version});var r}getNamedQuery(t,e){return Mz(t).get(e).next(r=>{if(r)return{name:(i=r).name,query:iL(i.bundledQuery),readTime:_v(i.readTime)};var i})}saveNamedQuery(t,e){return Mz(t).put({name:(r=e).name,readTime:mv($i(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Ez(n){return Bs(n,pv.store)}function Mz(n){return Bs(n,gv.store)}class KY{constructor(){this.Gt=new oL}addToCollectionParentIndex(t,e){return this.Gt.add(e),Oe.resolve()}getCollectionParents(t,e){return Oe.resolve(this.Gt.getEntries(e))}}class oL{constructor(){this.index={}}add(t){const e=t.lastSegment(),r=t.popLast(),i=this.index[e]||new Pr(gn.comparator),a=!i.has(r);return this.index[e]=i.add(r),a}has(t){const e=t.lastSegment(),r=t.popLast(),i=this.index[e];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Pr(gn.comparator)).toArray()}}class QY{constructor(){this.zt=new oL}addToCollectionParentIndex(t,e){if(!this.zt.has(e)){const r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener(()=>{this.zt.add(e)});const a={collectionId:r,parent:Dc(i)};return Dz(t).put(a)}return Oe.resolve()}getCollectionParents(t,e){const r=[],i=IDBKeyRange.bound([e,""],[g6(e),""],!1,!0);return Dz(t).Lt(i).next(a=>{for(const d of a){if(d.collectionId!==e)break;r.push(Ch(d.parent))}return r})}}function Dz(n){return Bs(n,Ym.store)}const Oz={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Us{constructor(t,e,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=r}static withCacheSize(t){return new Us(t,Us.DEFAULT_COLLECTION_PERCENTILE,Us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Tz(n,t,e){const r=n.store(Xn.store),i=n.store(Bo.store),a=[],d=IDBKeyRange.only(e.batchId);let f=0;const m=r.Kt({range:d},(M,T,x)=>(f++,x.delete()));a.push(m.next(()=>{vt(1===f)}));const C=[];for(const M of e.mutations){const T=Bo.key(t,M.key.path,e.batchId);a.push(i.delete(T)),C.push(M.key)}return Oe.waitFor(a).next(()=>C)}function fP(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw st();t=n.noDocument}return JSON.stringify(t).length}Us.DEFAULT_COLLECTION_PERCENTILE=10,Us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Us.DEFAULT=new Us(41943040,Us.DEFAULT_COLLECTION_PERCENTILE,Us.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Us.DISABLED=new Us(-1,0,0);class sL{constructor(t,e,r,i){this.userId=t,this.N=e,this.Ht=r,this.referenceDelegate=i,this.Jt={}}static Yt(t,e,r,i){vt(""!==t.uid);const a=t.isAuthenticated()?t.uid:"";return new sL(a,e,r,i)}checkEmpty(t){let e=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Cp(t).Kt({index:Xn.userMutationsIndex,range:r},(i,a,d)=>{e=!1,d.done()}).next(()=>e)}addMutationBatch(t,e,r,i){const a=bv(t),d=Cp(t);return d.add({}).next(f=>{vt("number"==typeof f);const m=new eL(f,e,r,i),C=function(x,R,j){const ie=j.baseMutations.map(Ae=>dP(x.Wt,Ae)),pe=j.mutations.map(Ae=>dP(x.Wt,Ae));return new Xn(R,j.batchId,j.localWriteTime.toMillis(),ie,pe)}(this.N,this.userId,m),M=[];let T=new Pr((x,R)=>Kt(x.canonicalString(),R.canonicalString()));for(const x of i){const R=Bo.key(this.userId,x.key.path,f);T=T.add(x.key.path.popLast()),M.push(d.put(C)),M.push(a.put(R,Bo.PLACEHOLDER))}return T.forEach(x=>{M.push(this.Ht.addToCollectionParentIndex(t,x))}),t.addOnCommittedListener(()=>{this.Jt[f]=m.keys()}),Oe.waitFor(M).next(()=>m)})}lookupMutationBatch(t,e){return Cp(t).get(e).next(r=>r?(vt(r.userId===this.userId),yv(this.N,r)):null)}Xt(t,e){return this.Jt[e]?Oe.resolve(this.Jt[e]):this.lookupMutationBatch(t,e).next(r=>{if(r){const i=r.keys();return this.Jt[e]=i,i}return null})}getNextMutationBatchAfterBatchId(t,e){const r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Cp(t).Kt({index:Xn.userMutationsIndex,range:i},(d,f,m)=>{f.userId===this.userId&&(vt(f.batchId>=r),a=yv(this.N,f)),m.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Cp(t).Kt({index:Xn.userMutationsIndex,range:e,reverse:!0},(i,a,d)=>{r=a.batchId,d.done()}).next(()=>r)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Cp(t).Lt(Xn.userMutationsIndex,e).next(r=>r.map(i=>yv(this.N,i)))}getAllMutationBatchesAffectingDocumentKey(t,e){const r=Bo.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),a=[];return bv(t).Kt({range:i},(d,f,m)=>{const[C,M,T]=d,x=Ch(M);if(C===this.userId&&e.path.isEqual(x))return Cp(t).get(T).next(R=>{if(!R)throw st();vt(R.userId===this.userId),a.push(yv(this.N,R))});m.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Pr(Kt);const i=[];return e.forEach(a=>{const d=Bo.prefixForPath(this.userId,a.path),f=IDBKeyRange.lowerBound(d),m=bv(t).Kt({range:f},(C,M,T)=>{const[x,R,j]=C,ie=Ch(R);x===this.userId&&a.path.isEqual(ie)?r=r.add(j):T.done()});i.push(m)}),Oe.waitFor(i).next(()=>this.Zt(t,r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,i=r.length+1,a=Bo.prefixForPath(this.userId,r),d=IDBKeyRange.lowerBound(a);let f=new Pr(Kt);return bv(t).Kt({range:d},(m,C,M)=>{const[T,x,R]=m,j=Ch(x);T===this.userId&&r.isPrefixOf(j)?j.length===i&&(f=f.add(R)):M.done()}).next(()=>this.Zt(t,f))}Zt(t,e){const r=[],i=[];return e.forEach(a=>{i.push(Cp(t).get(a).next(d=>{if(null===d)throw st();vt(d.userId===this.userId),r.push(yv(this.N,d))}))}),Oe.waitFor(i).next(()=>r)}removeMutationBatch(t,e){return Tz(t.Qt,this.userId,e).next(r=>(t.addOnCommittedListener(()=>{this.te(e.batchId)}),Oe.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(t,i))))}te(t){delete this.Jt[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Oe.resolve();const r=IDBKeyRange.lowerBound(Bo.prefixForUser(this.userId)),i=[];return bv(t).Kt({range:r},(a,d,f)=>{if(a[0]===this.userId){const m=Ch(a[1]);i.push(m)}else f.done()}).next(()=>{vt(0===i.length)})})}containsKey(t,e){return Iz(t,this.userId,e)}ee(t){return Sz(t).get(this.userId).next(e=>e||new bp(this.userId,-1,""))}}function Iz(n,t,e){const r=Bo.prefixForPath(t,e.path),i=r[1],a=IDBKeyRange.lowerBound(r);let d=!1;return bv(n).Kt({range:a,qt:!0},(f,m,C)=>{const[M,T,x]=f;M===t&&T===i&&(d=!0),C.done()}).next(()=>d)}function Cp(n){return Bs(n,Xn.store)}function bv(n){return Bs(n,Bo.store)}function Sz(n){return Bs(n,bp.store)}class Jm{constructor(t){this.ne=t}next(){return this.ne+=2,this.ne}static se(){return new Jm(0)}static ie(){return new Jm(-1)}}class JY{constructor(t,e){this.referenceDelegate=t,this.N=e}allocateTargetId(t){return this.re(t).next(e=>{const r=new Jm(e.highestTargetId);return e.highestTargetId=r.next(),this.oe(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.re(t).next(e=>Rt.fromTimestamp(new zi(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.re(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,r){return this.re(t).next(i=>(i.highestListenSequenceNumber=e,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),this.oe(t,i)))}addTargetData(t,e){return this.ce(t,e).next(()=>this.re(t).next(r=>(r.targetCount+=1,this.ae(e,r),this.oe(t,r))))}updateTargetData(t,e){return this.ce(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>vv(t).delete(e.targetId)).next(()=>this.re(t)).next(r=>(vt(r.targetCount>0),r.targetCount-=1,this.oe(t,r)))}removeTargets(t,e,r){let i=0;const a=[];return vv(t).Kt((d,f)=>{const m=sM(f);m.sequenceNumber<=e&&null===r.get(m.targetId)&&(i++,a.push(this.removeTargetData(t,m)))}).next(()=>Oe.waitFor(a)).next(()=>i)}forEachTarget(t,e){return vv(t).Kt((r,i)=>{const a=sM(i);e(a)})}re(t){return Pz(t).get(wa.key).next(e=>(vt(null!==e),e))}oe(t,e){return Pz(t).put(wa.key,e)}ce(t,e){return vv(t).put(wz(this.N,e))}ae(t,e){let r=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,r=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,r=!0),r}getTargetCount(t){return this.re(t).next(e=>e.targetCount)}getTargetData(t,e){const r=WE(e),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return vv(t).Kt({range:i,index:Vs.queryTargetsIndexName},(d,f,m)=>{const C=sM(f);eP(e,C.target)&&(a=C,m.done())}).next(()=>a)}addMatchingKeys(t,e,r){const i=[],a=wp(t);return e.forEach(d=>{const f=Dc(d.path);i.push(a.put(new bo(r,f))),i.push(this.referenceDelegate.addReference(t,r,d))}),Oe.waitFor(i)}removeMatchingKeys(t,e,r){const i=wp(t);return Oe.forEach(e,a=>{const d=Dc(a.path);return Oe.waitFor([i.delete([r,d]),this.referenceDelegate.removeReference(t,r,a)])})}removeMatchingKeysForTargetId(t,e){const r=wp(t),i=IDBKeyRange.bound([e],[e+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(t,e){const r=IDBKeyRange.bound([e],[e+1],!1,!0),i=wp(t);let a=bn();return i.Kt({range:r,qt:!0},(d,f,m)=>{const C=Ch(d[1]),M=new ot(C);a=a.add(M)}).next(()=>a)}containsKey(t,e){const r=Dc(e.path),i=IDBKeyRange.bound([r],[g6(r)],!1,!0);let a=0;return wp(t).Kt({index:bo.documentTargetsIndex,qt:!0,range:i},([d,f],m,C)=>{0!==d&&(a++,C.done())}).next(()=>a>0)}Tt(t,e){return vv(t).get(e).next(r=>r?sM(r):null)}}function vv(n){return Bs(n,Vs.store)}function Pz(n){return Bs(n,wa.store)}function wp(n){return Bs(n,bo.store)}function Xm(n){return aL.apply(this,arguments)}function aL(){return(aL=(0,_e.Z)(function*(n){if(n.code!==ge.FAILED_PRECONDITION||n.message!==gz)throw n;Fe("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function Az([n,t],[e,r]){const i=Kt(n,e);return 0===i?Kt(t,r):i}class XY{constructor(t){this.ue=t,this.buffer=new Pr(Az),this.he=0}le(){return++this.he}fe(t){const e=[t,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(e);else{const r=this.buffer.last();Az(e,r)<0&&(this.buffer=this.buffer.delete(r).add(e))}}get maxValue(){return this.buffer.last()[0]}}class eK{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.de=!1,this.we=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(t)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(t){var e=this;const r=this.de?3e5:6e4;Fe("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,_e.Z)(function*(){e.we=null,e.de=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(i){Km(i)?Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Xm(i)}yield e._e(t)}))}}class tK{constructor(t,e){this.me=t,this.params=e}calculateTargetCount(t,e){return this.me.ge(t).next(r=>Math.floor(e/100*r))}nthSequenceNumber(t,e){if(0===e)return Oe.resolve(va.T);const r=new XY(e);return this.me.forEachTarget(t,i=>r.fe(i.sequenceNumber)).next(()=>this.me.ye(t,i=>r.fe(i))).next(()=>r.maxValue)}removeTargets(t,e,r){return this.me.removeTargets(t,e,r)}removeOrphanedDocuments(t,e){return this.me.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),Oe.resolve(Oz)):this.getCacheSize(t).next(r=>r<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Oz):this.pe(t,e))}getCacheSize(t){return this.me.getCacheSize(t)}pe(t,e){let r,i,a,d,f,m,C;const M=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),i=this.params.maximumSequenceNumbersToCollect):i=T,d=Date.now(),this.nthSequenceNumber(t,i))).next(T=>(r=T,f=Date.now(),this.removeTargets(t,r,e))).next(T=>(a=T,m=Date.now(),this.removeOrphanedDocuments(t,r))).next(T=>(C=Date.now(),LN()<=sl.in.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-M}ms\n\tDetermined least recently used ${i} in `+(f-d)+`ms\n\tRemoved ${a} targets in `+(m-f)+`ms\n\tRemoved ${T} documents in `+(C-m)+`ms\nTotal Duration: ${C-M}ms`),Oe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:T})))}}class nK{constructor(t,e){this.db=t,this.garbageCollector=new tK(this,e)}ge(t){const e=this.Te(t);return this.db.getTargetCache().getTargetCount(t).next(r=>e.next(i=>r+i))}Te(t){let e=0;return this.ye(t,r=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}ye(t,e){return this.Ee(t,(r,i)=>e(i))}addReference(t,e,r){return pP(t,r)}removeReference(t,e,r){return pP(t,r)}removeTargets(t,e,r){return this.db.getTargetCache().removeTargets(t,e,r)}markPotentiallyOrphaned(t,e){return pP(t,e)}Ie(t,e){return function(r,i){let a=!1;return Sz(r).jt(d=>Iz(r,d,i).next(f=>(f&&(a=!0),Oe.resolve(!f)))).next(()=>a)}(t,e)}removeOrphanedDocuments(t,e){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Ee(t,(d,f)=>{if(f<=e){const m=this.Ie(t,d).next(C=>{if(!C)return a++,r.getEntry(t,d).next(()=>(r.removeEntry(d),wp(t).delete([0,Dc(d.path)])))});i.push(m)}}).next(()=>Oe.waitFor(i)).next(()=>r.apply(t)).next(()=>a)}removeTarget(t,e){const r=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,r)}updateLimboDocument(t,e){return pP(t,e)}Ee(t,e){const r=wp(t);let i,a=va.T;return r.Kt({index:bo.documentTargetsIndex},([d,f],{path:m,sequenceNumber:C})=>{0===d?(a!==va.T&&e(new ot(Ch(i)),a),a=C,i=m):a=va.T}).next(()=>{a!==va.T&&e(new ot(Ch(i)),a)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function pP(n,t){return wp(n).put((r=n.currentSequenceNumber,new bo(0,Dc(t.path),r)));var r}class Cv{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}get(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,t))return a}has(t){return void 0!==this.get(t)}set(t,e){const r=this.mapKeyFn(t),i=this.inner[r];if(void 0!==i){for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return void(i[a]=[t,e]);i.push([t,e])}else this.inner[r]=[[t,e]]}delete(t){const e=this.mapKeyFn(t),r=this.inner[e];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return 1===r.length?delete this.inner[e]:r.splice(i,1),!0;return!1}forEach(t){Gm(this.inner,(e,r)=>{for(const[i,a]of r)t(i,a)})}isEmpty(){return _6(this.inner)}}class xz{constructor(){this.changes=new Cv(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}getReadTime(t){const e=this.changes.get(t);return e?e.readTime:Rt.min()}addEntry(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})}removeEntry(t,e=null){this.assertNotApplied(),this.changes.set(t,{document:hr.newInvalidDocument(t),readTime:e})}getEntry(t,e){this.assertNotApplied();const r=this.changes.get(e);return void 0!==r?Oe.resolve(r.document):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class rK{constructor(t,e){this.N=t,this.Ht=e}addEntry(t,e,r){return Ep(t).put(gP(e),r)}removeEntry(t,e){const r=Ep(t),i=gP(e);return r.delete(i)}updateMetadata(t,e){return this.getMetadata(t).next(r=>(r.byteSize+=e,this.Ae(t,r)))}getEntry(t,e){return Ep(t).get(gP(e)).next(r=>this.Re(e,r))}be(t,e){return Ep(t).get(gP(e)).next(r=>({document:this.Re(e,r),size:fP(r)}))}getEntries(t,e){let r=wl();return this.Pe(t,e,(i,a)=>{const d=this.Re(i,a);r=r.insert(i,d)}).next(()=>r)}ve(t,e){let r=wl(),i=new wi(ot.comparator);return this.Pe(t,e,(a,d)=>{const f=this.Re(a,d);r=r.insert(a,f),i=i.insert(a,fP(d))}).next(()=>({documents:r,Ve:i}))}Pe(t,e,r){if(e.isEmpty())return Oe.resolve();const i=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),a=e.getIterator();let d=a.getNext();return Ep(t).Kt({range:i},(f,m,C)=>{const M=ot.fromSegments(f);for(;d&&ot.comparator(d,M)<0;)r(d,null),d=a.getNext();d&&d.isEqual(M)&&(r(d,m),d=a.hasNext()?a.getNext():null),d?C.Mt(d.path.toArray()):C.done()}).next(()=>{for(;d;)r(d,null),d=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(t,e,r){let i=wl();const a=e.path.length+1,d={};if(r.isEqual(Rt.min())){const f=e.path.toArray();d.range=IDBKeyRange.lowerBound(f)}else{const f=e.path.toArray(),m=rL(r);d.range=IDBKeyRange.lowerBound([f,m],!0),d.index=Ar.collectionReadTimeIndex}return Ep(t).Kt(d,(f,m,C)=>{if(f.length!==a)return;const M=nL(this.N,m);e.path.isPrefixOf(M.key.path)?KE(e,M)&&(i=i.insert(M.key,M)):C.done()}).next(()=>i)}newChangeBuffer(t){return new iK(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return Fz(t).get(ju.key).next(e=>(vt(!!e),e))}Ae(t,e){return Fz(t).put(ju.key,e)}Re(t,e){if(e){const r=nL(this.N,e);if(!r.isNoDocument()||!r.version.isEqual(Rt.min()))return r}return hr.newInvalidDocument(t)}}class iK extends xz{constructor(t,e){super(),this.Se=t,this.trackRemovals=e,this.De=new Cv(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(t){const e=[];let r=0,i=new Pr((a,d)=>Kt(a.canonicalString(),d.canonicalString()));return this.changes.forEach((a,d)=>{const f=this.De.get(a);if(d.document.isValidDocument()){const m=vz(this.Se.N,d.document,this.getReadTime(a));i=i.add(a.path.popLast()),r+=fP(m)-f,e.push(this.Se.addEntry(t,a,m))}else if(r-=f,this.trackRemovals){const m=vz(this.Se.N,hr.newNoDocument(a,Rt.min()),this.getReadTime(a));e.push(this.Se.addEntry(t,a,m))}else e.push(this.Se.removeEntry(t,a))}),i.forEach(a=>{e.push(this.Se.Ht.addToCollectionParentIndex(t,a))}),e.push(this.Se.updateMetadata(t,r)),Oe.waitFor(e)}getFromCache(t,e){return this.Se.be(t,e).next(r=>(this.De.set(e,r.size),r.document))}getAllFromCache(t,e){return this.Se.ve(t,e).next(({documents:r,Ve:i})=>(i.forEach((a,d)=>{this.De.set(a,d)}),r))}}function Fz(n){return Bs(n,ju.store)}function Ep(n){return Bs(n,Ar.store)}function gP(n){return n.path.toArray()}class oK{constructor(t){this.N=t}Ct(t,e,r,i){vt(r<i&&r>=0&&i<=11);const a=new hP("createOrUpgrade",e);var f;r<1&&i>=1&&(t.createObjectStore(Ca.store),(f=t).createObjectStore(bp.store,{keyPath:bp.keyPath}),f.createObjectStore(Xn.store,{keyPath:Xn.keyPath,autoIncrement:!0}).createIndex(Xn.userMutationsIndex,Xn.userMutationsKeyPath,{unique:!0}),f.createObjectStore(Bo.store),kz(t),function(f){f.createObjectStore(Ar.store)}(t));let d=Oe.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore(bo.store),f.deleteObjectStore(Vs.store),f.deleteObjectStore(wa.store)}(t),kz(t)),d=d.next(()=>function(f){const m=f.store(wa.store),C=new wa(0,0,Rt.min().toTimestamp(),0);return m.put(wa.key,C)}(a))),r<4&&i>=4&&(0!==r&&(d=d.next(()=>function(f,m){return m.store(Xn.store).Lt().next(C=>{f.deleteObjectStore(Xn.store),f.createObjectStore(Xn.store,{keyPath:Xn.keyPath,autoIncrement:!0}).createIndex(Xn.userMutationsIndex,Xn.userMutationsKeyPath,{unique:!0});const M=m.store(Xn.store),T=C.map(x=>M.put(x));return Oe.waitFor(T)})}(t,a))),d=d.next(()=>{!function(f){f.createObjectStore(wh.store,{keyPath:wh.keyPath})}(t)})),r<5&&i>=5&&(d=d.next(()=>this.Ce(a))),r<6&&i>=6&&(d=d.next(()=>(function(f){f.createObjectStore(ju.store)}(t),this.Ne(a)))),r<7&&i>=7&&(d=d.next(()=>this.xe(a))),r<8&&i>=8&&(d=d.next(()=>this.ke(t,a))),r<9&&i>=9&&(d=d.next(()=>{(function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")})(t),function(f){const m=f.objectStore(Ar.store);m.createIndex(Ar.readTimeIndex,Ar.readTimeIndexPath,{unique:!1}),m.createIndex(Ar.collectionReadTimeIndex,Ar.collectionReadTimeIndexPath,{unique:!1})}(e)})),r<10&&i>=10&&(d=d.next(()=>this.$e(a))),r<11&&i>=11&&(d=d.next(()=>{(function(f){f.createObjectStore(pv.store,{keyPath:pv.keyPath})})(t),function(f){f.createObjectStore(gv.store,{keyPath:gv.keyPath})}(t)})),d}Ne(t){let e=0;return t.store(Ar.store).Kt((r,i)=>{e+=fP(i)}).next(()=>{const r=new ju(e);return t.store(ju.store).put(ju.key,r)})}Ce(t){const e=t.store(bp.store),r=t.store(Xn.store);return e.Lt().next(i=>Oe.forEach(i,a=>{const d=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.Lt(Xn.userMutationsIndex,d).next(f=>Oe.forEach(f,m=>{vt(m.userId===a.userId);const C=yv(this.N,m);return Tz(t,a.userId,C).next(()=>{})}))}))}xe(t){const e=t.store(bo.store),r=t.store(Ar.store);return t.store(wa.store).get(wa.key).next(i=>{const a=[];return r.Kt((d,f)=>{const m=new gn(d),C=[0,Dc(m)];a.push(e.get(C).next(M=>M?Oe.resolve():e.put(new bo(0,Dc(m),i.highestListenSequenceNumber))))}).next(()=>Oe.waitFor(a))})}ke(t,e){t.createObjectStore(Ym.store,{keyPath:Ym.keyPath});const r=e.store(Ym.store),i=new oL,a=d=>{if(i.add(d)){const f=d.lastSegment(),m=d.popLast();return r.put({collectionId:f,parent:Dc(m)})}};return e.store(Ar.store).Kt({qt:!0},(d,f)=>{const m=new gn(d);return a(m.popLast())}).next(()=>e.store(Bo.store).Kt({qt:!0},([d,f,m],C)=>{const M=Ch(f);return a(M.popLast())}))}$e(t){const e=t.store(Vs.store);return e.Kt((r,i)=>{const a=sM(i),d=wz(this.N,a);return e.put(d)})}}function kz(n){n.createObjectStore(bo.store,{keyPath:bo.keyPath}).createIndex(bo.documentTargetsIndex,bo.documentTargetsKeyPath,{unique:!0}),n.createObjectStore(Vs.store,{keyPath:Vs.keyPath}).createIndex(Vs.queryTargetsIndexName,Vs.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(wa.store)}const lL="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class cL{constructor(t,e,r,i,a,d,f,m,C,M){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=r,this.Oe=a,this.window=d,this.document=f,this.Fe=C,this.Me=M,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=T=>Promise.resolve(),!cL.bt())throw new Ie(ge.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new nK(this,i),this.We=e+"main",this.N=new bz(m),this.Ge=new Oc(this.We,11,new oK(this.N)),this.ze=new JY(this.referenceDelegate,this.N),this.Ht=new QY,this.He=new rK(this.N,this.Ht),this.Je=new YY,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===M&&ii("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ie(ge.FAILED_PRECONDITION,lL);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.ze.getHighestSequenceNumber(t))}).then(t=>{this.Le=new va(t,this.Fe)}).then(()=>{this.Be=!0}).catch(t=>(this.Ge&&this.Ge.close(),Promise.reject(t)))}nn(t){var e=this;return this.Qe=function(){var r=(0,_e.Z)(function*(i){if(e.started)return t(i)});return function(i){return r.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ge.xt(function(){var e=(0,_e.Z)(function*(r){null===r.newVersion&&(yield t())});return function(r){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Oe.enqueueAndForget((0,_e.Z)(function*(){e.started&&(yield e.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>mP(t).put(new wh(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(t).next(e=>{e||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(t)).next(e=>this.isPrimary&&!e?this.on(t).next(()=>!1):!!e&&this.cn(t).next(()=>!0))).catch(t=>{if(Km(t))return Fe("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Oe.enqueueRetryable(()=>this.Qe(t)),this.isPrimary=t})}sn(t){return aM(t).get(Ca.key).next(e=>Oe.resolve(this.an(e)))}un(t){return mP(t).delete(this.clientId)}hn(){var t=this;return(0,_e.Z)(function*(){if(t.isPrimary&&!t.ln(t.je,18e5)){t.je=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Bs(r,wh.store);return i.Lt().next(a=>{const d=t.fn(a,18e5),f=a.filter(m=>-1===d.indexOf(m));return Oe.forEach(f,m=>i.delete(m.clientId)).next(()=>f)})}).catch(()=>[]);if(t.Ye)for(const r of e)t.Ye.removeItem(t.dn(r.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}an(t){return!!t&&t.ownerId===this.clientId}rn(t){return this.Me?Oe.resolve(!0):aM(t).get(Ca.key).next(e=>{if(null!==e&&this.ln(e.leaseTimestampMs,5e3)&&!this.wn(e.ownerId)){if(this.an(e)&&this.networkEnabled)return!0;if(!this.an(e)){if(!e.allowTabSynchronization)throw new Ie(ge.FAILED_PRECONDITION,lL);return!1}}return!(!this.networkEnabled||!this.inForeground)||mP(t).Lt().next(r=>void 0===this.fn(r,5e3).find(i=>{if(this.clientId!==i.clientId){const d=!this.inForeground&&i.inForeground,f=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||d&&f)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&Fe("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,_e.Z)(function*(){t.Be=!1,t._n(),t.Ke&&(t.Ke.cancel(),t.Ke=null),t.mn(),t.gn(),yield t.Ge.runTransaction("shutdown","readwrite",[Ca.store,wh.store],e=>{const r=new yz(e,va.T);return t.on(r).next(()=>t.un(r))}),t.Ge.close(),t.yn()})()}fn(t,e){return t.filter(r=>this.ln(r.updateTimeMs,e)&&!this.wn(r.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",t=>mP(t).Lt().next(e=>this.fn(e,18e5).map(r=>r.clientId)))}get started(){return this.Be}getMutationQueue(t){return sL.Yt(t,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(t,e,r){let a;return Fe("IndexedDbPersistence","Starting transaction:",t),this.Ge.runTransaction(t,"readonly"===e?"readonly":"readwrite",qY,d=>(a=new yz(d,this.Le?this.Le.next():va.T),"readwrite-primary"===e?this.sn(a).next(f=>!!f||this.rn(a)).next(f=>{if(!f)throw ii(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Ie(ge.FAILED_PRECONDITION,gz);return r(a)}).next(f=>this.cn(a).next(()=>f)):this.Tn(a).next(()=>r(a)))).then(d=>(a.raiseOnCommittedEvent(),d))}Tn(t){return aM(t).get(Ca.key).next(e=>{if(null!==e&&this.ln(e.leaseTimestampMs,5e3)&&!this.wn(e.ownerId)&&!this.an(e)&&!(this.Me||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ie(ge.FAILED_PRECONDITION,lL)})}cn(t){const e=new Ca(this.clientId,this.allowTabSynchronization,Date.now());return aM(t).put(Ca.key,e)}static bt(){return Oc.bt()}on(t){const e=aM(t);return e.get(Ca.key).next(r=>this.an(r)?(Fe("IndexedDbPersistence","Releasing primary lease."),e.delete(Ca.key)):Oe.resolve())}ln(t,e){const r=Date.now();return!(t<r-e||t>r&&(ii(`Detected an update time that is in the future: ${t} > ${r}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Ue=()=>{this._n(),(0,L.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(t){var e;try{const r=null!==(null===(e=this.Ye)||void 0===e?void 0:e.getItem(this.dn(t)));return Fe("IndexedDbPersistence",`Client '${t}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return ii("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(t){ii("Failed to set zombie client id.",t)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(t){}}dn(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function aM(n){return Bs(n,Ca.store)}function mP(n){return Bs(n,wh.store)}function uL(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class sK{constructor(t,e){this.progress=t,this.En=e}}class Rz{constructor(t,e,r){this.He=t,this.In=e,this.Ht=r}An(t,e){return this.In.getAllMutationBatchesAffectingDocumentKey(t,e).next(r=>this.Rn(t,e,r))}Rn(t,e,r){return this.He.getEntry(t,e).next(i=>{for(const a of r)a.applyToLocalView(i);return i})}bn(t,e){t.forEach((r,i)=>{for(const a of e)a.applyToLocalView(i)})}Pn(t,e){return this.He.getEntries(t,e).next(r=>this.vn(t,r).next(()=>r))}vn(t,e){return this.In.getAllMutationBatchesAffectingDocumentKeys(t,e).next(r=>this.bn(e,r))}getDocumentsMatchingQuery(t,e,r){return ot.isDocumentKey((i=e).path)&&null===i.collectionGroup&&0===i.filters.length?this.Vn(t,e.path):qN(e)?this.Sn(t,e,r):this.Dn(t,e,r);var i}Vn(t,e){return this.An(t,new ot(e)).next(r=>{let i=KN();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}Sn(t,e,r){const i=e.collectionGroup;let a=KN();return this.Ht.getCollectionParents(t,i).next(d=>Oe.forEach(d,f=>{const m=(C=e,M=f.child(i),new vh(M,null,C.explicitOrderBy.slice(),C.filters.slice(),C.limit,C.limitType,C.startAt,C.endAt));var C,M;return this.Dn(t,m,r).next(C=>{C.forEach((M,T)=>{a=a.insert(M,T)})})}).next(()=>a))}Dn(t,e,r){let i,a;return this.He.getDocumentsMatchingQuery(t,e,r).next(d=>(i=d,this.In.getAllMutationBatchesAffectingQuery(t,e))).next(d=>(a=d,this.Cn(t,a,i).next(f=>{i=f;for(const m of a)for(const C of m.mutations){const M=C.key;let T=i.get(M);null==T&&(T=hr.newInvalidDocument(M),i=i.insert(M,T)),ZN(C,T,m.localWriteTime),T.isFoundDocument()||(i=i.remove(M))}}))).next(()=>(i.forEach((d,f)=>{KE(e,f)||(i=i.remove(d))}),i))}Cn(t,e,r){let i=bn();for(const d of e)for(const f of d.mutations)f instanceof yp&&null===r.get(f.key)&&(i=i.add(f.key));let a=r;return this.He.getEntries(t,i).next(d=>(d.forEach((f,m)=>{m.isFoundDocument()&&(a=a.insert(f,m))}),a))}}class dL{constructor(t,e,r,i){this.targetId=t,this.fromCache=e,this.Nn=r,this.xn=i}static kn(t,e){let r=bn(),i=bn();for(const a of e.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new dL(t,e.fromCache,r,i)}}class Nz{$n(t){this.On=t}getDocumentsMatchingQuery(t,e,r,i){return 0===(a=e).filters.length&&null===a.limit&&null==a.startAt&&null==a.endAt&&(0===a.explicitOrderBy.length||1===a.explicitOrderBy.length&&a.explicitOrderBy[0].field.isKeyField())||r.isEqual(Rt.min())?this.Fn(t,e):this.On.Pn(t,i).next(a=>{const d=this.Mn(e,a);return(rP(e)||iP(e))&&this.Ln(e.limitType,d,i,r)?this.Fn(t,e):(LN()<=sl.in.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),WN(e)),this.On.getDocumentsMatchingQuery(t,e,r).next(f=>(d.forEach(m=>{f=f.insert(m.key,m)}),f)))});var a}Mn(t,e){let r=new Pr(A6(t));return e.forEach((i,a)=>{KE(t,a)&&(r=r.add(a))}),r}Ln(t,e,r,i){if(r.size!==e.size)return!0;const a="F"===t?e.last():e.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Fn(t,e){return LN()<=sl.in.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",WN(e)),this.On.getDocumentsMatchingQuery(t,e,Rt.min())}}class aK{constructor(t,e,r,i){this.persistence=t,this.Bn=e,this.N=i,this.Un=new wi(Kt),this.qn=new Cv(a=>WE(a),eP),this.Kn=Rt.min(),this.In=t.getMutationQueue(r),this.jn=t.getRemoteDocumentCache(),this.ze=t.getTargetCache(),this.Qn=new Rz(this.jn,this.In,this.persistence.getIndexManager()),this.Je=t.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Un))}}function Lz(n,t,e,r){return new aK(n,t,e,r)}function Vz(n,t){return hL.apply(this,arguments)}function hL(){return(hL=(0,_e.Z)(function*(n,t){const e=Be(n);let r=e.In,i=e.Qn;const a=yield e.persistence.runTransaction("Handle user change","readonly",d=>{let f;return e.In.getAllMutationBatches(d).next(m=>(f=m,r=e.persistence.getMutationQueue(t),i=new Rz(e.jn,r,e.persistence.getIndexManager()),r.getAllMutationBatches(d))).next(m=>{const C=[],M=[];let T=bn();for(const x of f){C.push(x.batchId);for(const R of x.mutations)T=T.add(R.key)}for(const x of m){M.push(x.batchId);for(const R of x.mutations)T=T.add(R.key)}return i.Pn(d,T).next(x=>({Wn:x,removedBatchIds:C,addedBatchIds:M}))})});return e.In=r,e.Qn=i,e.Bn.$n(e.Qn),a})).apply(this,arguments)}function lK(n,t){const e=Be(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),a=e.jn.newChangeBuffer({trackRemovals:!0});return function(d,f,m,C){const M=m.batch,T=M.keys();let x=Oe.resolve();return T.forEach(R=>{x=x.next(()=>C.getEntry(f,R)).next(j=>{const ie=m.docVersions.get(R);vt(null!==ie),j.version.compareTo(ie)<0&&(M.applyToRemoteDocument(j,m),j.isValidDocument()&&C.addEntry(j,m.commitVersion))})}),x.next(()=>d.In.removeMutationBatch(f,M))}(e,r,t,a).next(()=>a.apply(r)).next(()=>e.In.performConsistencyCheck(r)).next(()=>e.Qn.Pn(r,i))})}function Bz(n){const t=Be(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.ze.getLastRemoteSnapshotVersion(e))}function cK(n,t){const e=Be(n),r=t.snapshotVersion;let i=e.Un;return e.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const d=e.jn.newChangeBuffer({trackRemovals:!0});i=e.Un;const f=[];t.targetChanges.forEach((C,M)=>{const T=i.get(M);if(!T)return;f.push(e.ze.removeMatchingKeys(a,C.removedDocuments,M).next(()=>e.ze.addMatchingKeys(a,C.addedDocuments,M)));const x=C.resumeToken;if(x.approximateByteSize()>0){const R=T.withResumeToken(x,r).withSequenceNumber(a.currentSequenceNumber);i=i.insert(M,R),j=T,pe=C,vt((ie=R).resumeToken.approximateByteSize()>0),(0===j.resumeToken.approximateByteSize()||ie.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8||pe.addedDocuments.size+pe.modifiedDocuments.size+pe.removedDocuments.size>0)&&f.push(e.ze.updateTargetData(a,R))}var j,ie,pe});let m=wl();if(t.documentUpdates.forEach((C,M)=>{t.resolvedLimboDocuments.has(C)&&f.push(e.persistence.referenceDelegate.updateLimboDocument(a,C))}),f.push(Uz(a,d,t.documentUpdates,r,void 0).next(C=>{m=C})),!r.isEqual(Rt.min())){const C=e.ze.getLastRemoteSnapshotVersion(a).next(M=>e.ze.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(C)}return Oe.waitFor(f).next(()=>d.apply(a)).next(()=>e.Qn.vn(a,m)).next(()=>m)}).then(a=>(e.Un=i,a))}function Uz(n,t,e,r,i){let a=bn();return e.forEach(d=>a=a.add(d)),t.getEntries(n,a).next(d=>{let f=wl();return e.forEach((m,C)=>{const M=d.get(m),T=(null==i?void 0:i.get(m))||r;C.isNoDocument()&&C.version.isEqual(Rt.min())?(t.removeEntry(m,T),f=f.insert(m,C)):!M.isValidDocument()||C.version.compareTo(M.version)>0||0===C.version.compareTo(M.version)&&M.hasPendingWrites?(t.addEntry(C,T),f=f.insert(m,C)):Fe("LocalStore","Ignoring outdated watch update for ",m,". Current version:",M.version," Watch version:",C.version)}),f})}function uK(n,t){const e=Be(n);return e.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===t&&(t=-1),e.In.getNextMutationBatchAfterBatchId(r,t)))}function wv(n,t){const e=Be(n);return e.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return e.ze.getTargetData(r,t).next(a=>a?(i=a,Oe.resolve(i)):e.ze.allocateTargetId(r).next(d=>(i=new vp(t,d,0,r.currentSequenceNumber),e.ze.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=e.Un.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(e.Un=e.Un.insert(r.targetId,r),e.qn.set(t,r.targetId)),r})}function Ev(n,t,e){return fL.apply(this,arguments)}function fL(){return(fL=(0,_e.Z)(function*(n,t,e){const r=Be(n),i=r.Un.get(t),a=e?"readwrite":"readwrite-primary";try{e||(yield r.persistence.runTransaction("Release target",a,d=>r.persistence.referenceDelegate.removeTarget(d,i)))}catch(d){if(!Km(d))throw d;Fe("LocalStore",`Failed to update sequence numbers for target ${t}: ${d}`)}r.Un=r.Un.remove(t),r.qn.delete(i.target)})).apply(this,arguments)}function _P(n,t,e){const r=Be(n);let i=Rt.min(),a=bn();return r.persistence.runTransaction("Execute query","readonly",d=>function(f,m,C){const M=Be(f),T=M.qn.get(C);return void 0!==T?Oe.resolve(M.Un.get(T)):M.ze.getTargetData(m,C)}(r,d,Cl(t)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(d,f.targetId).next(m=>{a=m})}).next(()=>r.Bn.getDocumentsMatchingQuery(d,t,e?i:Rt.min(),e?a:bn())).next(f=>({documents:f,Gn:a})))}function Hz(n,t){const e=Be(n),r=Be(e.ze),i=e.Un.get(t);return i?Promise.resolve(i.target):e.persistence.runTransaction("Get target data","readonly",a=>r.Tt(a,t).next(d=>d?d.target:null))}function jz(n){const t=Be(n);return t.persistence.runTransaction("Get new document changes","readonly",e=>function(r,i,a){const d=Be(r);let f=wl(),m=rL(a);const C=Ep(i),M=IDBKeyRange.lowerBound(m,!0);return C.Kt({index:Ar.readTimeIndex,range:M},(T,x)=>{const R=nL(d.N,x);f=f.insert(R.key,R),m=x.readTime}).next(()=>({En:f,readTime:Cz(m)}))}(t.jn,e,t.Kn)).then(({En:e,readTime:r})=>(t.Kn=r,e))}function pL(){return(pL=(0,_e.Z)(function*(n){const t=Be(n);return t.persistence.runTransaction("Synchronize last document change read time","readonly",e=>function(r){const i=Ep(r);let a=Rt.min();return i.Kt({index:Ar.readTimeIndex,reverse:!0},(d,f,m)=>{f.readTime&&(a=Cz(f.readTime)),m.done()}).next(()=>a)}(e)).then(e=>{t.Kn=e})})).apply(this,arguments)}function gL(){return(gL=(0,_e.Z)(function*(n,t,e,r){const i=Be(n);let a=bn(),d=wl(),f=Z6();for(const M of e){const T=t.zn(M.metadata.name);M.document&&(a=a.add(T)),d=d.insert(T,t.Hn(M)),f=f.insert(T,t.Jn(M.metadata.readTime))}const m=i.jn.newChangeBuffer({trackRemovals:!0}),C=yield wv(i,(M=r,Cl(lv(gn.fromString(`__bundle__/docs/${M}`)))));var M;return i.persistence.runTransaction("Apply bundle documents","readwrite",M=>Uz(M,m,d,Rt.min(),f).next(T=>(m.apply(M),T)).next(T=>i.ze.removeMatchingKeysForTargetId(M,C.targetId).next(()=>i.ze.addMatchingKeys(M,a,C.targetId)).next(()=>i.Qn.vn(M,T)).next(()=>T)))})).apply(this,arguments)}function fK(n,t){return mL.apply(this,arguments)}function mL(){return(mL=(0,_e.Z)(function*(n,t,e=bn()){const r=yield wv(n,Cl(iL(t.bundledQuery))),i=Be(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const d=$i(t.readTime);if(r.snapshotVersion.compareTo(d)>=0)return i.Je.saveNamedQuery(a,t);const f=r.withResumeToken(Gi.EMPTY_BYTE_STRING,d);return i.Un=i.Un.insert(f.targetId,f),i.ze.updateTargetData(a,f).next(()=>i.ze.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.ze.addMatchingKeys(a,e,r.targetId)).next(()=>i.Je.saveNamedQuery(a,t))})})).apply(this,arguments)}class pK{constructor(t){this.N=t,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(t,e){return Oe.resolve(this.Yn.get(e))}saveBundleMetadata(t,e){var r;return this.Yn.set(e.id,{id:(r=e).id,version:r.version,createTime:$i(r.createTime)}),Oe.resolve()}getNamedQuery(t,e){return Oe.resolve(this.Xn.get(e))}saveNamedQuery(t,e){return this.Xn.set(e.name,{name:(r=e).name,query:iL(r.bundledQuery),readTime:$i(r.readTime)}),Oe.resolve();var r}}class _L{constructor(){this.Zn=new Pr(qi.ts),this.es=new Pr(qi.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(t,e){const r=new qi(t,e);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(t,e){t.forEach(r=>this.addReference(r,e))}removeReference(t,e){this.rs(new qi(t,e))}os(t,e){t.forEach(r=>this.removeReference(r,e))}cs(t){const e=new ot(new gn([])),r=new qi(e,t),i=new qi(e,t+1),a=[];return this.es.forEachInRange([r,i],d=>{this.rs(d),a.push(d.key)}),a}us(){this.Zn.forEach(t=>this.rs(t))}rs(t){this.Zn=this.Zn.delete(t),this.es=this.es.delete(t)}hs(t){const e=new ot(new gn([])),r=new qi(e,t),i=new qi(e,t+1);let a=bn();return this.es.forEachInRange([r,i],d=>{a=a.add(d.key)}),a}containsKey(t){const e=new qi(t,0),r=this.Zn.firstAfterOrEqual(e);return null!==r&&t.isEqual(r.key)}}class qi{constructor(t,e){this.key=t,this.ls=e}static ts(t,e){return ot.comparator(t.key,e.key)||Kt(t.ls,e.ls)}static ns(t,e){return Kt(t.ls,e.ls)||ot.comparator(t.key,e.key)}}class gK{constructor(t,e){this.Ht=t,this.referenceDelegate=e,this.In=[],this.fs=1,this.ds=new Pr(qi.ts)}checkEmpty(t){return Oe.resolve(0===this.In.length)}addMutationBatch(t,e,r,i){const a=this.fs;this.fs++;const d=new eL(a,e,r,i);this.In.push(d);for(const f of i)this.ds=this.ds.add(new qi(f.key,a)),this.Ht.addToCollectionParentIndex(t,f.key.path.popLast());return Oe.resolve(d)}lookupMutationBatch(t,e){return Oe.resolve(this.ws(e))}getNextMutationBatchAfterBatchId(t,e){const i=this._s(e+1),a=i<0?0:i;return Oe.resolve(this.In.length>a?this.In[a]:null)}getHighestUnacknowledgedBatchId(){return Oe.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(t){return Oe.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const r=new qi(e,0),i=new qi(e,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([r,i],d=>{const f=this.ws(d.ls);a.push(f)}),Oe.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,e){let r=new Pr(Kt);return e.forEach(i=>{const a=new qi(i,0),d=new qi(i,Number.POSITIVE_INFINITY);this.ds.forEachInRange([a,d],f=>{r=r.add(f.ls)})}),Oe.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(t,e){const r=e.path,i=r.length+1;let a=r;ot.isDocumentKey(a)||(a=a.child(""));const d=new qi(new ot(a),0);let f=new Pr(Kt);return this.ds.forEachWhile(m=>{const C=m.key.path;return!!r.isPrefixOf(C)&&(C.length===i&&(f=f.add(m.ls)),!0)},d),Oe.resolve(this.gs(f))}gs(t){const e=[];return t.forEach(r=>{const i=this.ws(r);null!==i&&e.push(i)}),e}removeMutationBatch(t,e){vt(0===this.ys(e.batchId,"removed")),this.In.shift();let r=this.ds;return Oe.forEach(e.mutations,i=>{const a=new qi(i.key,e.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.ds=r})}te(t){}containsKey(t,e){const r=new qi(e,0),i=this.ds.firstAfterOrEqual(r);return Oe.resolve(e.isEqual(i&&i.key))}performConsistencyCheck(t){return Oe.resolve()}ys(t,e){return this._s(t)}_s(t){return 0===this.In.length?0:t-this.In[0].batchId}ws(t){const e=this._s(t);return e<0||e>=this.In.length?null:this.In[e]}}class mK{constructor(t,e){this.Ht=t,this.ps=e,this.docs=new wi(ot.comparator),this.size=0}addEntry(t,e,r){const i=e.key,a=this.docs.get(i),d=a?a.size:0,f=this.ps(e);return this.docs=this.docs.insert(i,{document:e.clone(),size:f,readTime:r}),this.size+=f-d,this.Ht.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const r=this.docs.get(e);return Oe.resolve(r?r.document.clone():hr.newInvalidDocument(e))}getEntries(t,e){let r=wl();return e.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.clone():hr.newInvalidDocument(i))}),Oe.resolve(r)}getDocumentsMatchingQuery(t,e,r){let i=wl();const a=new ot(e.path.child("")),d=this.docs.getIteratorFrom(a);for(;d.hasNext();){const{key:f,value:{document:m,readTime:C}}=d.getNext();if(!e.path.isPrefixOf(f.path))break;C.compareTo(r)<=0||KE(e,m)&&(i=i.insert(m.key,m.clone()))}return Oe.resolve(i)}Ts(t,e){return Oe.forEach(this.docs,r=>e(r))}newChangeBuffer(t){return new _K(this)}getSize(t){return Oe.resolve(this.size)}}class _K extends xz{constructor(t){super(),this.Se=t}applyChanges(t){const e=[];return this.changes.forEach((r,i)=>{i.document.isValidDocument()?e.push(this.Se.addEntry(t,i.document,this.getReadTime(r))):this.Se.removeEntry(r)}),Oe.waitFor(e)}getFromCache(t,e){return this.Se.getEntry(t,e)}getAllFromCache(t,e){return this.Se.getEntries(t,e)}}class yK{constructor(t){this.persistence=t,this.Es=new Cv(e=>WE(e),eP),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.Is=0,this.As=new _L,this.targetCount=0,this.Rs=Jm.se()}forEachTarget(t,e){return this.Es.forEach((r,i)=>e(i)),Oe.resolve()}getLastRemoteSnapshotVersion(t){return Oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Oe.resolve(this.Is)}allocateTargetId(t){return this.highestTargetId=this.Rs.next(),Oe.resolve(this.highestTargetId)}setTargetsMetadata(t,e,r){return r&&(this.lastRemoteSnapshotVersion=r),e>this.Is&&(this.Is=e),Oe.resolve()}ce(t){this.Es.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Rs=new Jm(e),this.highestTargetId=e),t.sequenceNumber>this.Is&&(this.Is=t.sequenceNumber)}addTargetData(t,e){return this.ce(e),this.targetCount+=1,Oe.resolve()}updateTargetData(t,e){return this.ce(e),Oe.resolve()}removeTargetData(t,e){return this.Es.delete(e.target),this.As.cs(e.targetId),this.targetCount-=1,Oe.resolve()}removeTargets(t,e,r){let i=0;const a=[];return this.Es.forEach((d,f)=>{f.sequenceNumber<=e&&null===r.get(f.targetId)&&(this.Es.delete(d),a.push(this.removeMatchingKeysForTargetId(t,f.targetId)),i++)}),Oe.waitFor(a).next(()=>i)}getTargetCount(t){return Oe.resolve(this.targetCount)}getTargetData(t,e){const r=this.Es.get(e)||null;return Oe.resolve(r)}addMatchingKeys(t,e,r){return this.As.ss(e,r),Oe.resolve()}removeMatchingKeys(t,e,r){this.As.os(e,r);const i=this.persistence.referenceDelegate,a=[];return i&&e.forEach(d=>{a.push(i.markPotentiallyOrphaned(t,d))}),Oe.waitFor(a)}removeMatchingKeysForTargetId(t,e){return this.As.cs(e),Oe.resolve()}getMatchingKeysForTargetId(t,e){const r=this.As.hs(e);return Oe.resolve(r)}containsKey(t,e){return Oe.resolve(this.As.containsKey(e))}}class bK{constructor(t,e){this.bs={},this.Le=new va(0),this.Be=!1,this.Be=!0,this.referenceDelegate=t(this),this.ze=new yK(this),this.Ht=new KY,this.He=new mK(this.Ht,r=>this.referenceDelegate.Ps(r)),this.N=new bz(e),this.Je=new pK(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(t){let e=this.bs[t.toKey()];return e||(e=new gK(this.Ht,this.referenceDelegate),this.bs[t.toKey()]=e),e}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(t,e,r){Fe("MemoryPersistence","Starting transaction:",t);const i=new vK(this.Le.next());return this.referenceDelegate.vs(),r(i).next(a=>this.referenceDelegate.Vs(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ss(t,e){return Oe.or(Object.values(this.bs).map(r=>()=>r.containsKey(t,e)))}}class vK extends mz{constructor(t){super(),this.currentSequenceNumber=t}}class yL{constructor(t){this.persistence=t,this.Ds=new _L,this.Cs=null}static Ns(t){return new yL(t)}get xs(){if(this.Cs)return this.Cs;throw st()}addReference(t,e,r){return this.Ds.addReference(r,e),this.xs.delete(r.toString()),Oe.resolve()}removeReference(t,e,r){return this.Ds.removeReference(r,e),this.xs.add(r.toString()),Oe.resolve()}markPotentiallyOrphaned(t,e){return this.xs.add(e.toString()),Oe.resolve()}removeTarget(t,e){this.Ds.cs(e.targetId).forEach(i=>this.xs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(i=>{i.forEach(a=>this.xs.add(a.toString()))}).next(()=>r.removeTargetData(t,e))}vs(){this.Cs=new Set}Vs(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Oe.forEach(this.xs,r=>{const i=ot.fromPath(r);return this.ks(t,i).next(a=>{a||e.removeEntry(i)})}).next(()=>(this.Cs=null,e.apply(t)))}updateLimboDocument(t,e){return this.ks(t,e).next(r=>{r?this.xs.delete(e.toString()):this.xs.add(e.toString())})}Ps(t){return 0}ks(t,e){return Oe.or([()=>Oe.resolve(this.Ds.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ss(t,e)])}}function zz(n,t){return`firestore_clients_${n}_${t}`}function Gz(n,t,e){let r=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function bL(n,t){return`firestore_targets_${n}_${t}`}class yP{constructor(t,e,r,i){this.user=t,this.batchId=e,this.state=r,this.error=i}static $s(t,e,r){const i=JSON.parse(r);let a,d="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return d&&i.error&&(d="string"==typeof i.error.message&&"string"==typeof i.error.code,d&&(a=new Ie(i.error.code,i.error.message))),d?new yP(t,e,i.state,a):(ii("SharedClientState",`Failed to parse mutation state for ID '${e}': ${r}`),null)}Os(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class lM{constructor(t,e,r){this.targetId=t,this.state=e,this.error=r}static $s(t,e){const r=JSON.parse(e);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Ie(r.error.code,r.error.message))),a?new lM(t,r.state,i):(ii("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Os(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class bP{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static $s(t,e){const r=JSON.parse(e);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=cP();for(let d=0;i&&d<r.activeTargetIds.length;++d)i=b6(r.activeTargetIds[d]),a=a.add(r.activeTargetIds[d]);return i?new bP(t,a):(ii("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class vL{constructor(t,e){this.clientId=t,this.onlineState=e}static $s(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new vL(e.clientId,e.onlineState):(ii("SharedClientState",`Failed to parse online state: ${t}`),null)}}class CL{constructor(){this.activeTargetIds=cP()}Fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ms(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Os(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class wL{constructor(t,e,r,i,a){this.window=t,this.Oe=e,this.persistenceKey=r,this.Ls=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new wi(Kt),this.started=!1,this.Ks=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.js=zz(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new CL),this.Ws=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(f){return`firestore_bundle_loaded_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,_e.Z)(function*(){const e=yield t.syncEngine.pn();for(const i of e){if(i===t.Ls)continue;const a=t.getItem(zz(t.persistenceKey,i));if(a){const d=bP.$s(i,a);d&&(t.qs=t.qs.insert(d.clientId,d))}}t.Ys();const r=t.storage.getItem(t.Hs);if(r){const i=t.Xs(r);i&&t.Zs(i)}for(const i of t.Ks)t.Us(i);t.Ks=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Qs,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(t){let e=!1;return this.qs.forEach((r,i)=>{i.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.ei(t,"pending")}updateMutationState(t,e,r){this.ei(t,e,r),this.ni(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const r=this.storage.getItem(bL(this.persistenceKey,t));if(r){const i=lM.$s(t,r);i&&(e=i.state)}}return this.si.Fs(t),this.Ys(),e}removeLocalQueryTarget(t){this.si.Ms(t),this.Ys()}isLocalQueryTarget(t){return this.si.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(bL(this.persistenceKey,t))}updateQueryState(t,e,r){this.ii(t,e,r)}handleUserChange(t,e,r){e.forEach(i=>{this.ni(i)}),this.currentUser=t,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(t){this.ri(t)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Fe("SharedClientState","READ",t,e),e}setItem(t,e){Fe("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Fe("SharedClientState","REMOVE",t),this.storage.removeItem(t)}Us(t){var e=this;const r=t;if(r.storageArea===this.storage){if(Fe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.js)return void ii("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,_e.Z)(function*(){if(e.started){if(null!==r.key)if(e.Ws.test(r.key)){if(null==r.newValue){const i=e.ci(r.key);return e.ai(i,null)}{const i=e.ui(r.key,r.newValue);if(i)return e.ai(i.clientId,i)}}else if(e.Gs.test(r.key)){if(null!==r.newValue){const i=e.hi(r.key,r.newValue);if(i)return e.li(i)}}else if(e.zs.test(r.key)){if(null!==r.newValue){const i=e.fi(r.key,r.newValue);if(i)return e.di(i)}}else if(r.key===e.Hs){if(null!==r.newValue){const i=e.Xs(r.newValue);if(i)return e.Zs(i)}}else if(r.key===e.Qs){const i=function(a){let d=va.T;if(null!=a)try{const f=JSON.parse(a);vt("number"==typeof f),d=f}catch(f){ii("SharedClientState","Failed to read sequence number from WebStorage",f)}return d}(r.newValue);i!==va.T&&e.sequenceNumberHandler(i)}else if(r.key===e.Js)return e.syncEngine.wi()}else e.Ks.push(r)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(t,e,r){const i=new yP(this.currentUser,t,e,r),a=Gz(this.persistenceKey,this.currentUser,t);this.setItem(a,i.Os())}ni(t){const e=Gz(this.persistenceKey,this.currentUser,t);this.removeItem(e)}ri(t){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:t}))}ii(t,e,r){const i=bL(this.persistenceKey,t),a=new lM(t,e,r);this.setItem(i,a.Os())}oi(){this.setItem(this.Js,"value-not-used")}ci(t){const e=this.Ws.exec(t);return e?e[1]:null}ui(t,e){const r=this.ci(t);return bP.$s(r,e)}hi(t,e){const r=this.Gs.exec(t),i=Number(r[1]);return yP.$s(new mo(void 0!==r[2]?r[2]:null),i,e)}fi(t,e){const r=this.zs.exec(t),i=Number(r[1]);return lM.$s(i,e)}Xs(t){return vL.$s(t)}li(t){var e=this;return(0,_e.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine._i(t.batchId,t.state,t.error);Fe("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}di(t){return this.syncEngine.mi(t.targetId,t.state,t.error)}ai(t,e){const r=e?this.qs.insert(t,e):this.qs.remove(t),i=this.ti(this.qs),a=this.ti(r),d=[],f=[];return a.forEach(m=>{i.has(m)||d.push(m)}),i.forEach(m=>{a.has(m)||f.push(m)}),this.syncEngine.gi(d,f).then(()=>{this.qs=r})}Zs(t){this.qs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ti(t){let e=cP();return t.forEach((r,i)=>{e=e.unionWith(i.activeTargetIds)}),e}}class $z{constructor(){this.yi=new CL,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,r){}addLocalQueryTarget(t){return this.yi.Fs(t),this.pi[t]||"not-current"}updateQueryState(t,e,r){this.pi[t]=e}removeLocalQueryTarget(t){this.yi.Ms(t)}isLocalQueryTarget(t){return this.yi.activeTargetIds.has(t)}clearQueryState(t){delete this.pi[t]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(t){return this.yi.activeTargetIds.has(t)}start(){return this.yi=new CL,Promise.resolve()}handleUserChange(t,e,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(){}}class CK{Ti(t){}shutdown(){}}class qz{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(t){this.bi.push(t)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.bi)t(0)}Ri(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.bi)t(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const wK={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class EK{constructor(t){this.vi=t.vi,this.Vi=t.Vi}Si(t){this.Di=t}Ci(t){this.Ni=t}onMessage(t){this.xi=t}close(){this.Vi()}send(t){this.vi(t)}ki(){this.Di()}$i(t){this.Ni(t)}Oi(t){this.xi(t)}}class MK extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Fi=(t.ssl?"https":"http")+"://"+t.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(t,e,r,i){const a=this.Bi(t,e);Fe("RestConnection","Sending: ",a,r);const d={};return this.Ui(d,i),this.qi(t,a,d,r).then(f=>(Fe("RestConnection","Received: ",f),f),f=>{throw jE("RestConnection",`${t} failed with error: `,f,"url: ",a,"request:",r),f})}Ki(t,e,r,i){return this.Li(t,e,r,i)}Ui(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/"+nv,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(const r in e.authHeaders)e.authHeaders.hasOwnProperty(r)&&(t[r]=e.authHeaders[r])}Bi(t,e){return`${this.Fi}/v1/${e}:${wK[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}qi(t,e,r,i){return new Promise((a,d)=>{const f=new q7;f.listenOnce(z7.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case NN.NO_ERROR:const C=f.getResponseJson();Fe("Connection","XHR received:",JSON.stringify(C)),a(C);break;case NN.TIMEOUT:Fe("Connection",'RPC "'+t+'" timed out'),d(new Ie(ge.DEADLINE_EXCEEDED,"Request time out"));break;case NN.HTTP_ERROR:const M=f.getStatus();if(Fe("Connection",'RPC "'+t+'" failed with status:',M,"response text:",f.getResponseText()),M>0){const T=f.getResponseJson().error;if(T&&T.status&&T.message){const x=function(R){const j=R.toLowerCase().replace(/_/g,"-");return Object.values(ge).indexOf(j)>=0?j:ge.UNKNOWN}(T.status);d(new Ie(x,T.message))}else d(new Ie(ge.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Ie(ge.UNAVAILABLE,"Connection failed."));break;default:st()}}finally{Fe("Connection",'RPC "'+t+'" completed.')}});const m=JSON.stringify(i);f.send(e,"POST",m,r,15)})}ji(t,e){const r=[this.Fi,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=H7(),a=j7(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(d.xmlHttpFactory=new $7({})),this.Ui(d.initMessageHeaders,e),(0,L.uI)()||(0,L.b$)()||(0,L.d)()||(0,L.w1)()||(0,L.Mn)()||(0,L.ru)()||(d.httpHeadersOverwriteParam="$httpHeaders");const f=r.join("");Fe("Connection","Creating WebChannel: "+f,d);const m=i.createWebChannel(f,d);let C=!1,M=!1;const T=new EK({vi:R=>{M?Fe("Connection","Not sending because WebChannel is closed:",R):(C||(Fe("Connection","Opening WebChannel transport."),m.open(),C=!0),Fe("Connection","WebChannel sending:",R),m.send(R))},Vi:()=>m.close()}),x=(R,j,ie)=>{R.listen(j,pe=>{try{ie(pe)}catch(Ae){setTimeout(()=>{throw Ae},0)}})};return x(m,KS.EventType.OPEN,()=>{M||Fe("Connection","WebChannel transport opened.")}),x(m,KS.EventType.CLOSE,()=>{M||(M=!0,Fe("Connection","WebChannel transport closed"),T.$i())}),x(m,KS.EventType.ERROR,R=>{M||(M=!0,jE("Connection","WebChannel transport errored:",R),T.$i(new Ie(ge.UNAVAILABLE,"The operation could not be completed")))}),x(m,KS.EventType.MESSAGE,R=>{var j;if(!M){const ie=R.data[0];vt(!!ie);const pe=ie,Ae=pe.error||(null===(j=pe[0])||void 0===j?void 0:j.error);if(Ae){Fe("Connection","WebChannel received error:",Ae);const Ge=Ae.status;let et=function(vn){const Mr=ai[vn];if(void 0!==Mr)return q6(Mr)}(Ge),tt=Ae.message;void 0===et&&(et=ge.INTERNAL,tt="Unknown error status: "+Ge+" with message "+Ae.message),M=!0,T.$i(new Ie(et,tt)),m.close()}else Fe("Connection","WebChannel received:",ie),T.Oi(ie)}}),x(a,G7.STAT_EVENT,R=>{R.stat===d6.PROXY?Fe("Connection","Detected buffering proxy"):R.stat===d6.NOPROXY&&Fe("Connection","Detected no buffering proxy")}),setTimeout(()=>{T.ki()},0),T}}function Wz(){return"undefined"!=typeof window?window:null}function vP(){return"undefined"!=typeof document?document:null}function cM(n){return new AY(n,!0)}class EL{constructor(t,e,r=1e3,i=1.5,a=6e4){this.Oe=t,this.timerId=e,this.Qi=r,this.Wi=i,this.Gi=a,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(t){this.cancel();const e=Math.floor(this.zi+this.Zi()),r=Math.max(0,Date.now()-this.Ji),i=Math.max(0,e-r);i>0&&Fe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.zi} ms, delay with jitter: ${e} ms, last attempt: ${r} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,i,()=>(this.Ji=Date.now(),t())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class Zz{constructor(t,e,r,i,a,d,f){this.Oe=t,this.er=r,this.nr=i,this.sr=a,this.credentialsProvider=d,this.listener=f,this.state=0,this.ir=0,this.rr=null,this.cr=null,this.stream=null,this.ar=new EL(t,e)}ur(){return 1===this.state||5===this.state||this.hr()}hr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.lr()}stop(){var t=this;return(0,_e.Z)(function*(){t.ur()&&(yield t.close(0))})()}dr(){this.state=0,this.ar.reset()}wr(){this.hr()&&null===this.rr&&(this.rr=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this._r()))}mr(t){this.gr(),this.stream.send(t)}_r(){var t=this;return(0,_e.Z)(function*(){if(t.hr())return t.close(0)})()}gr(){this.rr&&(this.rr.cancel(),this.rr=null)}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(t,e){var r=this;return(0,_e.Z)(function*(){r.gr(),r.yr(),r.ar.cancel(),r.ir++,4!==t?r.ar.reset():e&&e.code===ge.RESOURCE_EXHAUSTED?(ii(e.toString()),ii("Using maximum backoff delay to prevent overloading the backend."),r.ar.Yi()):e&&e.code===ge.UNAUTHENTICATED&&3!==r.state&&r.credentialsProvider.invalidateToken(),null!==r.stream&&(r.pr(),r.stream.close(),r.stream=null),r.state=t,yield r.listener.Ci(e)})()}pr(){}auth(){this.state=1;const t=this.Tr(this.ir),e=this.ir;this.credentialsProvider.getToken().then(r=>{this.ir===e&&this.Er(r)},r=>{t(()=>{const i=new Ie(ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ir(i)})})}Er(t){const e=this.Tr(this.ir);this.stream=this.Ar(t),this.stream.Si(()=>{e(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.nr,1e4,()=>(this.hr()&&(this.state=3),Promise.resolve())),this.listener.Si()))}),this.stream.Ci(r=>{e(()=>this.Ir(r))}),this.stream.onMessage(r=>{e(()=>this.onMessage(r))})}lr(){var t=this;this.state=5,this.ar.Xi((0,_e.Z)(function*(){t.state=0,t.start()}))}Ir(t){return Fe("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Tr(t){return e=>{this.Oe.enqueueAndForget(()=>this.ir===t?e():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class DK extends Zz{constructor(t,e,r,i,a){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,r,a),this.N=i}Ar(t){return this.sr.ji("Listen",t)}onMessage(t){this.ar.reset();const e=function(n,t){let e;if("targetChange"in t){const r="NO_CHANGE"===(m=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:st(),i=t.targetChange.targetIds||[],a=function(m,C){return m.D?(vt(void 0===C||"string"==typeof C),Gi.fromBase64String(C||"")):(vt(void 0===C||C instanceof Uint8Array),Gi.fromUint8Array(C||new Uint8Array))}(n,t.targetChange.resumeToken),d=t.targetChange.cause,f=d&&function(m){const C=void 0===m.code?ge.UNKNOWN:q6(m.code);return new Ie(C,m.message||"")}(d);e=new K6(r,i,a,f||null)}else if("documentChange"in t){const r=t.documentChange,i=Hu(n,r.document.name),a=$i(r.document.updateTime),d=new Vo({mapValue:{fields:r.document.fields}}),f=hr.newFoundDocument(i,a,d);e=new uP(r.targetIds||[],r.removedTargetIds||[],f.key,f)}else if("documentDelete"in t){const r=t.documentDelete,i=Hu(n,r.document),a=r.readTime?$i(r.readTime):Rt.min(),d=hr.newNoDocument(i,a);e=new uP([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in t){const r=t.documentRemove,i=Hu(n,r.document);e=new uP([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return st();{const r=t.filter,a=new wY(r.count||0);e=new Y6(r.targetId,a)}}var m;return e}(this.N,t),r=function(i){if(!("targetChange"in i))return Rt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Rt.min():a.readTime?$i(a.readTime):Rt.min()}(t);return this.listener.Rr(e,r)}br(t){const e={};e.database=iM(this.N),e.addTarget=function(i,a){let d;const f=a.target;return d=tP(f)?{documents:az(i,f)}:{query:lz(i,f)},d.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?d.resumeToken=ez(i,a.resumeToken):a.snapshotVersion.compareTo(Rt.min())>0&&(d.readTime=nM(i,a.snapshotVersion.toTimestamp())),d}(this.N,t);const r=function(n,t){const e=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return st()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);r&&(e.labels=r),this.mr(e)}Pr(t){const e={};e.database=iM(this.N),e.removeTarget=t,this.mr(e)}}class OK extends Zz{constructor(t,e,r,i,a){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,r,a),this.N=i,this.vr=!1}get Vr(){return this.vr}start(){this.vr=!1,this.lastStreamToken=void 0,super.start()}pr(){this.vr&&this.Sr([])}Ar(t){return this.sr.ji("Write",t)}onMessage(t){if(vt(!!t.streamToken),this.lastStreamToken=t.streamToken,this.vr){this.ar.reset();const e=function(n,t){return n&&n.length>0?(vt(void 0!==t),n.map(e=>function(r,i){let a=$i(r.updateTime?r.updateTime:i);return a.isEqual(Rt.min())&&(a=$i(i)),new bY(a,r.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),r=$i(t.commitTime);return this.listener.Dr(r,e)}return vt(!t.writeResults||0===t.writeResults.length),this.vr=!0,this.listener.Cr()}Nr(){const t={};t.database=iM(this.N),this.mr(t)}Sr(t){const e={streamToken:this.lastStreamToken,writes:t.map(r=>dP(this.N,r))};this.mr(e)}}class TK extends class{}{constructor(t,e,r){super(),this.credentials=t,this.sr=e,this.N=r,this.kr=!1}$r(){if(this.kr)throw new Ie(ge.FAILED_PRECONDITION,"The client has already been terminated.")}Li(t,e,r){return this.$r(),this.credentials.getToken().then(i=>this.sr.Li(t,e,r,i)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ge.UNAUTHENTICATED&&this.credentials.invalidateToken(),i):new Ie(ge.UNKNOWN,i.toString())})}Ki(t,e,r){return this.$r(),this.credentials.getToken().then(i=>this.sr.Ki(t,e,r,i)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ge.UNAUTHENTICATED&&this.credentials.invalidateToken(),i):new Ie(ge.UNKNOWN,i.toString())})}terminate(){this.kr=!0}}class IK{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Or=0,this.Fr=null,this.Mr=!0}Lr(){0===this.Or&&(this.Br("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.Ur("Backend didn't respond within 10 seconds."),this.Br("Offline"),Promise.resolve())))}qr(t){"Online"===this.state?this.Br("Unknown"):(this.Or++,this.Or>=1&&(this.Kr(),this.Ur(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.Br("Offline")))}set(t){this.Kr(),this.Or=0,"Online"===t&&(this.Mr=!1),this.Br(t)}Br(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}Ur(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Mr?(ii(e),this.Mr=!1):Fe("OnlineStateTracker",e)}Kr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class SK{constructor(t,e,r,i,a){var d=this;this.localStore=t,this.datastore=e,this.asyncQueue=r,this.remoteSyncer={},this.jr=[],this.Qr=new Map,this.Wr=new Set,this.Gr=[],this.zr=a,this.zr.Ti(f=>{r.enqueueAndForget((0,_e.Z)(function*(){var m;Mp(d)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield(m=(0,_e.Z)(function*(C){const M=Be(C);M.Wr.add(4),yield Mv(M),M.Hr.set("Unknown"),M.Wr.delete(4),yield uM(M)}),function(C){return m.apply(this,arguments)})(d))}))}),this.Hr=new IK(r,i)}}function uM(n){return ML.apply(this,arguments)}function ML(){return(ML=(0,_e.Z)(function*(n){if(Mp(n))for(const t of n.Gr)yield t(!0)})).apply(this,arguments)}function Mv(n){return DL.apply(this,arguments)}function DL(){return(DL=(0,_e.Z)(function*(n){for(const t of n.Gr)yield t(!1)})).apply(this,arguments)}function CP(n,t){const e=Be(n);e.Qr.has(t.targetId)||(e.Qr.set(t.targetId,t),IL(e)?TL(e):Ov(e).hr()&&OL(e,t))}function dM(n,t){const e=Be(n),r=Ov(e);e.Qr.delete(t),r.hr()&&Yz(e,t),0===e.Qr.size&&(r.hr()?r.wr():Mp(e)&&e.Hr.set("Unknown"))}function OL(n,t){n.Jr.Y(t.targetId),Ov(n).br(t)}function Yz(n,t){n.Jr.Y(t),Ov(n).Pr(t)}function TL(n){n.Jr=new IY({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),Tt:t=>n.Qr.get(t)||null}),Ov(n).start(),n.Hr.Lr()}function IL(n){return Mp(n)&&!Ov(n).ur()&&n.Qr.size>0}function Mp(n){return 0===Be(n).Wr.size}function Kz(n){n.Jr=void 0}function PK(n){return SL.apply(this,arguments)}function SL(){return(SL=(0,_e.Z)(function*(n){n.Qr.forEach((t,e)=>{OL(n,t)})})).apply(this,arguments)}function AK(n,t){return PL.apply(this,arguments)}function PL(){return(PL=(0,_e.Z)(function*(n,t){Kz(n),IL(n)?(n.Hr.qr(t),TL(n)):n.Hr.set("Unknown")})).apply(this,arguments)}function xK(n,t,e){return AL.apply(this,arguments)}function AL(){return(AL=(0,_e.Z)(function*(n,t,e){if(n.Hr.set("Online"),t instanceof K6&&2===t.state&&t.cause)try{yield(r=(0,_e.Z)(function*(i,a){const d=a.cause;for(const f of a.targetIds)i.Qr.has(f)&&(yield i.remoteSyncer.rejectListen(f,d),i.Qr.delete(f),i.Jr.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(n,t)}catch(r){Fe("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),yield wP(n,r)}else if(t instanceof uP?n.Jr.rt(t):t instanceof Y6?n.Jr.ft(t):n.Jr.at(t),!e.isEqual(Rt.min()))try{const r=yield Bz(n.localStore);e.compareTo(r)>=0&&(yield function(i,a){const d=i.Jr._t(a);return d.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const C=i.Qr.get(m);C&&i.Qr.set(m,C.withResumeToken(f.resumeToken,a))}}),d.targetMismatches.forEach(f=>{const m=i.Qr.get(f);if(!m)return;i.Qr.set(f,m.withResumeToken(Gi.EMPTY_BYTE_STRING,m.snapshotVersion)),Yz(i,f);const C=new vp(m.target,f,1,m.sequenceNumber);OL(i,C)}),i.remoteSyncer.applyRemoteEvent(d)}(n,e))}catch(r){Fe("RemoteStore","Failed to raise snapshot:",r),yield wP(n,r)}var r})).apply(this,arguments)}function wP(n,t,e){return xL.apply(this,arguments)}function xL(){return(xL=(0,_e.Z)(function*(n,t,e){if(!Km(t))throw t;n.Wr.add(1),yield Mv(n),n.Hr.set("Offline"),e||(e=()=>Bz(n.localStore)),n.asyncQueue.enqueueRetryable((0,_e.Z)(function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield e(),n.Wr.delete(1),yield uM(n)}))})).apply(this,arguments)}function Qz(n,t){return t().catch(e=>wP(n,e,t))}function Dv(n){return FL.apply(this,arguments)}function FL(){return(FL=(0,_e.Z)(function*(n){const t=Be(n),e=Dp(t);let r=t.jr.length>0?t.jr[t.jr.length-1].batchId:-1;for(;FK(t);)try{const i=yield uK(t.localStore,r);if(null===i){0===t.jr.length&&e.wr();break}r=i.batchId,kK(t,i)}catch(i){yield wP(t,i)}Jz(t)&&Xz(t)})).apply(this,arguments)}function FK(n){return Mp(n)&&n.jr.length<10}function kK(n,t){n.jr.push(t);const e=Dp(n);e.hr()&&e.Vr&&e.Sr(t.mutations)}function Jz(n){return Mp(n)&&!Dp(n).ur()&&n.jr.length>0}function Xz(n){Dp(n).start()}function RK(n){return kL.apply(this,arguments)}function kL(){return(kL=(0,_e.Z)(function*(n){Dp(n).Nr()})).apply(this,arguments)}function NK(n){return RL.apply(this,arguments)}function RL(){return(RL=(0,_e.Z)(function*(n){const t=Dp(n);for(const e of n.jr)t.Sr(e.mutations)})).apply(this,arguments)}function LK(n,t,e){return NL.apply(this,arguments)}function NL(){return(NL=(0,_e.Z)(function*(n,t,e){const r=n.jr.shift(),i=tL.from(r,t,e);yield Qz(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Dv(n)})).apply(this,arguments)}function VK(n,t){return LL.apply(this,arguments)}function LL(){return(LL=(0,_e.Z)(function*(n,t){var e;t&&Dp(n).Vr&&(yield(e=(0,_e.Z)(function*(r,i){if($6(a=i.code)&&a!==ge.ABORTED){const d=r.jr.shift();Dp(r).dr(),yield Qz(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,i)),yield Dv(r)}var a}),function(r,i){return e.apply(this,arguments)})(n,t)),Jz(n)&&Xz(n)})).apply(this,arguments)}function VL(n,t){return BL.apply(this,arguments)}function BL(){return(BL=(0,_e.Z)(function*(n,t){const e=Be(n);t?(e.Wr.delete(2),yield uM(e)):t||(e.Wr.add(2),yield Mv(e),e.Hr.set("Unknown"))})).apply(this,arguments)}function Ov(n){return n.Yr||(n.Yr=function(t,e,r){const i=Be(t);return i.$r(),new DK(e,i.sr,i.credentials,i.N,r)}(n.datastore,n.asyncQueue,{Si:PK.bind(null,n),Ci:AK.bind(null,n),Rr:xK.bind(null,n)}),n.Gr.push(function(){var t=(0,_e.Z)(function*(e){e?(n.Yr.dr(),IL(n)?TL(n):n.Hr.set("Unknown")):(yield n.Yr.stop(),Kz(n))});return function(e){return t.apply(this,arguments)}}())),n.Yr}function Dp(n){return n.Xr||(n.Xr=function(t,e,r){const i=Be(t);return i.$r(),new OK(e,i.sr,i.credentials,i.N,r)}(n.datastore,n.asyncQueue,{Si:RK.bind(null,n),Ci:VK.bind(null,n),Cr:NK.bind(null,n),Dr:LK.bind(null,n)}),n.Gr.push(function(){var t=(0,_e.Z)(function*(e){e?(n.Xr.dr(),yield Dv(n)):(yield n.Xr.stop(),n.jr.length>0&&(Fe("RemoteStore",`Stopping write stream with ${n.jr.length} pending writes`),n.jr=[]))});return function(e){return t.apply(this,arguments)}}())),n.Xr}class UL{constructor(t,e,r,i,a){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(t,e,r,i,a){const d=Date.now()+r,f=new UL(t,e,d,i,a);return f.start(r),f}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ie(ge.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Tv(n,t){if(ii("AsyncQueue",`${t}: ${n}`),Km(n))return new Ie(ge.UNAVAILABLE,`${t}: ${n}`);throw n}class Iv{constructor(t){this.comparator=t?(e,r)=>t(e,r)||ot.comparator(e.key,r.key):(e,r)=>ot.comparator(e.key,r.key),this.keyedMap=KN(),this.sortedSet=new wi(this.comparator)}static emptySet(t){return new Iv(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,r)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Iv)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;e.hasNext();){const i=e.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const r=new Iv;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=e,r}}class eG{constructor(){this.Zr=new wi(ot.comparator)}track(t){const e=t.doc.key,r=this.Zr.get(e);r?0!==t.type&&3===r.type?this.Zr=this.Zr.insert(e,t):3===t.type&&1!==r.type?this.Zr=this.Zr.insert(e,{type:r.type,doc:t.doc}):2===t.type&&2===r.type?this.Zr=this.Zr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===r.type?this.Zr=this.Zr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===r.type?this.Zr=this.Zr.remove(e):1===t.type&&2===r.type?this.Zr=this.Zr.insert(e,{type:1,doc:r.doc}):0===t.type&&1===r.type?this.Zr=this.Zr.insert(e,{type:2,doc:t.doc}):st():this.Zr=this.Zr.insert(e,t)}eo(){const t=[];return this.Zr.inorderTraversal((e,r)=>{t.push(r)}),t}}class Sv{constructor(t,e,r,i,a,d,f,m){this.query=t,this.docs=e,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=d,this.syncStateChanged=f,this.excludesMetadataChanges=m}static fromInitialDocuments(t,e,r,i){const a=[];return e.forEach(d=>{a.push({type:0,doc:d})}),new Sv(t,e,Iv.emptySet(e),a,r,i,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&YE(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,r=t.docChanges;if(e.length!==r.length)return!1;for(let i=0;i<e.length;i++)if(e[i].type!==r[i].type||!e[i].doc.isEqual(r[i].doc))return!1;return!0}}class BK{constructor(){this.no=void 0,this.listeners=[]}}class UK{constructor(){this.queries=new Cv(t=>P6(t),YE),this.onlineState="Unknown",this.so=new Set}}function HL(n,t){return jL.apply(this,arguments)}function jL(){return(jL=(0,_e.Z)(function*(n,t){const e=Be(n),r=t.query;let i=!1,a=e.queries.get(r);if(a||(i=!0,a=new BK),i)try{a.no=yield e.onListen(r)}catch(d){const f=Tv(d,`Initialization of query '${WN(t.query)}' failed`);return void t.onError(f)}e.queries.set(r,a),a.listeners.push(t),t.io(e.onlineState),a.no&&t.ro(a.no)&&$L(e)})).apply(this,arguments)}function zL(n,t){return GL.apply(this,arguments)}function GL(){return(GL=(0,_e.Z)(function*(n,t){const e=Be(n),r=t.query;let i=!1;const a=e.queries.get(r);if(a){const d=a.listeners.indexOf(t);d>=0&&(a.listeners.splice(d,1),i=0===a.listeners.length)}if(i)return e.queries.delete(r),e.onUnlisten(r)})).apply(this,arguments)}function HK(n,t){const e=Be(n);let r=!1;for(const i of t){const d=e.queries.get(i.query);if(d){for(const f of d.listeners)f.ro(i)&&(r=!0);d.no=i}}r&&$L(e)}function jK(n,t,e){const r=Be(n),i=r.queries.get(t);if(i)for(const a of i.listeners)a.onError(e);r.queries.delete(t)}function $L(n){n.so.forEach(t=>{t.next()})}class qL{constructor(t,e,r){this.query=t,this.oo=e,this.co=!1,this.ao=null,this.onlineState="Unknown",this.options=r||{}}ro(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)3!==i.type&&r.push(i);t=new Sv(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.co?this.uo(t)&&(this.oo.next(t),e=!0):this.ho(t,this.onlineState)&&(this.lo(t),e=!0),this.ao=t,e}onError(t){this.oo.error(t)}io(t){this.onlineState=t;let e=!1;return this.ao&&!this.co&&this.ho(this.ao,t)&&(this.lo(this.ao),e=!0),e}ho(t,e){return!t.fromCache||!(this.options.fo&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}uo(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ao&&this.ao.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}lo(t){t=Sv.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.co=!0,this.oo.next(t)}}class zK{constructor(t,e){this.payload=t,this.byteLength=e}wo(){return"metadata"in this.payload}}class tG{constructor(t){this.N=t}zn(t){return Hu(this.N,t)}Hn(t){return t.metadata.exists?oz(this.N,t.document,!1):hr.newNoDocument(this.zn(t.metadata.name),this.Jn(t.metadata.readTime))}Jn(t){return $i(t)}}class GK{constructor(t,e,r){this._o=t,this.localStore=e,this.N=r,this.queries=[],this.documents=[],this.progress=nG(t)}mo(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}yo(t){const e=new Map,r=new tG(this.N);for(const i of t)if(i.metadata.queries){const a=r.zn(i.metadata.name);for(const d of i.metadata.queries){const f=(e.get(d)||bn()).add(a);e.set(d,f)}}return e}complete(){var t=this;return(0,_e.Z)(function*(){const e=yield function(n,t,e,r){return gL.apply(this,arguments)}(t.localStore,new tG(t.N),t.documents,t._o.id),r=t.yo(t.documents);for(const i of t.queries)yield fK(t.localStore,i,r.get(i.name));return t.progress.taskState="Success",new sK(Object.assign({},t.progress),e)})()}}function nG(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class rG{constructor(t){this.key=t}}class iG{constructor(t){this.key=t}}class oG{constructor(t,e){this.query=t,this.po=e,this.To=null,this.current=!1,this.Eo=bn(),this.mutatedKeys=bn(),this.Io=A6(t),this.Ao=new Iv(this.Io)}get Ro(){return this.po}bo(t,e){const r=e?e.Po:new eG,i=e?e.Ao:this.Ao;let a=e?e.mutatedKeys:this.mutatedKeys,d=i,f=!1;const m=rP(this.query)&&i.size===this.query.limit?i.last():null,C=iP(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((M,T)=>{const x=i.get(M),R=KE(this.query,T)?T:null,j=!!x&&this.mutatedKeys.has(x.key),ie=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let pe=!1;x&&R?x.data.isEqual(R.data)?j!==ie&&(r.track({type:3,doc:R}),pe=!0):this.vo(x,R)||(r.track({type:2,doc:R}),pe=!0,(m&&this.Io(R,m)>0||C&&this.Io(R,C)<0)&&(f=!0)):!x&&R?(r.track({type:0,doc:R}),pe=!0):x&&!R&&(r.track({type:1,doc:x}),pe=!0,(m||C)&&(f=!0)),pe&&(R?(d=d.add(R),a=ie?a.add(M):a.delete(M)):(d=d.delete(M),a=a.delete(M)))}),rP(this.query)||iP(this.query))for(;d.size>this.query.limit;){const M=rP(this.query)?d.last():d.first();d=d.delete(M.key),a=a.delete(M.key),r.track({type:1,doc:M})}return{Ao:d,Po:r,Ln:f,mutatedKeys:a}}vo(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,r){const i=this.Ao;this.Ao=t.Ao,this.mutatedKeys=t.mutatedKeys;const a=t.Po.eo();a.sort((C,M)=>function(T,x){const R=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return st()}};return R(T)-R(x)}(C.type,M.type)||this.Io(C.doc,M.doc)),this.Vo(r);const d=e?this.So():[],f=0===this.Eo.size&&this.current?1:0,m=f!==this.To;return this.To=f,0!==a.length||m?{snapshot:new Sv(this.query,t.Ao,i,a,t.mutatedKeys,0===f,m,!1),Do:d}:{Do:d}}io(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Ao:this.Ao,Po:new eG,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{Do:[]}}Co(t){return!this.po.has(t)&&!!this.Ao.has(t)&&!this.Ao.get(t).hasLocalMutations}Vo(t){t&&(t.addedDocuments.forEach(e=>this.po=this.po.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.po=this.po.delete(e)),this.current=t.current)}So(){if(!this.current)return[];const t=this.Eo;this.Eo=bn(),this.Ao.forEach(r=>{this.Co(r.key)&&(this.Eo=this.Eo.add(r.key))});const e=[];return t.forEach(r=>{this.Eo.has(r)||e.push(new iG(r))}),this.Eo.forEach(r=>{t.has(r)||e.push(new rG(r))}),e}No(t){this.po=t.Gn,this.Eo=bn();const e=this.bo(t.documents);return this.applyChanges(e,!0)}xo(){return Sv.fromInitialDocuments(this.query,this.Ao,this.mutatedKeys,0===this.To)}}class $K{constructor(t,e,r){this.query=t,this.targetId=e,this.view=r}}class qK{constructor(t){this.key=t,this.ko=!1}}class WK{constructor(t,e,r,i,a,d){this.localStore=t,this.remoteStore=e,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=d,this.$o={},this.Oo=new Cv(f=>P6(f),YE),this.Fo=new Map,this.Mo=new Set,this.Lo=new wi(ot.comparator),this.Bo=new Map,this.Uo=new _L,this.qo={},this.Ko=new Map,this.jo=Jm.ie(),this.onlineState="Unknown",this.Qo=void 0}get isPrimaryClient(){return!0===this.Qo}}function ZK(n,t){return WL.apply(this,arguments)}function WL(){return(WL=(0,_e.Z)(function*(n,t){const e=_2(n);let r,i;const a=e.Oo.get(t);if(a)r=a.targetId,e.sharedClientState.addLocalQueryTarget(r),i=a.view.xo();else{const d=yield wv(e.localStore,Cl(t)),f=e.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,i=yield ZL(e,t,r,"current"===f),e.isPrimaryClient&&CP(e.remoteStore,d)}return i})).apply(this,arguments)}function ZL(n,t,e,r){return YL.apply(this,arguments)}function YL(){return(YL=(0,_e.Z)(function*(n,t,e,r){n.Wo=(M,T,x)=>{return(R=(0,_e.Z)(function*(j,ie,pe,Ae){let Ge=ie.view.bo(pe);Ge.Ln&&(Ge=yield _P(j.localStore,ie.query,!1).then(({documents:vn})=>ie.view.bo(vn,Ge)));const et=Ae&&Ae.targetChanges.get(ie.targetId),tt=ie.view.applyChanges(Ge,j.isPrimaryClient,et);return s2(j,ie.targetId,tt.Do),tt.snapshot}),function(j,ie,pe,Ae){return R.apply(this,arguments)})(n,M,T,x);var R};const i=yield _P(n.localStore,t,!0),a=new oG(t,i.Gn),d=a.bo(i.documents),f=tM.createSynthesizedTargetChangeForCurrentChange(e,r&&"Offline"!==n.onlineState),m=a.applyChanges(d,n.isPrimaryClient,f);s2(n,e,m.Do);const C=new $K(t,e,a);return n.Oo.set(t,C),n.Fo.has(e)?n.Fo.get(e).push(t):n.Fo.set(e,[t]),m.snapshot})).apply(this,arguments)}function YK(n,t){return KL.apply(this,arguments)}function KL(){return(KL=(0,_e.Z)(function*(n,t){const e=Be(n),r=e.Oo.get(t),i=e.Fo.get(r.targetId);if(i.length>1)return e.Fo.set(r.targetId,i.filter(a=>!YE(a,t))),void e.Oo.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(r.targetId),e.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ev(e.localStore,r.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(r.targetId),dM(e.remoteStore,r.targetId),Pv(e,r.targetId)}).catch(Xm))):(Pv(e,r.targetId),yield Ev(e.localStore,r.targetId,!0))})).apply(this,arguments)}function QL(){return(QL=(0,_e.Z)(function*(n,t,e){const r=y2(n);try{const i=yield function(a,d){const f=Be(a),m=zi.now(),C=d.reduce((T,x)=>T.add(x.key),bn());let M;return f.persistence.runTransaction("Locally write mutations","readwrite",T=>f.Qn.Pn(T,C).next(x=>{M=x;const R=[];for(const j of d){const ie=CY(j,M.get(j.key));null!=ie&&R.push(new yp(j.key,ie,E6(ie.value.mapValue),si.exists(!0)))}return f.In.addMutationBatch(T,m,R,d)})).then(T=>(T.applyToLocalDocumentSet(M),{batchId:T.batchId,changes:M}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(a,d,f){let m=a.qo[a.currentUser.toKey()];m||(m=new wi(Kt)),m=m.insert(d,f),a.qo[a.currentUser.toKey()]=m}(r,i.batchId,e),yield Eh(r,i.changes),yield Dv(r.remoteStore)}catch(i){const a=Tv(i,"Failed to persist write");e.reject(a)}})).apply(this,arguments)}function sG(n,t){return JL.apply(this,arguments)}function JL(){return(JL=(0,_e.Z)(function*(n,t){const e=Be(n);try{const r=yield cK(e.localStore,t);t.targetChanges.forEach((i,a)=>{const d=e.Bo.get(a);d&&(vt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?d.ko=!0:i.modifiedDocuments.size>0?vt(d.ko):i.removedDocuments.size>0&&(vt(d.ko),d.ko=!1))}),yield Eh(e,r,t)}catch(r){yield Xm(r)}})).apply(this,arguments)}function aG(n,t,e){const r=Be(n);if(r.isPrimaryClient&&0===e||!r.isPrimaryClient&&1===e){const i=[];r.Oo.forEach((a,d)=>{const f=d.view.io(t);f.snapshot&&i.push(f.snapshot)}),function(a,d){const f=Be(a);f.onlineState=d;let m=!1;f.queries.forEach((C,M)=>{for(const T of M.listeners)T.io(d)&&(m=!0)}),m&&$L(f)}(r.eventManager,t),i.length&&r.$o.Rr(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function QK(n,t,e){return XL.apply(this,arguments)}function XL(){return(XL=(0,_e.Z)(function*(n,t,e){const r=Be(n);r.sharedClientState.updateQueryState(t,"rejected",e);const i=r.Bo.get(t),a=i&&i.key;if(a){let d=new wi(ot.comparator);d=d.insert(a,hr.newNoDocument(a,Rt.min()));const f=bn().add(a),m=new eM(Rt.min(),new Map,new Pr(Kt),d,f);yield sG(r,m),r.Lo=r.Lo.remove(a),r.Bo.delete(t),a2(r)}else yield Ev(r.localStore,t,!1).then(()=>Pv(r,t,e)).catch(Xm)})).apply(this,arguments)}function JK(n,t){return e2.apply(this,arguments)}function e2(){return(e2=(0,_e.Z)(function*(n,t){const e=Be(n),r=t.batch.batchId;try{const i=yield lK(e.localStore,t);o2(e,r,null),r2(e,r),e.sharedClientState.updateMutationState(r,"acknowledged"),yield Eh(e,i)}catch(i){yield Xm(i)}})).apply(this,arguments)}function XK(n,t,e){return t2.apply(this,arguments)}function t2(){return(t2=(0,_e.Z)(function*(n,t,e){const r=Be(n);try{const i=yield function(a,d){const f=Be(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let C;return f.In.lookupMutationBatch(m,d).next(M=>(vt(null!==M),C=M.keys(),f.In.removeMutationBatch(m,M))).next(()=>f.In.performConsistencyCheck(m)).next(()=>f.Qn.Pn(m,C))})}(r.localStore,t);o2(r,t,e),r2(r,t),r.sharedClientState.updateMutationState(t,"rejected",e),yield Eh(r,i)}catch(i){yield Xm(i)}})).apply(this,arguments)}function n2(){return(n2=(0,_e.Z)(function*(n,t){const e=Be(n);Mp(e.remoteStore)||Fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const d=Be(a);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>d.In.getHighestUnacknowledgedBatchId(f))}(e.localStore);if(-1===r)return void t.resolve();const i=e.Ko.get(r)||[];i.push(t),e.Ko.set(r,i)}catch(r){const i=Tv(r,"Initialization of waitForPendingWrites() operation failed");t.reject(i)}})).apply(this,arguments)}function r2(n,t){(n.Ko.get(t)||[]).forEach(e=>{e.resolve()}),n.Ko.delete(t)}function o2(n,t,e){const r=Be(n);let i=r.qo[r.currentUser.toKey()];if(i){const a=i.get(t);a&&(e?a.reject(e):a.resolve(),i=i.remove(t)),r.qo[r.currentUser.toKey()]=i}}function Pv(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const r of n.Fo.get(t))n.Oo.delete(r),e&&n.$o.Go(r,e);n.Fo.delete(t),n.isPrimaryClient&&n.Uo.cs(t).forEach(r=>{n.Uo.containsKey(r)||lG(n,r)})}function lG(n,t){n.Mo.delete(t.path.canonicalString());const e=n.Lo.get(t);null!==e&&(dM(n.remoteStore,e),n.Lo=n.Lo.remove(t),n.Bo.delete(e),a2(n))}function s2(n,t,e){for(const r of e)r instanceof rG?(n.Uo.addReference(r.key,t),t9(n,r)):r instanceof iG?(Fe("SyncEngine","Document no longer in limbo: "+r.key),n.Uo.removeReference(r.key,t),n.Uo.containsKey(r.key)||lG(n,r.key)):st()}function t9(n,t){const e=t.key,r=e.path.canonicalString();n.Lo.get(e)||n.Mo.has(r)||(Fe("SyncEngine","New document in limbo: "+e),n.Mo.add(r),a2(n))}function a2(n){for(;n.Mo.size>0&&n.Lo.size<n.maxConcurrentLimboResolutions;){const t=n.Mo.values().next().value;n.Mo.delete(t);const e=new ot(gn.fromString(t)),r=n.jo.next();n.Bo.set(r,new qK(e)),n.Lo=n.Lo.insert(e,r),CP(n.remoteStore,new vp(Cl(lv(e.path)),r,2,va.T))}}function Eh(n,t,e){return l2.apply(this,arguments)}function l2(){return(l2=(0,_e.Z)(function*(n,t,e){const r=Be(n),i=[],a=[],d=[];var f;r.Oo.isEmpty()||(r.Oo.forEach((f,m)=>{d.push(r.Wo(m,t,e).then(C=>{if(C){r.isPrimaryClient&&r.sharedClientState.updateQueryState(m.targetId,C.fromCache?"not-current":"current"),i.push(C);const M=dL.kn(m.targetId,C);a.push(M)}}))}),yield Promise.all(d),r.$o.Rr(i),yield(f=(0,_e.Z)(function*(m,C){const M=Be(m);try{yield M.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>Oe.forEach(C,x=>Oe.forEach(x.Nn,R=>M.persistence.referenceDelegate.addReference(T,x.targetId,R)).next(()=>Oe.forEach(x.xn,R=>M.persistence.referenceDelegate.removeReference(T,x.targetId,R)))))}catch(T){if(!Km(T))throw T;Fe("LocalStore","Failed to update sequence numbers: "+T)}for(const T of C){const x=T.targetId;if(!T.fromCache){const R=M.Un.get(x),ie=R.withLastLimboFreeSnapshotVersion(R.snapshotVersion);M.Un=M.Un.insert(x,ie)}}}),function(m,C){return f.apply(this,arguments)})(r.localStore,a))})).apply(this,arguments)}function n9(n,t){return c2.apply(this,arguments)}function c2(){return(c2=(0,_e.Z)(function*(n,t){const e=Be(n);if(!e.currentUser.isEqual(t)){Fe("SyncEngine","User change. New user:",t.toKey());const r=yield Vz(e.localStore,t);e.currentUser=t,(i=e).Ko.forEach(d=>{d.forEach(f=>{f.reject(new Ie(ge.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ko.clear(),e.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),yield Eh(e,r.Wn)}var i})).apply(this,arguments)}function r9(n,t){const e=Be(n),r=e.Bo.get(t);if(r&&r.ko)return bn().add(r.key);{let i=bn();const a=e.Fo.get(t);if(!a)return i;for(const d of a){const f=e.Oo.get(d);i=i.unionWith(f.view.Ro)}return i}}function i9(n,t){return u2.apply(this,arguments)}function u2(){return(u2=(0,_e.Z)(function*(n,t){const e=Be(n),r=yield _P(e.localStore,t.query,!0),i=t.view.No(r);return e.isPrimaryClient&&s2(e,t.targetId,i.Do),i})).apply(this,arguments)}function o9(n){return d2.apply(this,arguments)}function d2(){return(d2=(0,_e.Z)(function*(n){const t=Be(n);return jz(t.localStore).then(e=>Eh(t,e))})).apply(this,arguments)}function s9(n,t,e,r){return h2.apply(this,arguments)}function h2(){return(h2=(0,_e.Z)(function*(n,t,e,r){const i=Be(n),a=yield function(d,f){const m=Be(d),C=Be(m.In);return m.persistence.runTransaction("Lookup mutation documents","readonly",M=>C.Xt(M,f).next(T=>T?m.Qn.Pn(M,T):Oe.resolve(null)))}(i.localStore,t);var f;null!==a?("pending"===e?yield Dv(i.remoteStore):"acknowledged"===e||"rejected"===e?(o2(i,t,r||null),r2(i,t),f=t,Be(Be(i.localStore).In).te(f)):st(),yield Eh(i,a)):Fe("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function f2(){return(f2=(0,_e.Z)(function*(n,t){const e=Be(n);if(_2(e),y2(e),!0===t&&!0!==e.Qo){const r=e.sharedClientState.getAllActiveQueryTargets(),i=yield cG(e,r.toArray());e.Qo=!0,yield VL(e.remoteStore,!0);for(const a of i)CP(e.remoteStore,a)}else if(!1===t&&!1!==e.Qo){const r=[];let i=Promise.resolve();e.Fo.forEach((a,d)=>{e.sharedClientState.isLocalQueryTarget(d)?r.push(d):i=i.then(()=>(Pv(e,d),Ev(e.localStore,d,!0))),dM(e.remoteStore,d)}),yield i,yield cG(e,r),function(a){const d=Be(a);d.Bo.forEach((f,m)=>{dM(d.remoteStore,m)}),d.Uo.us(),d.Bo=new Map,d.Lo=new wi(ot.comparator)}(e),e.Qo=!1,yield VL(e.remoteStore,!1)}})).apply(this,arguments)}function cG(n,t,e){return p2.apply(this,arguments)}function p2(){return(p2=(0,_e.Z)(function*(n,t,e){const r=Be(n),i=[],a=[];for(const d of t){let f;const m=r.Fo.get(d);if(m&&0!==m.length){f=yield wv(r.localStore,Cl(m[0]));for(const C of m){const M=r.Oo.get(C),T=yield i9(r,M);T.snapshot&&a.push(T.snapshot)}}else{const C=yield Hz(r.localStore,d);f=yield wv(r.localStore,C),yield ZL(r,uG(C),d,!1)}i.push(f)}return r.$o.Rr(a),i})).apply(this,arguments)}function uG(n){return I6(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function l9(n){const t=Be(n);return Be(Be(t.localStore).persistence).pn()}function c9(n,t,e,r){return g2.apply(this,arguments)}function g2(){return(g2=(0,_e.Z)(function*(n,t,e,r){const i=Be(n);if(i.Qo)Fe("SyncEngine","Ignoring unexpected query state notification.");else if(i.Fo.has(t))switch(e){case"current":case"not-current":{const a=yield jz(i.localStore),d=eM.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield Eh(i,a,d);break}case"rejected":yield Ev(i.localStore,t,!0),Pv(i,t,r);break;default:st()}})).apply(this,arguments)}function u9(n,t,e){return m2.apply(this,arguments)}function m2(){return(m2=(0,_e.Z)(function*(n,t,e){const r=_2(n);if(r.Qo){for(const i of t){if(r.Fo.has(i)){Fe("SyncEngine","Adding an already active target "+i);continue}const a=yield Hz(r.localStore,i),d=yield wv(r.localStore,a);yield ZL(r,uG(a),d.targetId,!1),CP(r.remoteStore,d)}for(const i of e)r.Fo.has(i)&&(yield Ev(r.localStore,i,!1).then(()=>{dM(r.remoteStore,i),Pv(r,i)}).catch(Xm))}})).apply(this,arguments)}function _2(n){const t=Be(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=sG.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=r9.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=QK.bind(null,t),t.$o.Rr=HK.bind(null,t.eventManager),t.$o.Go=jK.bind(null,t.eventManager),t}function y2(n){const t=Be(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=JK.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=XK.bind(null,t),t}class dG{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,_e.Z)(function*(){e.N=cM(t.databaseInfo.databaseId),e.sharedClientState=e.Ho(t),e.persistence=e.Jo(t),yield e.persistence.start(),e.gcScheduler=e.Yo(t),e.localStore=e.Xo(t)})()}Yo(t){return null}Xo(t){return Lz(this.persistence,new Nz,t.initialUser,this.N)}Jo(t){return new bK(yL.Ns,this.N)}Ho(t){return new $z}terminate(){var t=this;return(0,_e.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class hG extends dG{constructor(t,e,r){super(),this.Zo=t,this.cacheSizeBytes=e,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,r=this;return(0,_e.Z)(function*(){yield e().call(r,t),yield function(n){return pL.apply(this,arguments)}(r.localStore),yield r.Zo.initialize(r,t),yield y2(r.Zo.syncEngine),yield Dv(r.Zo.remoteStore),yield r.persistence.nn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Xo(t){return Lz(this.persistence,new Nz,t.initialUser,this.N)}Yo(t){return new eK(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}Jo(t){const e=uL(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Us.withCacheSize(this.cacheSizeBytes):Us.DEFAULT;return new cL(this.synchronizeTabs,e,t.clientId,r,t.asyncQueue,Wz(),vP(),this.N,this.sharedClientState,!!this.forceOwnership)}Ho(t){return new $z}}class h9 extends hG{constructor(t,e){super(t,e,!1),this.Zo=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,r=this;return(0,_e.Z)(function*(){yield e().call(r,t);const i=r.Zo.syncEngine;r.sharedClientState instanceof wL&&(r.sharedClientState.syncEngine={_i:s9.bind(null,i),mi:c9.bind(null,i),gi:u9.bind(null,i),pn:l9.bind(null,i),wi:o9.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.nn(function(){var a=(0,_e.Z)(function*(d){yield function(n,t){return f2.apply(this,arguments)}(r.Zo.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):d||r.gcScheduler.stop())});return function(d){return a.apply(this,arguments)}}())})()}Ho(t){const e=Wz();if(!wL.bt(e))throw new Ie(ge.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=uL(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new wL(e,t.asyncQueue,r,t.clientId,t.initialUser)}}class b2{initialize(t,e){var r=this;return(0,_e.Z)(function*(){r.localStore||(r.localStore=t.localStore,r.sharedClientState=t.sharedClientState,r.datastore=r.createDatastore(e),r.remoteStore=r.createRemoteStore(e),r.eventManager=r.createEventManager(e),r.syncEngine=r.createSyncEngine(e,!t.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>aG(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=n9.bind(null,r.syncEngine),yield VL(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(t){return new UK}createDatastore(t){const e=cM(t.databaseInfo.databaseId),r=new MK(t.databaseInfo);return new TK(t.credentials,r,e)}createRemoteStore(t){return e=this.localStore,r=this.datastore,i=t.asyncQueue,a=f=>aG(this.syncEngine,f,0),d=qz.bt()?new qz:new CK,new SK(e,r,i,a,d);var e,r,i,a,d}createSyncEngine(t,e){return function(r,i,a,d,f,m,C){const M=new WK(r,i,a,d,f,m);return C&&(M.Qo=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,_e.Z)(function*(e){const r=Be(e);Fe("RemoteStore","RemoteStore shutting down."),r.Wr.add(5),yield Mv(r),r.zr.shutdown(),r.Hr.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function fG(n,t=10240){let e=0;return{read:()=>(0,_e.Z)(function*(){if(e<n.byteLength){const r={value:n.slice(e,e+t),done:!1};return e+=t,r}return{done:!0}})(),cancel:()=>(0,_e.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class EP{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.tc(this.observer.next,t)}error(t){this.observer.error?this.tc(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}ec(){this.muted=!0}tc(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class f9{constructor(t,e){this.nc=t,this.N=e,this.metadata=new ji,this.buffer=new Uint8Array,this.sc=new TextDecoder("utf-8"),this.ic().then(r=>{r&&r.wo()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.nc.cancel()}getMetadata(){var t=this;return(0,_e.Z)(function*(){return t.metadata.promise})()}zo(){var t=this;return(0,_e.Z)(function*(){return yield t.getMetadata(),t.ic()})()}ic(){var t=this;return(0,_e.Z)(function*(){const e=yield t.rc();if(null===e)return null;const r=t.sc.decode(e),i=Number(r);isNaN(i)&&t.oc(`length string (${r}) is not valid number`);const a=yield t.cc(i);return new zK(JSON.parse(a),e.length+i)})()}ac(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}rc(){var t=this;return(0,_e.Z)(function*(){for(;t.ac()<0&&!(yield t.uc()););if(0===t.buffer.length)return null;const e=t.ac();e<0&&t.oc("Reached the end of bundle when a length string is expected.");const r=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),r})()}cc(t){var e=this;return(0,_e.Z)(function*(){for(;e.buffer.length<t;)(yield e.uc())&&e.oc("Reached the end of bundle when more is expected.");const r=e.sc.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),r})()}oc(t){throw this.nc.cancel(),new Error(`Invalid bundle format: ${t}`)}uc(){var t=this;return(0,_e.Z)(function*(){const e=yield t.nc.read();if(!e.done){const r=new Uint8Array(t.buffer.length+e.value.length);r.set(t.buffer),r.set(e.value,t.buffer.length),t.buffer=r}return e.done})()}}class p9{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,_e.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Ie(ge.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,_e.Z)(function*(a,d){const f=Be(a),m=iM(f.N)+"/documents",C={documents:d.map(R=>rM(f.N,R))},M=yield f.Ki("BatchGetDocuments",m,C),T=new Map;M.forEach(R=>{const j=function(n,t){return"found"in t?function(e,r){vt(!!r.found);const i=Hu(e,r.found.name),a=$i(r.found.updateTime),d=new Vo({mapValue:{fields:r.found.fields}});return hr.newFoundDocument(i,a,d)}(n,t):"missing"in t?function(e,r){vt(!!r.missing),vt(!!r.readTime);const i=Hu(e,r.missing),a=$i(r.readTime);return hr.newNoDocument(i,a)}(n,t):st()}(f.N,R);T.set(j.key.toString(),j)});const x=[];return d.forEach(R=>{const j=T.get(R.toString());vt(!!j),x.push(j)}),x}),function(a,d){return i.apply(this,arguments)})(e.datastore,t);var i;return r.forEach(i=>e.recordVersion(i)),r})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(t.toString())}delete(t){this.write(new XE(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,_e.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var r;t.mutations.forEach(r=>{e.delete(r.key.toString())}),e.forEach((r,i)=>{const a=ot.fromPath(i);t.mutations.push(new YN(a,t.precondition(a)))}),yield(r=(0,_e.Z)(function*(i,a){const d=Be(i),f=iM(d.N)+"/documents",m={writes:a.map(C=>dP(d.N,C))};yield d.Li("Commit",f,m)}),function(i,a){return r.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw st();e=Rt.min()}const r=this.readVersions.get(t.key.toString());if(r){if(!e.isEqual(r))throw new Ie(ge.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?si.updateTime(e):si.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Rt.min()))throw new Ie(ge.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return si.updateTime(e)}return si.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class g9{constructor(t,e,r,i){this.asyncQueue=t,this.datastore=e,this.updateFunction=r,this.deferred=i,this.hc=5,this.ar=new EL(this.asyncQueue,"transaction_retry")}run(){this.hc-=1,this.lc()}lc(){var t=this;this.ar.Xi((0,_e.Z)(function*(){const e=new p9(t.datastore),r=t.fc(e);r&&r.then(i=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(i)}).catch(a=>{t.dc(a)}))}).catch(i=>{t.dc(i)})}))}fc(t){try{const e=this.updateFunction(t);return!$m(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}dc(t){this.hc>0&&this.wc(t)?(this.hc-=1,this.asyncQueue.enqueueAndForget(()=>(this.lc(),Promise.resolve()))):this.deferred.reject(t)}wc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!$6(e)}return!1}}class m9{constructor(t,e,r){var i=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=r,this.user=mo.UNAUTHENTICATED,this.clientId=p6.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(e,function(){var a=(0,_e.Z)(function*(d){Fe("FirestoreClient","Received user=",d.uid),yield i.credentialListener(d),i.user=d});return function(d){return a.apply(this,arguments)}}())}getConfiguration(){var t=this;return(0,_e.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,credentials:t.credentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.credentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ie(ge.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.credentials.shutdown(),e.resolve()}catch(r){const i=Tv(r,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}function pG(n,t){return v2.apply(this,arguments)}function v2(){return(v2=(0,_e.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let r=e.initialUser;n.setCredentialChangeListener(function(){var i=(0,_e.Z)(function*(a){r.isEqual(a)||(yield Vz(t.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t})).apply(this,arguments)}function gG(n,t){return C2.apply(this,arguments)}function C2(){return(C2=(0,_e.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield w2(n);Fe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield t.initialize(e,r),n.setCredentialChangeListener(i=>{return(a=(0,_e.Z)(function*(d,f){const m=Be(d);m.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const C=Mp(m);m.Wr.add(3),yield Mv(m),C&&m.Hr.set("Unknown"),yield m.remoteSyncer.handleCredentialChange(f),m.Wr.delete(3),yield uM(m)}),function(d,f){return a.apply(this,arguments)})(t.remoteStore,i);var a}),n.onlineComponents=t})).apply(this,arguments)}function w2(n){return E2.apply(this,arguments)}function E2(){return(E2=(0,_e.Z)(function*(n){return n.offlineComponents||(Fe("FirestoreClient","Using default OfflineComponentProvider"),yield pG(n,new dG)),n.offlineComponents})).apply(this,arguments)}function MP(n){return M2.apply(this,arguments)}function M2(){return(M2=(0,_e.Z)(function*(n){return n.onlineComponents||(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield gG(n,new b2)),n.onlineComponents})).apply(this,arguments)}function mG(n){return w2(n).then(t=>t.persistence)}function D2(n){return w2(n).then(t=>t.localStore)}function _G(n){return MP(n).then(t=>t.remoteStore)}function O2(n){return MP(n).then(t=>t.syncEngine)}function Av(n){return T2.apply(this,arguments)}function T2(){return(T2=(0,_e.Z)(function*(n){const t=yield MP(n),e=t.eventManager;return e.onListen=ZK.bind(null,t.syncEngine),e.onUnlisten=YK.bind(null,t.syncEngine),e})).apply(this,arguments)}function yG(n,t,e={}){const r=new ji;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(i,a,d,f,m){const C=new EP({next:T=>{a.enqueueAndForget(()=>zL(i,M));const x=T.docs.has(d);!x&&T.fromCache?m.reject(new Ie(ge.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&T.fromCache&&f&&"server"===f.source?m.reject(new Ie(ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(T)},error:T=>m.reject(T)}),M=new qL(lv(d.path),C,{includeMetadataChanges:!0,fo:!0});return HL(i,M)}(yield Av(n),n.asyncQueue,t,e,r)})),r.promise}function bG(n,t,e={}){const r=new ji;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(i,a,d,f,m){const C=new EP({next:T=>{a.enqueueAndForget(()=>zL(i,M)),T.fromCache&&"server"===f.source?m.reject(new Ie(ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(T)},error:T=>m.reject(T)}),M=new qL(d,C,{includeMetadataChanges:!0,fo:!0});return HL(i,M)}(yield Av(n),n.asyncQueue,t,e,r)})),r.promise}class D9{constructor(t,e,r,i,a,d,f,m){this.databaseId=t,this.appId=e,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=d,this.autoDetectLongPolling=f,this.useFetchStreams=m}}class xv{constructor(t,e){this.projectId=t,this.database=e||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof xv&&t.projectId===this.projectId&&t.database===this.database}}const vG=new Map;function I2(n,t,e){if(!e)throw new Ie(ge.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function CG(n,t,e,r){if(!0===t&&!0===r)throw new Ie(ge.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function wG(n){if(!ot.isDocumentKey(n))throw new Ie(ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function EG(n){if(ot.isDocumentKey(n))throw new Ie(ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function DP(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":st()}function sn(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ie(ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=DP(n);throw new Ie(ge.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function MG(n,t){if(t<=0)throw new Ie(ge.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class DG{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ie(ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ie(ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,CG("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class hM{constructor(t,e){this._credentials=e,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new DG({}),this._settingsFrozen=!1,t instanceof xv?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Ie(ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xv(r.options.projectId)}(t))}get app(){if(!this._app)throw new Ie(ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ie(ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new DG(t),void 0!==t.credentials&&(this._credentials=function(e){if(!e)return new Y7;switch(e.type){case"gapi":const r=e.client;return vt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new X7(r,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Ie(ge.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=vG.get(t);e&&(Fe("ComponentProvider","Removing Datastore"),vG.delete(t),e.terminate())}(this),Promise.resolve()}}class er{constructor(t,e,r){this.converter=e,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zu(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new er(this.firestore,t,this._key)}}class Uo{constructor(t,e,r){this.converter=e,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Uo(this.firestore,t,this._query)}}class zu extends Uo{constructor(t,e,r){super(t,e,lv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new er(this.firestore,null,new ot(t))}withConverter(t){return new zu(this.firestore,t,this._path)}}function OG(n,t,...e){if(n=(0,L.m9)(n),I2("collection","path",t),n instanceof hM){const r=gn.fromString(t,...e);return EG(r),new zu(n,null,r)}{if(!(n instanceof er||n instanceof zu))throw new Ie(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(gn.fromString(t,...e));return EG(r),new zu(n.firestore,null,r)}}function OP(n,t,...e){if(n=(0,L.m9)(n),1===arguments.length&&(t=p6.I()),I2("doc","path",t),n instanceof hM){const r=gn.fromString(t,...e);return wG(r),new er(n,null,new ot(r))}{if(!(n instanceof er||n instanceof zu))throw new Ie(ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(gn.fromString(t,...e));return wG(r),new er(n.firestore,n instanceof zu?n.converter:null,new ot(r))}}function TG(n,t){return n=(0,L.m9)(n),t=(0,L.m9)(t),(n instanceof er||n instanceof zu)&&(t instanceof er||t instanceof zu)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function IG(n,t){return n=(0,L.m9)(n),t=(0,L.m9)(t),n instanceof Uo&&t instanceof Uo&&n.firestore===t.firestore&&YE(n._query,t._query)&&n.converter===t.converter}class I9{constructor(){this._c=Promise.resolve(),this.mc=[],this.gc=!1,this.yc=[],this.Tc=null,this.Ec=!1,this.Ic=!1,this.Ac=[],this.ar=new EL(this,"async_queue_retry"),this.Rc=()=>{const e=vP();e&&Fe("AsyncQueue","Visibility state changed to "+e.visibilityState),this.ar.tr()};const t=vP();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Rc)}get isShuttingDown(){return this.gc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.bc(),this.Pc(t)}enterRestrictedMode(t){if(!this.gc){this.gc=!0,this.Ic=t||!1;const e=vP();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Rc)}}enqueue(t){if(this.bc(),this.gc)return new Promise(()=>{});const e=new ji;return this.Pc(()=>this.gc&&this.Ic?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.mc.push(t),this.vc()))}vc(){var t=this;return(0,_e.Z)(function*(){if(0!==t.mc.length){try{yield t.mc[0](),t.mc.shift(),t.ar.reset()}catch(e){if(!Km(e))throw e;Fe("AsyncQueue","Operation failed with retryable error: "+e)}t.mc.length>0&&t.ar.Xi(()=>t.vc())}})()}Pc(t){const e=this._c.then(()=>(this.Ec=!0,t().catch(r=>{throw this.Tc=r,this.Ec=!1,ii("INTERNAL UNHANDLED ERROR: ",function(a){let d=a.message||"";return a.stack&&(d=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),d}(r)),r}).then(r=>(this.Ec=!1,r))));return this._c=e,e}enqueueAfterDelay(t,e,r){this.bc(),this.Ac.indexOf(t)>-1&&(e=0);const i=UL.createAndSchedule(this,t,e,r,a=>this.Vc(a));return this.yc.push(i),i}bc(){this.Tc&&st()}verifyOperationInProgress(){}Sc(){var t=this;return(0,_e.Z)(function*(){let e;do{e=t._c,yield e}while(e!==t._c)})()}Dc(t){for(const e of this.yc)if(e.timerId===t)return!0;return!1}Cc(t){return this.Sc().then(()=>{this.yc.sort((e,r)=>e.targetTimeMs-r.targetTimeMs);for(const e of this.yc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Sc()})}Nc(t){this.Ac.push(t)}Vc(t){const e=this.yc.indexOf(t);this.yc.splice(e,1)}}function S2(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const r=t;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class S9{constructor(){this._progressObserver={},this._taskCompletionResolver=new ji,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,r){this._progressObserver={next:t,error:e,complete:r}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Er extends hM{constructor(t,e){super(t,e),this.type="firestore",this._queue=new I9,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||SG(this),this._firestoreClient.terminate()}}function Ei(n){return n._firestoreClient||SG(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function SG(n){var t;const e=n._freezeSettings(),r=(a=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new D9(n._databaseId,a,n._persistenceKey,(f=e).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new m9(n._credentials,n._queue,r)}function PG(n,t,e){const r=new ji;return n.asyncQueue.enqueue((0,_e.Z)(function*(){try{yield pG(n,e),yield gG(n,t),r.resolve()}catch(i){if(!("FirebaseError"===(a=i).name?a.code===ge.FAILED_PRECONDITION||a.code===ge.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&a instanceof DOMException)||22===a.code||20===a.code||11===a.code))throw i;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i),r.reject(i)}var a})).then(()=>r.promise)}function AG(n){if(n._initialized||n._terminated)throw new Ie(ge.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Mh{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Ie(ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _o(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Gu{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Gu(Gi.fromBase64String(t))}catch(e){throw new Ie(ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Gu(Gi.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class e_{constructor(t){this._methodName=t}}class TP{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ie(ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ie(ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Kt(this._lat,t._lat)||Kt(this._long,t._long)}}const B9=/^__.*__$/;class U9{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return null!==this.fieldMask?new yp(t,this.data,this.fieldMask,e,this.fieldTransforms):new JE(t,this.data,e,this.fieldTransforms)}}class xG{constructor(t,e,r){this.data=t,this.fieldMask=e,this.fieldTransforms=r}toMutation(t,e){return new yp(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function FG(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw st()}}class IP{constructor(t,e,r,i,a,d){this.settings=t,this.databaseId=e,this.N=r,this.ignoreUndefinedProperties=i,void 0===a&&this.xc(),this.fieldTransforms=a||[],this.fieldMask=d||[]}get path(){return this.settings.path}get kc(){return this.settings.kc}$c(t){return new IP(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Oc(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.$c({path:r,Fc:!1});return i.Mc(t),i}Lc(t){var e;const r=null===(e=this.path)||void 0===e?void 0:e.child(t),i=this.$c({path:r,Fc:!1});return i.xc(),i}Bc(t){return this.$c({path:void 0,Fc:!0})}Uc(t){return PP(t,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Kc)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}xc(){if(this.path)for(let t=0;t<this.path.length;t++)this.Mc(this.path.get(t))}Mc(t){if(0===t.length)throw this.Uc("Document fields must not be empty");if(FG(this.kc)&&B9.test(t))throw this.Uc('Document fields cannot begin and end with "__"')}}class H9{constructor(t,e,r){this.databaseId=t,this.ignoreUndefinedProperties=e,this.N=r||cM(t)}jc(t,e,r,i=!1){return new IP({kc:t,methodName:e,Kc:r,path:_o.emptyPath(),Fc:!1,qc:i},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function t_(n){const t=n._freezeSettings(),e=cM(n._databaseId);return new H9(n._databaseId,!!t.ignoreUndefinedProperties,e)}function SP(n,t,e,r,i,a={}){const d=n.jc(a.merge||a.mergeFields?2:0,t,e,i);F2("Data must be an object, but it was:",d,r);const f=NG(r,d);let m,C;if(a.merge)m=new iv(d.fieldMask),C=d.fieldTransforms;else if(a.mergeFields){const M=[];for(const T of a.mergeFields){const x=k2(t,T,e);if(!d.contains(x))throw new Ie(ge.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);VG(M,x)||M.push(x)}m=new iv(M),C=d.fieldTransforms.filter(T=>m.covers(T.field))}else m=null,C=d.fieldTransforms;return new U9(new Vo(f),m,C)}class fM extends e_{_toFieldTransform(t){if(2!==t.kc)throw t.Uc(1===t.kc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof fM}}function kG(n,t,e){return new IP({kc:3,Kc:t.settings.Kc,methodName:n._methodName,Fc:e},t.databaseId,t.N,t.ignoreUndefinedProperties)}class P2 extends e_{_toFieldTransform(t){return new QE(t.path,new uv)}isEqual(t){return t instanceof P2}}class j9 extends e_{constructor(t,e){super(t),this.Qc=e}_toFieldTransform(t){const e=kG(this,t,!0),r=this.Qc.map(a=>n_(a,e)),i=new Wm(r);return new QE(t.path,i)}isEqual(t){return this===t}}class z9 extends e_{constructor(t,e){super(t),this.Qc=e}_toFieldTransform(t){const e=kG(this,t,!0),r=this.Qc.map(a=>n_(a,e)),i=new Zm(r);return new QE(t.path,i)}isEqual(t){return this===t}}class G9 extends e_{constructor(t,e){super(t),this.Wc=e}_toFieldTransform(t){const e=new dv(t.N,k6(t.N,this.Wc));return new QE(t.path,e)}isEqual(t){return this===t}}function A2(n,t,e,r){const i=n.jc(1,t,e);F2("Data must be an object, but it was:",i,r);const a=[],d=Vo.empty();Gm(r,(m,C)=>{const M=R2(t,m,e);C=(0,L.m9)(C);const T=i.Lc(M);if(C instanceof fM)a.push(M);else{const x=n_(C,T);null!=x&&(a.push(M),d.set(M,x))}});const f=new iv(a);return new xG(d,f,i.fieldTransforms)}function x2(n,t,e,r,i,a){const d=n.jc(1,t,e),f=[k2(t,r,e)],m=[i];if(a.length%2!=0)throw new Ie(ge.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<a.length;x+=2)f.push(k2(t,a[x])),m.push(a[x+1]);const C=[],M=Vo.empty();for(let x=f.length-1;x>=0;--x)if(!VG(C,f[x])){const R=f[x];let j=m[x];j=(0,L.m9)(j);const ie=d.Lc(R);if(j instanceof fM)C.push(R);else{const pe=n_(j,ie);null!=pe&&(C.push(R),M.set(R,pe))}}const T=new iv(C);return new xG(M,T,d.fieldTransforms)}function RG(n,t,e,r=!1){return n_(e,n.jc(r?4:3,t))}function n_(n,t){if(LG(n=(0,L.m9)(n)))return F2("Unsupported field value:",t,n),NG(n,t);if(n instanceof e_)return function(e,r){if(!FG(r.kc))throw r.Uc(`${e._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Uc(`${e._methodName}() is not currently supported inside arrays`);const i=e._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.Fc&&4!==t.kc)throw t.Uc("Nested arrays are not supported");return function(e,r){const i=[];let a=0;for(const d of e){let f=n_(d,r.Bc(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(n,t)}return function(e,r){if(null===(e=(0,L.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return k6(r.N,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const i=zi.fromDate(e);return{timestampValue:nM(r.N,i)}}if(e instanceof zi){const i=new zi(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:nM(r.N,i)}}if(e instanceof TP)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Gu)return{bytesValue:ez(r.N,e._byteString)};if(e instanceof er){const i=r.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw r.Uc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:QN(e.firestore._databaseId||r.databaseId,e._key.path)}}throw r.Uc(`Unsupported field value: ${DP(e)}`)}(n,t)}function NG(n,t){const e={};return _6(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Gm(n,(r,i)=>{const a=n_(i,t.Oc(r));null!=a&&(e[r]=a)}),{mapValue:{fields:e}}}function LG(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof zi||n instanceof TP||n instanceof Gu||n instanceof er||n instanceof e_)}function F2(n,t,e){if(!LG(e)||"object"!=typeof(r=e)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=DP(e);throw t.Uc("an object"===r?n+" a custom object":n+" "+r)}var r}function k2(n,t,e){if((t=(0,L.m9)(t))instanceof Mh)return t._internalPath;if("string"==typeof t)return R2(n,t);throw PP("Field path arguments must be of type string or FieldPath.",n,!1,void 0,e)}const $9=new RegExp("[~\\*/\\[\\]]");function R2(n,t,e){if(t.search($9)>=0)throw PP(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Mh(...t.split("."))._internalPath}catch(r){throw PP(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function PP(n,t,e,r,i){const a=r&&!r.isEmpty(),d=void 0!==i;let f=`Function ${t}() called with invalid data`;e&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(a||d)&&(m+=" (found",a&&(m+=` in field ${r}`),d&&(m+=` in document ${i}`),m+=")"),new Ie(ge.INVALID_ARGUMENT,f+n+m)}function VG(n,t){return n.some(e=>e.isEqual(t))}class pM{constructor(t,e,r,i,a){this._firestore=t,this._userDataWriter=e,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new er(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new q9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(AP("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class q9 extends pM{data(){return super.data()}}function AP(n,t){return"string"==typeof t?R2(n,t):t instanceof Mh?t._internalPath:t._delegate._internalPath}class r_{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Dh extends pM{constructor(t,e,r,i,a,d){super(t,e,r,i,d),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new gM(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const r=this._document.data.field(AP("DocumentSnapshot.get",t));if(null!==r)return this._userDataWriter.convertValue(r,e.serverTimestamps)}}}class gM extends Dh{data(t={}){return super.data(t)}}class Op{constructor(t,e,r,i){this._firestore=t,this._userDataWriter=e,this._snapshot=i,this.metadata=new r_(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(r=>{t.call(e,new gM(this._firestore,this._userDataWriter,r.key,r,new r_(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ie(ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new gM(r._firestore,r._userDataWriter,d.doc.key,d.doc,new r_(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>i||3!==d.type).map(d=>{const f=new gM(r._firestore,r._userDataWriter,d.doc.key,d.doc,new r_(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,C=-1;return 0!==d.type&&(m=a.indexOf(d.doc.key),a=a.delete(d.doc.key)),1!==d.type&&(a=a.add(d.doc),C=a.indexOf(d.doc.key)),{type:W9(d.type),doc:f,oldIndex:m,newIndex:C}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function W9(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return st()}}function BG(n,t){return n instanceof Dh&&t instanceof Dh?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Op&&t instanceof Op&&n._firestore===t._firestore&&IG(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function UG(n){if(iP(n)&&0===n.explicitOrderBy.length)throw new Ie(ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mM{}function Tp(n,...t){for(const e of t)n=e._apply(n);return n}class Z9 extends mM{constructor(t,e,r){super(),this.Gc=t,this.zc=e,this.Hc=r,this.type="where"}_apply(t){const e=t_(t.firestore),r=function(i,a,d,f,m,C,M){let T;if(m.isKeyField()){if("array-contains"===C||"array-contains-any"===C)throw new Ie(ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${C}' queries on FieldPath.documentId().`);if("in"===C||"not-in"===C){qG(M,C);const R=[];for(const j of M)R.push($G(f,i,j));T={arrayValue:{values:R}}}else T=$G(f,i,M)}else"in"!==C&&"not-in"!==C&&"array-contains-any"!==C||qG(M,C),T=RG(d,"where",M,"in"===C||"not-in"===C);const x=ls.create(m,C,T);return function(R,j){if(j.v()){const pe=$N(R);if(null!==pe&&!pe.isEqual(j.field))throw new Ie(ge.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${pe.toString()}' and '${j.field.toString()}'`);const Ae=GN(R);null!==Ae&&WG(0,j.field,Ae)}const ie=function(pe,Ae){for(const Ge of pe.filters)if(Ae.indexOf(Ge.op)>=0)return Ge.op;return null}(R,function(pe){switch(pe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(j.op));if(null!==ie)throw new Ie(ge.INVALID_ARGUMENT,ie===j.op?`Invalid query. You cannot use more than one '${j.op.toString()}' filter.`:`Invalid query. You cannot use '${j.op.toString()}' filters with '${ie.toString()}' filters.`)}(i,x),x}(t._query,0,e,t.firestore._databaseId,this.Gc,this.zc,this.Hc);return new Uo(t.firestore,t.converter,function(i,a){const d=i.filters.concat([a]);return new vh(i.path,i.collectionGroup,i.explicitOrderBy.slice(),d,i.limit,i.limitType,i.startAt,i.endAt)}(t._query,r))}}class K9 extends mM{constructor(t,e){super(),this.Gc=t,this.Jc=e,this.type="orderBy"}_apply(t){const e=function(r,i,a){if(null!==r.startAt)throw new Ie(ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ie(ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new av(i,a);return function(f,m){if(null===GN(f)){const C=$N(f);null!==C&&WG(0,C,m.field)}}(r,d),d}(t._query,this.Gc,this.Jc);return new Uo(t.firestore,t.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new vh(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,e))}}class HG extends mM{constructor(t,e,r){super(),this.type=t,this.Yc=e,this.Xc=r}_apply(t){return new Uo(t.firestore,t.converter,S6(t._query,this.Yc,this.Xc))}}class jG extends mM{constructor(t,e,r){super(),this.type=t,this.Zc=e,this.ta=r}_apply(t){const e=GG(t,this.type,this.Zc,this.ta);return new Uo(t.firestore,t.converter,(i=e,new vh((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class zG extends mM{constructor(t,e,r){super(),this.type=t,this.Zc=e,this.ta=r}_apply(t){const e=GG(t,this.type,this.Zc,this.ta);return new Uo(t.firestore,t.converter,(i=e,new vh((r=t._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function GG(n,t,e,r){if(e[0]=(0,L.m9)(e[0]),e[0]instanceof pM)return function(i,a,d,f,m){if(!f)throw new Ie(ge.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const C=[];for(const M of cv(i))if(M.field.isKeyField())C.push(JS(a,f.key));else{const T=f.data.field(M.field);if(BN(T))throw new Ie(ge.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+M.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===T){const x=M.field.canonicalString();throw new Ie(ge.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${x}' (used as the orderBy) does not exist.`)}C.push(T)}return new ZE(C,m)}(n._query,n.firestore._databaseId,t,e[0]._document,r);{const i=t_(n.firestore);return function(a,d,f,m,C,M){const T=a.explicitOrderBy;if(C.length>T.length)throw new Ie(ge.INVALID_ARGUMENT,`Too many arguments provided to ${m}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const x=[];for(let R=0;R<C.length;R++){const j=C[R];if(T[R].field.isKeyField()){if("string"!=typeof j)throw new Ie(ge.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${m}(), but got a ${typeof j}`);if(!qN(a)&&-1!==j.indexOf("/"))throw new Ie(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${m}() must be a plain document ID, but '${j}' contains a slash.`);const ie=a.path.child(gn.fromString(j));if(!ot.isDocumentKey(ie))throw new Ie(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${m}() must result in a valid document path, but '${ie}' is not because it contains an odd number of segments.`);const pe=new ot(ie);x.push(JS(d,pe))}else{const ie=RG(f,m,j);x.push(ie)}}return new ZE(x,M)}(n._query,n.firestore._databaseId,i,t,e,r)}}function $G(n,t,e){if("string"==typeof(e=(0,L.m9)(e))){if(""===e)throw new Ie(ge.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!qN(t)&&-1!==e.indexOf("/"))throw new Ie(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const r=t.path.child(gn.fromString(e));if(!ot.isDocumentKey(r))throw new Ie(ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return JS(n,new ot(r))}if(e instanceof er)return JS(n,e._key);throw new Ie(ge.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${DP(e)}.`)}function qG(n,t){if(!Array.isArray(n)||0===n.length)throw new Ie(ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Ie(ge.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function WG(n,t,e){if(!e.isEqual(t))throw new Ie(ge.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}class N2{convertValue(t,e="none"){switch(qm(t)){case 0:return null;case 1:return t.booleanValue;case 2:return oi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(ov(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw st()}}convertObject(t,e){const r={};return Gm(t.fields,(i,a)=>{r[i]=this.convertValue(a,e)}),r}convertGeoPoint(t){return new TP(oi(t.latitude),oi(t.longitude))}convertArray(t,e){return(t.values||[]).map(r=>this.convertValue(r,e))}convertServerTimestamp(t,e){switch(e){case"previous":const r=y6(t);return null==r?null:this.convertValue(r,e);case"estimate":return this.convertTimestamp(GE(t));default:return null}}convertTimestamp(t){const e=_p(t);return new zi(e.seconds,e.nanos)}convertDocumentKey(t,e){const r=gn.fromString(t);vt(fz(r));const i=new xv(r.get(1),r.get(3)),a=new ot(r.popFirst(5));return i.isEqual(e)||ii(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),a}}function xP(n,t,e){let r;return r=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,r}class iQ extends N2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Gu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new er(this.firestore,null,e)}}class ZG{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=t_(t)}set(t,e,r){this._verifyNotCommitted();const i=Ip(t,this._firestore),a=xP(i.converter,e,r),d=SP(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(d.toMutation(i._key,si.none())),this}update(t,e,r,...i){this._verifyNotCommitted();const a=Ip(t,this._firestore);let d;return d="string"==typeof(e=(0,L.m9)(e))||e instanceof Mh?x2(this._dataReader,"WriteBatch.update",a._key,e,r,i):A2(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(d.toMutation(a._key,si.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Ip(t,this._firestore);return this._mutations=this._mutations.concat(new XE(e._key,si.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ie(ge.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ip(n,t){if((n=(0,L.m9)(n)).firestore!==t)throw new Ie(ge.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class i_ extends N2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Gu(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new er(this.firestore,null,e)}}function YG(n,t,e){n=sn(n,er);const r=sn(n.firestore,Er),i=xP(n.converter,t,e);return Fv(r,[SP(t_(r),"setDoc",n._key,i,null!==n.converter,e).toMutation(n._key,si.none())])}function KG(n,t,e,...r){n=sn(n,er);const i=sn(n.firestore,Er),a=t_(i);let d;return d="string"==typeof(t=(0,L.m9)(t))||t instanceof Mh?x2(a,"updateDoc",n._key,t,e,r):A2(a,"updateDoc",n._key,t),Fv(i,[d.toMutation(n._key,si.exists(!0))])}function QG(n,...t){var e,r,i;n=(0,L.m9)(n);let a={includeMetadataChanges:!1},d=0;"object"!=typeof t[d]||S2(t[d])||(a=t[d],d++);const f={includeMetadataChanges:a.includeMetadataChanges};if(S2(t[d])){const T=t[d];t[d]=null===(e=T.next)||void 0===e?void 0:e.bind(T),t[d+1]=null===(r=T.error)||void 0===r?void 0:r.bind(T),t[d+2]=null===(i=T.complete)||void 0===i?void 0:i.bind(T)}let m,C,M;if(n instanceof er)C=sn(n.firestore,Er),M=lv(n._key.path),m={next:T=>{t[d]&&t[d](L2(C,n,T))},error:t[d+1],complete:t[d+2]};else{const T=sn(n,Uo);C=sn(T.firestore,Er),M=T._query;const x=new i_(C);m={next:R=>{t[d]&&t[d](new Op(C,x,T,R))},error:t[d+1],complete:t[d+2]},UG(n._query)}return function(T,x,R,j){const ie=new EP(j),pe=new qL(x,ie,R);return T.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return HL(yield Av(T),pe)})),()=>{ie.ec(),T.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return zL(yield Av(T),pe)}))}}(Ei(C),M,f,m)}function Fv(n,t){return function(e,r){const i=new ji;return e.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(n,t,e){return QL.apply(this,arguments)}(yield O2(e),r,i)})),i.promise}(Ei(n),t)}function L2(n,t,e){const r=e.docs.get(t._key),i=new i_(n);return new Dh(n,i,t._key,r,new r_(e.hasPendingWrites,e.fromCache),t.converter)}class pQ extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=t_(t)}get(t){const e=Ip(t,this._firestore),r=new iQ(this._firestore);return this._transaction.lookup([e._key]).then(i=>{if(!i||1!==i.length)return st();const a=i[0];if(a.isFoundDocument())return new pM(this._firestore,r,a.key,a,e.converter);if(a.isNoDocument())return new pM(this._firestore,r,e._key,null,e.converter);throw st()})}set(t,e,r){const i=Ip(t,this._firestore),a=xP(i.converter,e,r),d=SP(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,d),this}update(t,e,r,...i){const a=Ip(t,this._firestore);let d;return d="string"==typeof(e=(0,L.m9)(e))||e instanceof Mh?x2(this._dataReader,"Transaction.update",a._key,e,r,i):A2(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,d),this}delete(t){const e=Ip(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Ip(t,this._firestore),r=new i_(this._firestore);return super.get(t).then(i=>new Dh(this._firestore,r,e._key,i._document,new r_(!1,!1),e.converter))}}function V2(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ie("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function JG(){if("undefined"==typeof Uint8Array)throw new Ie("unimplemented","Uint8Arrays are not available in this environment.")}function XG(){if("undefined"==typeof atob)throw new Ie("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){nv=Ss.SDK_VERSION,(0,Ss._registerComponent)(new ol.wA("firestore",(e,{options:r})=>{const i=e.getProvider("app").getImmediate(),a=new Er(i,new Q7(e.getProvider("auth-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a},"PUBLIC")),(0,Ss.registerVersion)(h6,"3.3.1",n),(0,Ss.registerVersion)(h6,"3.3.1","esm2017")}();class _M{constructor(t){this._delegate=t}static fromBase64String(t){return XG(),new _M(Gu.fromBase64String(t))}static fromUint8Array(t){return JG(),new _M(Gu.fromUint8Array(t))}toBase64(){return XG(),this._delegate.toBase64()}toUint8Array(){return JG(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function B2(n){return function(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const r of["next","error","complete"])if(r in e&&"function"==typeof e[r])return!0;return!1}(n)}class MQ{enableIndexedDbPersistence(t,e){return function(n,t){AG(n=sn(n,Er));const e=Ei(n),r=n._freezeSettings(),i=new b2;return PG(e,i,new hG(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function(n){AG(n=sn(n,Er));const t=Ei(n),e=n._freezeSettings(),r=new b2;return PG(t,r,new h9(r,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function(n){if(n._initialized&&!n._terminated)throw new Ie(ge.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new ji;return n._queue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{yield(e=(0,_e.Z)(function*(r){if(!Oc.bt())return Promise.resolve();const i=r+"main";yield Oc.delete(i)}),function(r){return e.apply(this,arguments)})(uL(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class e${constructor(t,e,r){this._delegate=e,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},t instanceof xv||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&jE("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,r={}){!function(n,t,e,r={}){var i;const a=(n=sn(n,hM))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&jE("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${t}:${e}`,ssl:!1})),r.mockUserToken){let d,f;if("string"==typeof r.mockUserToken)d=r.mockUserToken,f=mo.MOCK_USER;else{d=(0,L.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Ie(ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new mo(m)}n._credentials=new K7(new f6(d,f))}}(this._delegate,t,e,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const t=yield mG(n),e=yield _G(n);return t.setNetworkEnabled(!0),function(r){const i=Be(r);return i.Wr.delete(0),uM(i)}(e)}))}(Ei(n=sn(n,Er)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,_e.Z)(function*(){const t=yield mG(n),e=yield _G(n);return t.setNetworkEnabled(!1),(r=(0,_e.Z)(function*(i){const a=Be(i);a.Wr.add(0),yield Mv(a),a.Hr.set("Offline")}),function(i){return r.apply(this,arguments)})(e);var r}))}(Ei(n=sn(n,Er)))}(this._delegate)}enablePersistence(t){let e=!1,r=!1;return t&&(e=!!t.synchronizeTabs,r=!!t.experimentalForceOwningTab,CG("synchronizeTabs",e,"experimentalForceOwningTab",r)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(t){const e=new ji;return t.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(n,t){return n2.apply(this,arguments)}(yield O2(t),e)})),e.promise}(Ei(n=sn(n,Er)))}(this._delegate)}onSnapshotsInSync(t){return function(n,t){return function(n,t){const e=new EP(t);return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return r=yield Av(n),i=e,Be(r).so.add(i),void i.next();var r,i})),()=>{e.ec(),n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return r=yield Av(n),i=e,void Be(r).so.delete(i);var r,i}))}}(Ei(n=sn(n,Er)),S2(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Ie("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new kv(this,OG(this._delegate,t))}catch(e){throw cs(e,"collection()","Firestore.collection()")}}doc(t){try{return new El(this,OP(this._delegate,t))}catch(e){throw cs(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new us(this,function(n,t){if(n=sn(n,hM),I2("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ie(ge.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Uo(n,null,(e=t,new vh(gn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw cs(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function(n,t){return function(n,t){const e=new ji;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){const r=yield(i=n,MP(i).then(a=>a.datastore));var i;new g9(n.asyncQueue,r,t,e).run()})),e.promise}(Ei(n=sn(n,Er)),e=>t(new pQ(n,e)))}(this._delegate,e=>t(new t$(this,e)))}batch(){return Ei(this._delegate),new n$(new ZG(this._delegate,t=>Fv(this._delegate,t)))}loadBundle(t){return function(n,t){const e=Ei(n=sn(n,Er)),r=new S9;return function(n,t,e,r){const i=function(a,d){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,m=function(m,C){if(m instanceof Uint8Array)return fG(m,C);if(m instanceof ArrayBuffer)return fG(new Uint8Array(m),C);if(m instanceof ReadableStream)return m.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new f9(m,d);var m}(e,cM(t));n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){!function(n,t,e){const r=Be(n);var i;(i=(0,_e.Z)(function*(a,d,f){try{const m=yield d.getMetadata();if(yield function(x,R){const j=Be(x),ie=$i(R.createTime);return j.persistence.runTransaction("hasNewerBundle","readonly",pe=>j.Je.getBundleMetadata(pe,R.id)).then(pe=>!!pe&&pe.createTime.compareTo(ie)>=0)}(a.localStore,m))return yield d.close(),void f._completeWith((x=m,{taskState:"Success",documentsLoaded:x.totalDocuments,bytesLoaded:x.totalBytes,totalDocuments:x.totalDocuments,totalBytes:x.totalBytes}));f._updateProgress(nG(m));const C=new GK(m,a.localStore,d.N);let M=yield d.zo();for(;M;){const x=yield C.mo(M);x&&f._updateProgress(x),M=yield d.zo()}const T=yield C.complete();yield Eh(a,T.En,void 0),yield function(x,R){const j=Be(x);return j.persistence.runTransaction("Save bundle","readwrite",ie=>j.Je.saveBundleMetadata(ie,R))}(a.localStore,m),f._completeWith(T.progress)}catch(m){jE("SyncEngine",`Loading bundle failed with ${m}`),f._failWith(m)}var x}),function(a,d,f){return i.apply(this,arguments)})(r,t,e).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield O2(n),i,r)}))}(e,n._databaseId,t,r),r}(this._delegate,t)}namedQuery(t){return function(n,t){return function(n,t){return n.asyncQueue.enqueue((0,_e.Z)(function*(){return function(e,r){const i=Be(e);return i.persistence.runTransaction("Get named query","readonly",a=>i.Je.getNamedQuery(a,r))}(yield D2(n),t)}))}(Ei(n=sn(n,Er)),t).then(e=>e?new Uo(n,null,e.query):null)}(this._delegate,t).then(e=>e?new us(this,e):null)}}class FP extends N2{constructor(t){super(),this.firestore=t}convertBytes(t){return new _M(new Gu(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return El.forKey(e,this.firestore,null)}}class t${constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new FP(t)}get(t){const e=s_(t);return this._delegate.get(e).then(r=>new yM(this._firestore,new Dh(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,e.converter)))}set(t,e,r){const i=s_(t);return r?(V2("Transaction.set",r),this._delegate.set(i,e,r)):this._delegate.set(i,e),this}update(t,e,r,...i){const a=s_(t);return 2===arguments.length?this._delegate.update(a,e):this._delegate.update(a,e,r,...i),this}delete(t){const e=s_(t);return this._delegate.delete(e),this}}class n${constructor(t){this._delegate=t}set(t,e,r){const i=s_(t);return r?(V2("WriteBatch.set",r),this._delegate.set(i,e,r)):this._delegate.set(i,e),this}update(t,e,r,...i){const a=s_(t);return 2===arguments.length?this._delegate.update(a,e):this._delegate.update(a,e,r,...i),this}delete(t){const e=s_(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class o_{constructor(t,e,r){this._firestore=t,this._userDataWriter=e,this._delegate=r}fromFirestore(t,e){const r=new gM(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new bM(this._firestore,r),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const r=o_.INSTANCES;let i=r.get(t);i||(i=new WeakMap,r.set(t,i));let a=i.get(e);return a||(a=new o_(t,new FP(t),e),i.set(e,a)),a}}o_.INSTANCES=new WeakMap;class El{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new FP(t)}static forPath(t,e,r){if(t.length%2!=0)throw new Ie("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new El(e,new er(e._delegate,r,new ot(t)))}static forKey(t,e,r){return new El(e,new er(e._delegate,r,t))}get id(){return this._delegate.id}get parent(){return new kv(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new kv(this.firestore,OG(this._delegate,t))}catch(e){throw cs(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,L.m9)(t))instanceof er&&TG(this._delegate,t)}set(t,e){e=V2("DocumentReference.set",e);try{return e?YG(this._delegate,t,e):YG(this._delegate,t)}catch(r){throw cs(r,"setDoc()","DocumentReference.set()")}}update(t,e,...r){try{return 1===arguments.length?KG(this._delegate,t):KG(this._delegate,t,e,...r)}catch(i){throw cs(i,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return Fv(sn(n.firestore,Er),[new XE(n._key,si.none())])}(this._delegate)}onSnapshot(...t){const e=r$(t),r=i$(t,i=>new yM(this.firestore,new Dh(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return QG(this._delegate,e,r)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(n){n=sn(n,er);const t=sn(n.firestore,Er),e=Ei(t),r=new i_(t);return function(n,t){const e=new ji;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(i,a,d){try{const f=yield function(m,C){const M=Be(m);return M.persistence.runTransaction("read document","readonly",T=>M.Qn.An(T,C))}(i,a);f.isFoundDocument()?d.resolve(f):f.isNoDocument()?d.resolve(null):d.reject(new Ie(ge.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const m=Tv(f,`Failed to get document '${a} from cache`);d.reject(m)}}),function(i,a,d){return r.apply(this,arguments)})(yield D2(n),t,e);var r})),e.promise}(e,n._key).then(i=>new Dh(t,r,n._key,i,new r_(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function(n){n=sn(n,er);const t=sn(n.firestore,Er);return yG(Ei(t),n._key,{source:"server"}).then(e=>L2(t,n,e))}(this._delegate):function(n){n=sn(n,er);const t=sn(n.firestore,Er);return yG(Ei(t),n._key).then(e=>L2(t,n,e))}(this._delegate),e.then(r=>new yM(this.firestore,new Dh(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(t){return new El(this.firestore,this._delegate.withConverter(t?o_.getInstance(this.firestore,t):null))}}function cs(n,t,e){return n.message=n.message.replace(t,e),n}function r$(n){for(const t of n)if("object"==typeof t&&!B2(t))return t;return{}}function i$(n,t){var e,r;let i;return i=B2(n[0])?n[0]:B2(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(t(a))},error:null===(e=i.error)||void 0===e?void 0:e.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class yM{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new El(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return BG(this._delegate,t._delegate)}}class bM extends yM{data(t){const e=this._delegate.data(t);return function(n,t){n||st()}(void 0!==e),e}}class us{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new FP(t)}where(t,e,r){try{return new us(this.firestore,Tp(this._delegate,function(n,t,e){const r=t,i=AP("where",n);return new Z9(i,r,e)}(t,e,r)))}catch(i){throw cs(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new us(this.firestore,Tp(this._delegate,function(n,t="asc"){const e=t,r=AP("orderBy",n);return new K9(r,e)}(t,e)))}catch(r){throw cs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new us(this.firestore,Tp(this._delegate,function(n){return MG("limit",n),new HG("limit",n,"F")}(t)))}catch(e){throw cs(e,"limit()","Query.limit()")}}limitToLast(t){try{return new us(this.firestore,Tp(this._delegate,function(n){return MG("limitToLast",n),new HG("limitToLast",n,"L")}(t)))}catch(e){throw cs(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new us(this.firestore,Tp(this._delegate,function(...n){return new jG("startAt",n,!0)}(...t)))}catch(e){throw cs(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new us(this.firestore,Tp(this._delegate,function(...n){return new jG("startAfter",n,!1)}(...t)))}catch(e){throw cs(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new us(this.firestore,Tp(this._delegate,function(...n){return new zG("endBefore",n,!0)}(...t)))}catch(e){throw cs(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new us(this.firestore,Tp(this._delegate,function(...n){return new zG("endAt",n,!1)}(...t)))}catch(e){throw cs(e,"endAt()","Query.endAt()")}}isEqual(t){return IG(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(n){n=sn(n,Uo);const t=sn(n.firestore,Er),e=Ei(t),r=new i_(t);return function(n,t){const e=new ji;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(i,a,d){try{const f=yield _P(i,a,!0),m=new oG(a,f.Gn),C=m.bo(f.documents),M=m.applyChanges(C,!1);d.resolve(M.snapshot)}catch(f){const m=Tv(f,`Failed to execute query '${a} against cache`);d.reject(m)}}),function(i,a,d){return r.apply(this,arguments)})(yield D2(n),t,e);var r})),e.promise}(e,n._query).then(i=>new Op(t,r,n,i))}(this._delegate):"server"===(null==t?void 0:t.source)?function(n){n=sn(n,Uo);const t=sn(n.firestore,Er),e=Ei(t),r=new i_(t);return bG(e,n._query,{source:"server"}).then(i=>new Op(t,r,n,i))}(this._delegate):function(n){n=sn(n,Uo);const t=sn(n.firestore,Er),e=Ei(t),r=new i_(t);return UG(n._query),bG(e,n._query).then(i=>new Op(t,r,n,i))}(this._delegate),e.then(r=>new U2(this.firestore,new Op(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...t){const e=r$(t),r=i$(t,i=>new U2(this.firestore,new Op(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return QG(this._delegate,e,r)}withConverter(t){return new us(this.firestore,this._delegate.withConverter(t?o_.getInstance(this.firestore,t):null))}}class OQ{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new bM(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class U2{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new us(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new bM(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new OQ(this._firestore,e))}forEach(t,e){this._delegate.forEach(r=>{t.call(e,new bM(this._firestore,r))})}isEqual(t){return BG(this._delegate,t._delegate)}}class kv extends us{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new El(this.firestore,t):null}doc(t){try{return new El(this.firestore,void 0===t?OP(this._delegate):OP(this._delegate,t))}catch(e){throw cs(e,"doc()","CollectionReference.doc()")}}add(t){return function(n,t){const e=sn(n.firestore,Er),r=OP(n),i=xP(n.converter,t);return Fv(e,[SP(t_(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,si.exists(!1))]).then(()=>r)}(this._delegate,t).then(e=>new El(this.firestore,e))}isEqual(t){return TG(this._delegate,t._delegate)}withConverter(t){return new kv(this.firestore,this._delegate.withConverter(t?o_.getInstance(this.firestore,t):null))}}function s_(n){return sn(n,er)}class H2{constructor(...t){this._delegate=new Mh(...t)}static documentId(){return new H2(_o.keyField().canonicalString())}isEqual(t){return(t=(0,L.m9)(t))instanceof Mh&&this._delegate._internalPath.isEqual(t._internalPath)}}class a_{constructor(t){this._delegate=t}static serverTimestamp(){const t=new P2("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new a_(t)}static delete(){const t=new fM("deleteField");return t._methodName="FieldValue.delete",new a_(t)}static arrayUnion(...t){const e=function(...n){return new j9("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new a_(e)}static arrayRemove(...t){const e=function(...n){return new z9("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new a_(e)}static increment(t){const e=function(n){return new G9("increment",n)}(t);return e._methodName="FieldValue.increment",new a_(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const TQ={Firestore:e$,GeoPoint:TP,Timestamp:zi,Blob:_M,Transaction:t$,WriteBatch:n$,DocumentReference:El,DocumentSnapshot:yM,Query:us,QueryDocumentSnapshot:bM,QuerySnapshot:U2,CollectionReference:kv,FieldPath:H2,FieldValue:a_,setLogLevel:function(n){!function(n){mp.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function o$(n,t){return function(n,t=Gd.z){return new mn.y(e=>{let r;return null!=t?t.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},e)}):r=n.onSnapshot({includeMetadataChanges:!0},e),()=>{null!=r&&r()}})}(n,t)}function j2(n,t){return o$(n,t).pipe((0,$e.U)(e=>({payload:e,type:"query"})))}function kP(n,t){return j2(n,t).pipe(Kr(void 0),uS(),(0,$e.U)(([e,r])=>{const i=r.payload.docChanges(),a=i.map(d=>({type:d.type,payload:d}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,f)=>{const m=i.find(M=>M.doc.ref.isEqual(d.ref)),C=null==e?void 0:e.payload.docs.find(M=>M.ref.isEqual(d.ref));m&&JSON.stringify(m.doc.metadata)===JSON.stringify(d.metadata)||!m&&C&&JSON.stringify(C.metadata)===JSON.stringify(d.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:d}})}),a}))}function s$(n,t,e){return kP(n,e).pipe(Ga((r,i)=>function(n,t,e){return t.forEach(r=>{e.indexOf(r.type)>-1&&(n=function(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return z2(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return z2(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return z2(n,t.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),t),[]),Hg(),(0,$e.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function z2(n,t,e,...r){const i=n.slice();return i.splice(t,e,...r),i}function a$(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function(n){(function(n,t){n.INTERNAL.registerComponent(new ol.wA("firestore-compat",e=>((t,e)=>new e$(t,e,new MQ))(e.getProvider("app-compat").getImmediate(),e.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},TQ)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.8")}(aR.Z);class l${constructor(t,e,r){this.ref=t,this.query=e,this.afs=r}stateChanges(t){let e=kP(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,$e.U)(r=>r.filter(i=>t.indexOf(i.type)>-1)))),e.pipe(Kr(void 0),uS(),On(([r,i])=>i.length>0||!r),(0,$e.U)(([r,i])=>i),xn.iC)}auditTrail(t){return this.stateChanges(t).pipe(Ga((e,r)=>[...e,...r],[]))}snapshotChanges(t){const e=a$(t);return s$(this.query,e,this.afs.schedulers.outsideAngular).pipe(xn.iC)}valueChanges(t={}){return j2(this.query,this.afs.schedulers.outsideAngular).pipe((0,$e.U)(e=>e.payload.docs.map(r=>t.idField?Object.assign(Object.assign({},r.data()),{[t.idField]:r.id}):r.data())),xn.iC)}get(t){return(0,hn.D)(this.query.get(t)).pipe(xn.iC)}add(t){return this.ref.add(t)}doc(t){return new c$(this.ref.doc(t),this.afs)}}class c${constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const r=this.ref.collection(t),{ref:i,query:a}=h$(r,e);return new l$(i,a,this.afs)}snapshotChanges(){return function(n,t){return o$(n,t).pipe(Kr(void 0),uS(),(0,$e.U)(([e,r])=>r.exists?(null==e?void 0:e.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(xn.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,$e.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,hn.D)(this.ref.get(t)).pipe(xn.iC)}}class kQ{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?kP(this.query,this.afs.schedulers.outsideAngular).pipe((0,$e.U)(e=>e.filter(r=>t.indexOf(r.type)>-1)),On(e=>e.length>0),xn.iC):kP(this.query,this.afs.schedulers.outsideAngular).pipe(xn.iC)}auditTrail(t){return this.stateChanges(t).pipe(Ga((e,r)=>[...e,...r],[]))}snapshotChanges(t){const e=a$(t);return s$(this.query,e,this.afs.schedulers.outsideAngular).pipe(xn.iC)}valueChanges(t={}){return j2(this.query,this.afs.schedulers.outsideAngular).pipe((0,$e.U)(r=>r.payload.docs.map(i=>t.idField?Object.assign({[t.idField]:i.id},i.data()):i.data())),xn.iC)}get(t){return(0,hn.D)(this.query.get(t)).pipe(xn.iC)}}const u$=new l.OlP("angularfire2.enableFirestorePersistence"),d$=new l.OlP("angularfire2.firestore.persistenceSettings"),RQ=new l.OlP("angularfire2.firestore.settings"),NQ=new l.OlP("angularfire2.firestore.use-emulator");function h$(n,t=(e=>e)){return{query:t(n),ref:n}}let LQ=(()=>{class n{constructor(e,r,i,a,d,f,m,C,M,T,x,R,j,ie,pe,Ae,Ge){this.schedulers=m;const et=(0,ao.on)(e,f,r),tt=M;T&&My(et,f,x,j,ie,pe,R,Ae),[this.firestore,this.persistenceEnabled$]=(0,ao.cc)(`${et.name}.firestore`,"AngularFirestore",et.name,()=>{const vn=f.runOutsideAngular(()=>et.firestore());if(a&&vn.settings(a),tt&&vn.useEmulator(...tt),i&&!Fc(d)){const Mr=()=>{try{return(0,hn.D)(vn.enablePersistence(C||void 0).then(()=>!0,()=>!1))}catch(vo){return"undefined"!=typeof console&&console.warn(vo),(0,Le.of)(!1)}};return[vn,f.runOutsideAngular(Mr)]}return[vn,(0,Le.of)(!1)]},[a,tt,i])}collection(e,r){let i;i="string"==typeof e?this.firestore.collection(e):e;const{ref:a,query:d}=h$(i,r),f=this.schedulers.ngZone.run(()=>a);return new l$(f,d,this)}collectionGroup(e,r){const i=r||(d=>d),a=this.firestore.collectionGroup(e);return new kQ(i(a),this)}doc(e){let r;r="string"==typeof e?this.firestore.doc(e):e;const i=this.schedulers.ngZone.run(()=>r);return new c$(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(ao.Dh),l.LFG(ao.xv,8),l.LFG(u$,8),l.LFG(RQ,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(xn.HU),l.LFG(d$,8),l.LFG(NQ,8),l.LFG(Bf,8),l.LFG(Fg,8),l.LFG(Ey,8),l.LFG(kg,8),l.LFG(Rg,8),l.LFG(Ng,8),l.LFG(cw,8),l.LFG(rw,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),VQ=(()=>{class n{constructor(){lw.Z.registerVersion("angularfire",xn.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:u$,useValue:!0},{provide:d$,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[LQ]}),n})();function BQ(n,t){}class G2{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const UQ={dialogContainer:Mu("dialogContainer",[Du("void, exit",vi({opacity:0,transform:"scale(0.7)"})),Du("enter",vi({transform:"none"})),hl("* => enter",hc("150ms cubic-bezier(0, 0, 0.2, 1)",vi({transform:"none",opacity:1}))),hl("* => void, * => exit",hc("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",vi({opacity:0})))])};let HQ=(()=>{class n extends j1{constructor(e,r,i,a,d,f){super(),this._elementRef=e,this._focusTrapFactory=r,this._changeDetectorRef=i,this._config=d,this._focusMonitor=f,this._animationStateChanged=new l.vpe,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=m=>(this._portalOutlet.hasAttached(),this._portalOutlet.attachDomPortal(m)),this._ariaLabelledBy=d.ariaLabelledBy||null,this._document=a}_initializeWithAttachedContent(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}attachComponentPortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const r=Ry(),i=this._elementRef.nativeElement;(!r||r===this._document.body||r===i||i.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}_capturePreviouslyFocusedElement(){this._document&&(this._elementFocusedBeforeDialogWasOpened=Ry())}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,r=Ry();return e===r||e.contains(r)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(bO),l.Y36(l.sBO),l.Y36(K,8),l.Y36(G2),l.Y36(As))},n.\u0275dir=l.lG2({type:n,viewQuery:function(e,r){if(1&e&&l.Gf(wS,7),2&e){let i;l.iGM(i=l.CRH())&&(r._portalOutlet=i.first)}},features:[l.qOj]}),n})(),jQ=(()=>{class n extends HQ{constructor(){super(...arguments),this._state="enter"}_onAnimationDone({toState:e,totalTime:r}){"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:r})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:r}))}_onAnimationStart({toState:e,totalTime:r}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:r}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:r})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,r){1&e&&l.WFA("@dialogContainer.start",function(a){return r._onAnimationStart(a)})("@dialogContainer.done",function(a){return r._onAnimationDone(a)}),2&e&&(l.Ikx("id",r._id),l.uIk("role",r._config.role)("aria-labelledby",r._config.ariaLabel?null:r._ariaLabelledBy)("aria-label",r._config.ariaLabel)("aria-describedby",r._config.ariaDescribedBy||null),l.d8E("@dialogContainer",r._state))},features:[l.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,r){1&e&&l.YNc(0,BQ,0,0,"ng-template",0)},directives:[wS],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[UQ.dialogContainer]}}),n})(),zQ=0;class $2{constructor(t,e,r="mat-dialog-"+zQ++){this._overlayRef=t,this._containerInstance=e,this.id=r,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new it.xQ,this._afterClosed=new it.xQ,this._beforeClosed=new it.xQ,this._state=0,e._id=r,e._animationStateChanged.pipe(On(i=>"opened"===i.state),_r(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),e._animationStateChanged.pipe(On(i=>"closed"===i.state),_r(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),t.keydownEvents().pipe(On(i=>27===i.keyCode&&!this.disableClose&&!Eu(i))).subscribe(i=>{i.preventDefault(),q2(this,"keyboard")}),t.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():q2(this,"mouse")})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(On(e=>"closing"===e.state),_r(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._afterClosed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(t){let e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(t="",e=""){return this._overlayRef.updateSize({width:t,height:e}),this._overlayRef.updatePosition(),this}addPanelClass(t){return this._overlayRef.addPanelClass(t),this}removePanelClass(t){return this._overlayRef.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function q2(n,t,e){return void 0!==n._containerInstance&&(n._containerInstance._closeInteractionType=t),n.close(e)}const f$=new l.OlP("MatDialogData"),GQ=new l.OlP("mat-dialog-default-options"),p$=new l.OlP("mat-dialog-scroll-strategy"),qQ={provide:p$,deps:[mh],useFactory:function(n){return()=>n.scrollStrategies.block()}};let WQ=(()=>{class n{constructor(e,r,i,a,d,f,m,C,M){this._overlay=e,this._injector=r,this._defaultOptions=i,this._parentDialog=a,this._overlayContainer=d,this._dialogRefConstructor=m,this._dialogContainerType=C,this._dialogDataToken=M,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new it.xQ,this._afterOpenedAtThisLevel=new it.xQ,this._ariaHiddenElements=new Map,this.afterAllClosed=pi(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Kr(void 0))),this._scrollStrategy=f}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,r){(r=function(n,t){return Object.assign(Object.assign({},t),n)}(r,this._defaultOptions||new G2)).id&&this.getDialogById(r.id);const i=this._createOverlay(r),a=this._attachDialogContainer(i,r),d=this._attachDialogContent(e,a,i,r);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(d),d.afterClosed().subscribe(()=>this._removeOpenDialog(d)),this.afterOpened.next(d),a._initializeWithAttachedContent(),d}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(r=>r.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const r=this._getOverlayConfig(e);return this._overlay.create(r)}_getOverlayConfig(e){const r=new ES({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(r.backdropClass=e.backdropClass),r}_attachDialogContainer(e,r){const a=l.zs3.create({parent:r&&r.viewContainerRef&&r.viewContainerRef.injector||this._injector,providers:[{provide:G2,useValue:r}]}),d=new H1(this._dialogContainerType,r.viewContainerRef,a,r.componentFactoryResolver);return e.attach(d).instance}_attachDialogContent(e,r,i,a){const d=new this._dialogRefConstructor(i,r,a.id);if(e instanceof l.Rgc)r.attachTemplatePortal(new Yb(e,null,{$implicit:a.data,dialogRef:d}));else{const f=this._createInjector(a,d,r),m=r.attachComponentPortal(new H1(e,a.viewContainerRef,f));d.componentInstance=m.instance}return d.updateSize(a.width,a.height).updatePosition(a.position),d}_createInjector(e,r,i){const a=e&&e.viewContainerRef&&e.viewContainerRef.injector,d=[{provide:this._dialogContainerType,useValue:i},{provide:this._dialogDataToken,useValue:e.data},{provide:this._dialogRefConstructor,useValue:r}];return e.direction&&(!a||!a.get(Fs,null,l.XFs.Optional))&&d.push({provide:Fs,useValue:{value:e.direction,change:(0,Le.of)()}}),l.zs3.create({parent:a||this._injector,providers:d})}_removeOpenDialog(e){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((i,a)=>{i?a.setAttribute("aria-hidden",i):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const r=e.parentElement.children;for(let i=r.length-1;i>-1;i--){let a=r[i];a!==e&&"SCRIPT"!==a.nodeName&&"STYLE"!==a.nodeName&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let r=e.length;for(;r--;)e[r].close()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(mh),l.Y36(l.zs3),l.Y36(void 0),l.Y36(void 0),l.Y36(CE),l.Y36(void 0),l.Y36(l.DyG),l.Y36(l.DyG),l.Y36(l.OlP))},n.\u0275dir=l.lG2({type:n}),n})(),RP=(()=>{class n extends WQ{constructor(e,r,i,a,d,f,m){super(e,r,a,f,m,d,$2,jQ,f$)}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(mh),l.LFG(l.zs3),l.LFG(xt,8),l.LFG(GQ,8),l.LFG(p$),l.LFG(n,12),l.LFG(CE))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),YQ=0,KQ=(()=>{class n{constructor(e,r,i){this.dialogRef=e,this._elementRef=r,this._dialog=i,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=g$(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const r=e._matDialogClose||e._matDialogCloseResult;r&&(this.dialogResult=r.currentValue)}_onButtonClick(e){q2(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36($2,8),l.Y36(l.SBq),l.Y36(RP))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,r){1&e&&l.NdJ("click",function(a){return r._onButtonClick(a)}),2&e&&l.uIk("aria-label",r.ariaLabel||null)("type",r.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[l.TTD]}),n})(),QQ=(()=>{class n{constructor(e,r,i){this._dialogRef=e,this._elementRef=r,this._dialog=i,this.id="mat-dialog-title-"+YQ++}ngOnInit(){this._dialogRef||(this._dialogRef=g$(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{const e=this._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=this.id)})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36($2,8),l.Y36(l.SBq),l.Y36(RP))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(e,r){2&e&&l.Ikx("id",r.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),n})(),JQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),n})(),XQ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),n})();function g$(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(r=>r.id===e.id):null}let eJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[RP,qQ],imports:[[G1,xH,Sn],Sn]}),n})(),tJ=(()=>{class n{constructor(e){this.data=e}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(f$))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-warning-dialog"]],decls:11,vars:5,consts:[[1,"container"],["mat-dialog-title","",1,"title"],[1,"mat-typography"],[1,"message"],[1,"btn-group"],["mat-dialog-close","",1,"btn-group__cancel","btn-group__item"],["cdkFocusInitial","",1,"btn-group__continue","btn-group__item",3,"mat-dialog-close"]],template:function(e,r){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"h2",1),l._uU(2),l.qZA(),l.TgZ(3,"mat-dialog-content",2),l.TgZ(4,"p",3),l._uU(5),l.qZA(),l.qZA(),l.TgZ(6,"mat-dialog-actions",4),l.TgZ(7,"button",5),l._uU(8),l.qZA(),l.TgZ(9,"button",6),l._uU(10),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(2),l.Oqu(r.data.title),l.xp6(3),l.Oqu(r.data.message),l.xp6(3),l.Oqu(r.data.firstButtonText),l.xp6(1),l.Q6J("mat-dialog-close",!0),l.xp6(1),l.Oqu(r.data.secondButtonText))},directives:[QQ,JQ,XQ,KQ],styles:['.container[_ngcontent-%COMP%]{cursor:default;background-color:#fff;border-radius:8px;width:420px;max-height:577px;display:flex;flex-direction:column;padding:10px}.title[_ngcontent-%COMP%]{line-height:36px;font-weight:700;font-size:24px;color:#3b454e;font-family:"Segoe",Helvetica,Arial,sans-serif}.btn-group[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;flex-direction:row}.btn-group__item[_ngcontent-%COMP%]{line-height:24px;font-weight:400;font-size:16px;font-family:"Segoe",Helvetica,Arial,sans-serif;border:none;height:40px;outline-style:none;flex-grow:0;cursor:pointer;-webkit-user-select:none;user-select:none;transition-property:opacity;touch-action:manipulation;max-width:100%;overflow:hidden;text-overflow:ellipsis;white-space:pre;transition-duration:0s;align-items:center;padding-left:16px;padding-right:16px;color:currentcolor}.btn-group__cancel[_ngcontent-%COMP%]{margin-right:8px;color:#454545;box-shadow:#e3e8ed 0 0 0 1px inset;background-color:#fff;border-radius:4px;border-width:1px;border-color:#0000}.btn-group__cancel[_ngcontent-%COMP%]:hover{background-color:#ddd4d4}.btn-group__continue[_ngcontent-%COMP%]{background-color:#d33d3d;color:#fff;border-radius:4px;border-width:1px;border-color:#d33d3d}.btn-group__continue[_ngcontent-%COMP%]:hover{background-color:#a50c0c}.message[_ngcontent-%COMP%]{color:#3b454e;line-height:24px;font-weight:400;font-size:16px;font-family:"Segoe",Helvetica,Arial,sans-serif;font:inherit;white-space:inherit}']}),n})(),m$=(()=>{class n{constructor(e){this.db=e,this.basePath="posts"}ngOnInit(){this.postsRef=this.db.list(this.basePath)}createPost(e){const r=this.postsRef.push(e).key;return r&&(e.id=r),this.postsRef.update(`/${r}`,e)}getPost(e){return this.postRef=this.db.object(`${this.basePath}/${e}`),this.postRef.valueChanges()}getPostList(){return this.postsRef=this.db.list(this.basePath),this.postsRef.valueChanges()}getPostsByCategory(e){return this.postsRef=this.db.list(this.basePath,r=>r.orderByChild("category").equalTo(e)),this.postsRef.valueChanges()}getPostsByUserId(e){return this.postsRef=this.db.list(this.basePath,r=>r.orderByChild("authorId").equalTo(e)),this.postsRef.valueChanges()}updatePost(e){return this.getPost(e.id),this.postRef.update(e)}deletePost(e){return this.getPost(e),this.postRef.remove()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(aS))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_$=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=rn(e)}get inset(){return this._inset}set inset(e){this._inset=rn(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,r){2&e&&(l.uIk("aria-orientation",r.vertical?"vertical":"horizontal"),l.ekj("mat-divider-vertical",r.vertical)("mat-divider-horizontal",!r.vertical)("mat-divider-inset",r.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,r){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}\n"],encapsulation:2,changeDetection:0}),n})(),nJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[Sn],Sn]}),n})();var y$=V(3098);function b$(n,t=Gd.P){const r=function(n){return n instanceof Date&&!isNaN(+n)}(n)?+n-t.now():Math.abs(n);return i=>i.lift(new iJ(r,t))}class iJ{constructor(t,e){this.delay=t,this.scheduler=e}call(t,e){return e.subscribe(new W2(t,this.delay,this.scheduler))}}class W2 extends tn.L{constructor(t,e,r){super(t),this.delay=e,this.scheduler=r,this.queue=[],this.active=!1,this.errored=!1}static dispatch(t){const e=t.source,r=e.queue,i=t.scheduler,a=t.destination;for(;r.length>0&&r[0].time-i.now()<=0;)r.shift().notification.observe(a);if(r.length>0){const d=Math.max(0,r[0].time-i.now());this.schedule(t,d)}else this.unsubscribe(),e.active=!1}_schedule(t){this.active=!0,this.destination.add(t.schedule(W2.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}scheduleNotification(t){if(!0===this.errored)return;const e=this.scheduler,r=new oJ(e.now()+this.delay,t);this.queue.push(r),!1===this.active&&this._schedule(e)}_next(t){this.scheduleNotification(y$.P.createNext(t))}_error(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}_complete(){this.scheduleNotification(y$.P.createComplete()),this.unsubscribe()}}class oJ{constructor(t,e){this.time=t,this.notification=e}}const sJ=["mat-menu-item",""];function aJ(n,t){1&n&&(l.O4$(),l.TgZ(0,"svg",2),l._UZ(1,"polygon",3),l.qZA())}const v$=["*"];function lJ(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",0),l.NdJ("keydown",function(i){return l.CHM(e),l.oxw()._handleKeydown(i)})("click",function(){return l.CHM(e),l.oxw().closed.emit("click")})("@transformMenu.start",function(i){return l.CHM(e),l.oxw()._onAnimationStart(i)})("@transformMenu.done",function(i){return l.CHM(e),l.oxw()._onAnimationDone(i)}),l.TgZ(1,"div",1),l.Hsn(2),l.qZA(),l.qZA()}if(2&n){const e=l.oxw();l.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),l.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const NP={transformMenu:Mu("transformMenu",[Du("void",vi({opacity:0,transform:"scale(0.8)"})),hl("void => enter",hc("120ms cubic-bezier(0, 0, 0.2, 1)",vi({opacity:1,transform:"scale(1)"}))),hl("* => void",hc("100ms 25ms linear",vi({opacity:0})))]),fadeInItems:Mu("fadeInItems",[Du("showing",vi({opacity:1})),hl("void => *",[vi({opacity:0}),hc("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},C$=new l.OlP("MatMenuContent"),Z2=new l.OlP("MAT_MENU_PANEL"),uJ=rb(nh(class{}));let vM=(()=>{class n extends uJ{constructor(e,r,i,a,d){super(),this._elementRef=e,this._focusMonitor=i,this._parentMenu=a,this._changeDetectorRef=d,this.role="menuitem",this._hovered=new it.xQ,this._focused=new it.xQ,this._highlighted=!1,this._triggersSubmenu=!1,a&&a.addItem&&a.addItem(this)}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,r):this._getHostElement().focus(r),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){var e,r;const i=this._elementRef.nativeElement.cloneNode(!0),a=i.querySelectorAll("mat-icon, .material-icons");for(let d=0;d<a.length;d++){const f=a[d];null===(e=f.parentNode)||void 0===e||e.removeChild(f)}return(null===(r=i.textContent)||void 0===r?void 0:r.trim())||""}_setHighlighted(e){var r;this._highlighted=e,null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(K),l.Y36(As),l.Y36(Z2,8),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,r){1&e&&l.NdJ("click",function(a){return r._checkDisabled(a)})("mouseenter",function(){return r._handleMouseEnter()}),2&e&&(l.uIk("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled.toString())("disabled",r.disabled||null),l.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",r._highlighted)("mat-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[l.qOj],attrs:sJ,ngContentSelectors:v$,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,r){1&e&&(l.F$t(),l.Hsn(0),l._UZ(1,"div",0),l.YNc(2,aJ,2,0,"svg",1)),2&e&&(l.xp6(1),l.Q6J("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),l.xp6(1),l.Q6J("ngIf",r._triggersSubmenu))},directives:[fm,Nr],encapsulation:2,changeDetection:0}),n})();const w$=new l.OlP("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let hJ=0,CM=(()=>{class n{constructor(e,r,i){this._elementRef=e,this._ngZone=r,this._defaultOptions=i,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new l.n_E,this._tabSubscription=yr.w.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new it.xQ,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new l.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+hJ++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=rn(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=rn(e)}set panelClass(e){const r=this._previousPanelClass;r&&r.length&&r.split(" ").forEach(i=>{this._classList[i]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(i=>{this._classList[i]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new eF(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Kr(this._directDescendantItems),Dn(e=>(0,Is.T)(...e.map(r=>r._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(Kr(this._directDescendantItems),Dn(r=>(0,Is.T)(...r.map(i=>i._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const r=e.keyCode,i=this._keyManager;switch(r){case 27:Eu(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:(38===r||40===r)&&i.setFocusOrigin("keyboard"),i.onKeydown(e)}}focusFirstItem(e="program"){this.lazyContent?this._ngZone.onStable.pipe(_r(1)).subscribe(()=>this._focusFirstItem(e)):this._focusFirstItem(e)}_focusFirstItem(e){const r=this._keyManager;if(r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&this._directDescendantItems.length){let i=this._directDescendantItems.first._getHostElement().parentElement;for(;i;){if("menu"===i.getAttribute("role")){i.focus();break}i=i.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const r=Math.min(this._baseElevation+e,24),i=`${this._elevationPrefix}${r}`,a=Object.keys(this._classList).find(d=>d.startsWith(this._elevationPrefix));(!a||a===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[i]=!0,this._previousElevation=i)}setPositionClasses(e=this.xPosition,r=this.yPosition){const i=this._classList;i["mat-menu-before"]="before"===e,i["mat-menu-after"]="after"===e,i["mat-menu-above"]="above"===r,i["mat-menu-below"]="below"===r}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Kr(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(r=>r._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(w$))},n.\u0275dir=l.lG2({type:n,contentQueries:function(e,r,i){if(1&e&&(l.Suo(i,C$,5),l.Suo(i,vM,5),l.Suo(i,vM,4)),2&e){let a;l.iGM(a=l.CRH())&&(r.lazyContent=a.first),l.iGM(a=l.CRH())&&(r._allItems=a),l.iGM(a=l.CRH())&&(r.items=a)}},viewQuery:function(e,r){if(1&e&&l.Gf(l.Rgc,5),2&e){let i;l.iGM(i=l.CRH())&&(r.templateRef=i.first)}},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),n})(),E$=(()=>{class n extends CM{constructor(e,r,i){super(e,r,i),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(w$))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,r){2&e&&l.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[l._Bn([{provide:Z2,useExisting:n}]),l.qOj],ngContentSelectors:v$,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,r){1&e&&(l.F$t(),l.YNc(0,lJ,3,6,"ng-template"))},directives:[Eo],styles:["mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n"],encapsulation:2,data:{animation:[NP.transformMenu,NP.fadeInItems]},changeDetection:0}),n})();const M$=new l.OlP("mat-menu-scroll-strategy"),pJ={provide:M$,deps:[mh],useFactory:function(n){return()=>n.scrollStrategies.reposition()}},O$=uc({passive:!0});let gJ=(()=>{class n{constructor(e,r,i,a,d,f,m,C){this._overlay=e,this._element=r,this._viewContainerRef=i,this._menuItemInstance=f,this._dir=m,this._focusMonitor=C,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=yr.w.EMPTY,this._hoverSubscription=yr.w.EMPTY,this._menuCloseSubscription=yr.w.EMPTY,this._handleTouchStart=M=>{Ew(M)||(this._openedBy="touch")},this._openedBy=void 0,this._ariaHaspopup=!0,this.restoreFocus=!0,this.menuOpened=new l.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new l.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=a,this._parentMaterialMenu=d instanceof CM?d:void 0,r.nativeElement.addEventListener("touchstart",this._handleTouchStart,O$),f&&(f._triggersSubmenu=this.triggersSubmenu())}get _ariaExpanded(){return this.menuOpen||null}get _ariaControl(){return this.menuOpen?this.menu.panelId:null}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(r=>{this._destroyMenu(r),("click"===r||"tab"===r)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(r)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,O$),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const e=this._createOverlay(),r=e.getConfig();this._setPosition(r.positionStrategy),r.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,e.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof CM&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(e,r){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,r):this._element.nativeElement.focus(r)}updatePosition(){var e;null===(e=this._overlayRef)||void 0===e||e.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const r=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,r instanceof CM?(r._resetAnimation(),r.lazyContent?r._animationDone.pipe(On(i=>"void"===i.toState),_r(1),Gn(r.lazyContent._attached)).subscribe({next:()=>r.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),r.lazyContent&&r.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this.menu.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(){if(this.menu.setElevation){let e=0,r=this.menu.parentMenu;for(;r;)e++,r=r.parentMenu;this.menu.setElevation(e)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_checkMenu(){}_createOverlay(){if(!this._overlayRef){const e=this._getOverlayConfig();this._subscribeToPositions(e.positionStrategy),this._overlayRef=this._overlay.create(e),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new ES({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e){this.menu.setPositionClasses&&e.positionChanges.subscribe(r=>{this.menu.setPositionClasses("start"===r.connectionPair.overlayX?"after":"before","top"===r.connectionPair.overlayY?"below":"above")})}_setPosition(e){let[r,i]="before"===this.menu.xPosition?["end","start"]:["start","end"],[a,d]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[f,m]=[a,d],[C,M]=[r,i],T=0;this.triggersSubmenu()?(M=r="before"===this.menu.xPosition?"start":"end",i=C="end"===r?"start":"end",T="bottom"===a?8:-8):this.menu.overlapTrigger||(f="top"===a?"bottom":"top",m="top"===d?"bottom":"top"),e.withPositions([{originX:r,originY:f,overlayX:C,overlayY:a,offsetY:T},{originX:i,originY:f,overlayX:M,overlayY:a,offsetY:T},{originX:r,originY:m,overlayX:C,overlayY:d,offsetY:-T},{originX:i,originY:m,overlayX:M,overlayY:d,offsetY:-T}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),r=this._overlayRef.detachments(),i=this._parentMaterialMenu?this._parentMaterialMenu.closed:(0,Le.of)(),a=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(On(d=>d!==this._menuItemInstance),On(()=>this._menuOpen)):(0,Le.of)();return(0,Is.T)(e,i,a,r)}_handleMousedown(e){$g(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const r=e.keyCode;(13===r||32===r)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===r&&"ltr"===this.dir||37===r&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(On(e=>e===this._menuItemInstance&&!e.disabled),b$(0,I1.E)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof CM&&this.menu._isAnimating?this.menu._animationDone.pipe(_r(1),b$(0,I1.E),Gn(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return(!this._portal||this._portal.templateRef!==this.menu.templateRef)&&(this._portal=new Yb(this.menu.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(mh),l.Y36(l.SBq),l.Y36(l.s_b),l.Y36(M$),l.Y36(Z2,8),l.Y36(vM,10),l.Y36(Fs,8),l.Y36(As))},n.\u0275dir=l.lG2({type:n,hostVars:3,hostBindings:function(e,r){1&e&&l.NdJ("mousedown",function(a){return r._handleMousedown(a)})("keydown",function(a){return r._handleKeydown(a)})("click",function(a){return r._handleClick(a)}),2&e&&l.uIk("aria-haspopup",r._ariaHaspopup)("aria-expanded",r._ariaExpanded)("aria-controls",r._ariaControl)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),T$=(()=>{class n extends gJ{}return n.\u0275fac=function(){let t;return function(r){return(t||(t=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[l.qOj]}),n})(),mJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[pJ],imports:[[mr,Sn,b0,G1],hS,Sn]}),n})(),_J=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-post-view"]],inputs:{post:"post"},decls:7,vars:3,consts:[[1,"container"],[1,"title"],[1,"subtitle"],[1,"category"],[1,"content",3,"innerHTML"]],template:function(e,r){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"h1",1),l._uU(2),l.qZA(),l.TgZ(3,"div",2),l.TgZ(4,"span",3),l._uU(5),l.qZA(),l.qZA(),l._UZ(6,"div",4),l.qZA()),2&e&&(l.xp6(2),l.Oqu(r.post.title),l.xp6(3),l.hij("Category: ",r.post.category,""),l.xp6(1),l.Q6J("innerHTML",r.post.content,l.oJD))},styles:['.container[_ngcontent-%COMP%]{padding:0 90px;max-width:1000px;margin:16px auto}.category[_ngcontent-%COMP%]{color:#757575;line-height:20px;font-size:14px;font-family:"Open Sans",sans-serif;font-weight:400}.content[_ngcontent-%COMP%]{margin-top:10px}.title[_ngcontent-%COMP%]{margin-left:-3px;letter-spacing:-.011em;line-height:46px;margin-top:.6em;font-size:40px;color:#292929;margin-bottom:.1em;font-weight:700;font-style:normal;line-height:1.23;letter-spacing:0;font-family:"Open Sans",sans-serif}']}),n})(),yJ=(()=>{class n{constructor(e){this.db=e,this.basePath="categories"}ngOnInit(){this.categoriesRef=this.db.list(this.basePath)}createCategory(e){const r=this.categoriesRef.push(e).key;return r&&(e.id=r),this.categoriesRef.update(`/${r}`,e)}getCategory(e){return this.categoryRef=this.db.object(`${this.basePath}/${e}`),this.categoryRef.valueChanges()}getCategoryList(){return this.categoriesRef=this.db.list(this.basePath),this.categoriesRef.valueChanges()}updateCategory(e){return this.getCategory(e.id),this.categoryRef.update(e)}deleteCategory(e){return this.getCategory(e),this.categoryRef.remove()}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(aS))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const bJ=["editor"],vJ=["editorWrapper"],CJ=["editorToolbar"];function wJ(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"angular-editor-toolbar",8,9),l.NdJ("execute",function(i){return l.CHM(e),l.oxw().executeCommand(i)}),l.qZA()}if(2&n){const e=l.oxw();l.Q6J("id",e.id)("uploadUrl",e.config.uploadUrl)("upload",e.config.upload)("showToolbar",void 0===e.config.showToolbar||e.config.showToolbar)("fonts",e.getFonts())("customClasses",e.config.customClasses)("defaultFontName",e.config.defaultFontName)("defaultFontSize",e.config.defaultFontSize)("hiddenButtons",e.config.toolbarHiddenButtons)}}function EJ(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"angular-editor-toolbar",8,9),l.NdJ("execute",function(i){return l.CHM(e),l.oxw().executeCommand(i)}),l.qZA()}if(2&n){const e=l.oxw();l.Q6J("id",e.id)("uploadUrl",e.config.uploadUrl)("upload",e.config.upload)("showToolbar",void 0===e.config.showToolbar||e.config.showToolbar)("fonts",e.getFonts())("customClasses",e.config.customClasses)("defaultFontName",e.config.defaultFontName)("defaultFontSize",e.config.defaultFontSize)("hiddenButtons",e.config.toolbarHiddenButtons)}}const MJ=["fileInput"];function DJ(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",2),l.TgZ(1,"ae-select",63),l.NdJ("ngModelChange",function(i){return l.CHM(e),l.oxw(2).customClassId=i})("change",function(){l.CHM(e);const i=l.oxw(2);return i.setCustomClass(i.customClassId)}),l.qZA(),l.qZA()}if(2&n){const e=l.oxw(2);l.xp6(1),l.Q6J("options",e.customClassList)("ngModel",e.customClassId)("disabled",e.htmlMode)("hidden",e.isButtonHidden("customClasses"))}}function OJ(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",1),l.TgZ(1,"div",2),l.TgZ(2,"button",3),l.NdJ("click",function(){return l.CHM(e),l.oxw().triggerCommand("undo")}),l._UZ(3,"i",4),l.qZA(),l.TgZ(4,"button",5),l.NdJ("click",function(){return l.CHM(e),l.oxw().triggerCommand("redo")}),l._UZ(5,"i",6),l.qZA(),l.qZA(),l.TgZ(6,"div",2),l.TgZ(7,"button",7),l.NdJ("click",function(){return l.CHM(e),l.oxw().triggerCommand("bold")}),l._UZ(8,"i",8),l.qZA(),l.TgZ(9,"button",9),l.NdJ("click",function(){return l.CHM(e),l.oxw().triggerCommand("italic")}),l._UZ(10,"i",10),l.qZA(),l.TgZ(11,"button",11),l.NdJ("click",function(){return l.CHM(e),l.oxw().triggerCommand("underline")}),l._UZ(12,"i",12),l.qZA(),l.TgZ(13,"button",13),l.NdJ("click",function(){return l.CHM(e),l.oxw().triggerCommand("strikeThrough")}),l._UZ(14,"i",14),l.qZA(),l.TgZ(15,"button",15),l.NdJ("click",function(){return l.CHM(e),l.oxw().triggerCommand("subscript")}),l._UZ(16,"i",16),l.qZA(),l.TgZ(17,"button",17),l.NdJ("click",function(){return l.CHM(e),l.oxw().triggerCommand("superscript")}),l._UZ(18,"i",18),l.qZA(),l.qZA(),l.TgZ(19,"div",2),l.TgZ(20,"button",19),l.NdJ("click",function(){return l.CHM(e),l.oxw().triggerCommand("justifyLeft")}),l._UZ(21,"i",20),l.qZA(),l.TgZ(22,"button",21),l.NdJ("click",function(){return l.CHM(e),l.oxw().triggerCommand("justifyCenter")}),l._UZ(23,"i",22),l.qZA(),l.TgZ(24,"button",23),l.NdJ("click",function(){return l.CHM(e),l.oxw().triggerCommand("justifyRight")}),l._UZ(25,"i",24),l.qZA(),l.TgZ(26,"button",25),l.NdJ("click",function(){return l.CHM(e),l.oxw().triggerCommand("justifyFull")}),l._UZ(27,"i",26),l.qZA(),l.qZA(),l.TgZ(28,"div",2),l.TgZ(29,"button",27),l.NdJ("click",function(){return l.CHM(e),l.oxw().triggerCommand("indent")}),l._UZ(30,"i",28),l.qZA(),l.TgZ(31,"button",29),l.NdJ("click",function(){return l.CHM(e),l.oxw().triggerCommand("outdent")}),l._UZ(32,"i",30),l.qZA(),l.qZA(),l.TgZ(33,"div",2),l.TgZ(34,"button",31),l.NdJ("click",function(){return l.CHM(e),l.oxw().triggerCommand("insertUnorderedList")}),l._UZ(35,"i",32),l.qZA(),l.TgZ(36,"button",33),l.NdJ("click",function(){return l.CHM(e),l.oxw().triggerCommand("insertOrderedList")}),l._UZ(37,"i",34),l.qZA(),l.qZA(),l.TgZ(38,"div",2),l.TgZ(39,"ae-select",35),l.NdJ("ngModelChange",function(i){return l.CHM(e),l.oxw().block=i})("change",function(){l.CHM(e);const i=l.oxw();return i.triggerCommand(i.block)}),l.qZA(),l.qZA(),l.TgZ(40,"div",2),l.TgZ(41,"ae-select",36),l.NdJ("ngModelChange",function(i){return l.CHM(e),l.oxw().fontName=i})("change",function(){l.CHM(e);const i=l.oxw();return i.setFontName(i.fontName)}),l.qZA(),l.qZA(),l.TgZ(42,"div",2),l.TgZ(43,"ae-select",37),l.NdJ("ngModelChange",function(i){return l.CHM(e),l.oxw().fontSize=i})("change",function(){l.CHM(e);const i=l.oxw();return i.setFontSize(i.fontSize)}),l.qZA(),l.qZA(),l.TgZ(44,"div",2),l.TgZ(45,"input",38,39),l.NdJ("change",function(){l.CHM(e);const i=l.MAs(46);return l.oxw().insertColor(i.value,"textColor")}),l.qZA(),l.TgZ(47,"button",40),l.NdJ("click",function(){l.CHM(e);const i=l.MAs(46);return l.oxw().focus(),i.click()}),l.TgZ(48,"span",41),l._UZ(49,"i",42),l.qZA(),l.qZA(),l.TgZ(50,"input",38,43),l.NdJ("change",function(){l.CHM(e);const i=l.MAs(51);return l.oxw().insertColor(i.value,"backgroundColor")}),l.qZA(),l.TgZ(52,"button",44),l.NdJ("click",function(){l.CHM(e);const i=l.MAs(51);return l.oxw().focus(),i.click()}),l.TgZ(53,"span",45),l._UZ(54,"i",42),l.qZA(),l.qZA(),l.qZA(),l.YNc(55,DJ,2,4,"div",46),l.TgZ(56,"div",2),l.TgZ(57,"button",47),l.NdJ("click",function(){return l.CHM(e),l.oxw().insertUrl()}),l._UZ(58,"i",48),l.qZA(),l.TgZ(59,"button",49),l.NdJ("click",function(){return l.CHM(e),l.oxw().triggerCommand("unlink")}),l._UZ(60,"i",50),l.qZA(),l.TgZ(61,"input",51,52),l.NdJ("change",function(i){return l.CHM(e),l.oxw().onFileChanged(i)}),l.qZA(),l.TgZ(63,"button",53),l.NdJ("click",function(){l.CHM(e);const i=l.MAs(62);return l.oxw().focus(),i.click()}),l._UZ(64,"i",54),l.qZA(),l.TgZ(65,"button",55),l.NdJ("click",function(){return l.CHM(e),l.oxw().insertVideo()}),l._UZ(66,"i",56),l.qZA(),l.TgZ(67,"button",57),l.NdJ("click",function(){return l.CHM(e),l.oxw().triggerCommand("insertHorizontalRule")}),l._UZ(68,"i",58),l.qZA(),l.qZA(),l.TgZ(69,"div",2),l.TgZ(70,"button",59),l.NdJ("click",function(){return l.CHM(e),l.oxw().triggerCommand("removeFormat")}),l._UZ(71,"i",60),l.qZA(),l.qZA(),l.TgZ(72,"div",2),l.TgZ(73,"button",61),l.NdJ("click",function(){return l.CHM(e),l.oxw().triggerCommand("toggleEditorMode")}),l._UZ(74,"i",62),l.qZA(),l.qZA(),l.qZA()}if(2&n){const e=l.oxw();l.xp6(2),l.Q6J("hidden",e.isButtonHidden("undo")),l.xp6(2),l.Q6J("hidden",e.isButtonHidden("redo")),l.xp6(3),l.Q6J("id","bold-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("bold")),l.xp6(2),l.Q6J("id","italic-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("italic")),l.xp6(2),l.Q6J("id","underline-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("underline")),l.xp6(2),l.Q6J("id","strikeThrough-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("strikeThrough")),l.xp6(2),l.Q6J("id","subscript-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("subscript")),l.xp6(2),l.Q6J("id","superscript-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("superscript")),l.xp6(3),l.Q6J("id","justifyLeft-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("justifyLeft")),l.xp6(2),l.Q6J("id","justifyCenter-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("justifyCenter")),l.xp6(2),l.Q6J("id","justifyRight-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("justifyRight")),l.xp6(2),l.Q6J("id","justifyFull-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("justifyFull")),l.xp6(3),l.Q6J("id","indent-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("indent")),l.xp6(2),l.Q6J("id","outdent-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("outdent")),l.xp6(3),l.Q6J("id","insertUnorderedList-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("insertUnorderedList")),l.xp6(2),l.Q6J("id","insertOrderedList-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("insertOrderedList")),l.xp6(3),l.Q6J("options",e.headings)("ngModel",e.block)("disabled",e.htmlMode)("hidden",e.isButtonHidden("heading")),l.xp6(2),l.Q6J("options",e.fonts)("ngModel",e.fontName)("disabled",e.htmlMode)("hidden",e.isButtonHidden("fontName")),l.xp6(2),l.Q6J("options",e.fontSizes)("ngModel",e.fontSize)("disabled",e.htmlMode)("hidden",e.isButtonHidden("fontSize")),l.xp6(4),l.Q6J("id","foregroundColorPicker-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("textColor")),l.xp6(5),l.Q6J("id","backgroundColorPicker-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("backgroundColor")),l.xp6(3),l.Q6J("ngIf",e._customClasses),l.xp6(2),l.Q6J("id","link-"+e.id)("disabled",e.isLinkButtonDisabled)("hidden",e.isButtonHidden("link")),l.xp6(2),l.Q6J("id","unlink-"+e.id)("disabled",e.htmlMode||!e.linkSelected)("hidden",e.isButtonHidden("unlink")),l.xp6(4),l.Q6J("id","insertImage-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("insertImage")),l.xp6(2),l.Q6J("id","insertVideo-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("insertVideo")),l.xp6(2),l.Q6J("id","insertHorizontalRule-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("insertHorizontalRule")),l.xp6(3),l.Q6J("id","clearFormatting-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("removeFormat")),l.xp6(3),l.Q6J("id","toggleEditorMode-"+e.id)("hidden",e.isButtonHidden("toggleEditorMode"))}}const TJ=["labelButton"],IJ=function(n,t){return{selected:n,focused:t}};function SJ(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"button",9),l.NdJ("click",function(i){const d=l.CHM(e).$implicit;return l.oxw().optionSelect(d,i)}),l._uU(1),l.qZA()}if(2&n){const e=t.$implicit,r=t.index,i=l.oxw();l.Q6J("ngClass",l.WLB(2,IJ,e.value===i.value,r===i.optionId)),l.xp6(1),l.hij(" ",e.label," ")}}function PJ(n,t){1&n&&(l.TgZ(0,"span",10),l._uU(1,"No items for select"),l.qZA())}const AJ=function(n){return{"ae-expanded":n}};let Y2=(()=>{class n{constructor(e,r){this.http=e,this.doc=r,this.saveSelection=()=>{if(this.doc.getSelection){const i=this.doc.getSelection();i.getRangeAt&&i.rangeCount&&(this.savedSelection=i.getRangeAt(0),this.selectedText=i.toString())}else this.savedSelection=this.doc.getSelection&&this.doc.createRange?document.createRange():null}}executeCommand(e){["h1","h2","h3","h4","h5","h6","p","pre"].includes(e)?this.doc.execCommand("formatBlock",!1,e):this.doc.execCommand(e,!1,null)}createLink(e){e.includes("http")?this.insertHtml('<a href="'+e+'" target="_blank">'+this.selectedText+"</a>"):this.doc.execCommand("createlink",!1,e)}insertColor(e,r){this.restoreSelection()&&this.doc.execCommand("textColor"===r?"foreColor":"hiliteColor",!1,e)}setFontName(e){this.doc.execCommand("fontName",!1,e)}setFontSize(e){this.doc.execCommand("fontSize",!1,e)}insertHtml(e){if(!this.doc.execCommand("insertHTML",!1,e))throw new Error("Unable to perform the operation")}restoreSelection(){if(!this.savedSelection)return!1;if(this.doc.getSelection){const e=this.doc.getSelection();return e.removeAllRanges(),e.addRange(this.savedSelection),!0}return!!this.doc.getSelection||void 0}executeInNextQueueIteration(e,r=100){setTimeout(e,r)}checkSelection(){if(0===this.savedSelection.toString().length)throw new Error("No Selection Made");return!0}uploadImage(e){const r=new FormData;return r.append("file",e,e.name),this.http.post(this.uploadUrl,r,{reportProgress:!0,observe:"events",withCredentials:this.uploadWithCredentials})}insertImage(e){this.doc.execCommand("insertImage",!1,e)}setDefaultParagraphSeparator(e){this.doc.execCommand("defaultParagraphSeparator",!1,e)}createCustomClass(e){let r=this.selectedText;if(e){const i=e.tag?e.tag:"span";r="<"+i+' class="'+e.class+'">'+this.selectedText+"</"+i+">"}this.insertHtml(r)}insertVideo(e){e.match("www.youtube.com")&&this.insertYouTubeVideoTag(e),e.match("vimeo.com")&&this.insertVimeoVideoTag(e)}insertYouTubeVideoTag(e){const i=`https://img.youtube.com/vi/${e.split("v=")[1]}/0.jpg`;this.insertHtml(`\n      <div style='position: relative'>\n        <a href='${e}' target='_blank'>\n          <img src="${i}" alt="click to watch"/>\n          <img style='position: absolute; left:200px; top:140px'\n          src="https://img.icons8.com/color/96/000000/youtube-play.png"/>\n        </a>\n      </div>`)}insertVimeoVideoTag(e){const r=this.http.get(`https://vimeo.com/api/oembed.json?url=${e}`).subscribe(i=>{this.insertHtml(`<div>\n        <a href='${e}' target='_blank'>\n          <img src="${i.thumbnail_url_with_play_button}" alt="${i.title}"/>\n        </a>\n      </div>`),r.unsubscribe()})}nextNode(e){if(e.hasChildNodes())return e.firstChild;for(;e&&!e.nextSibling;)e=e.parentNode;return e?e.nextSibling:null}getRangeSelectedNodes(e,r){let i=e.startContainer;const a=e.endContainer;let d=[];if(i===a)d=[i];else{for(;i&&i!==a;)d.push(i=this.nextNode(i));for(i=e.startContainer;i&&i!==e.commonAncestorContainer;)d.unshift(i),i=i.parentNode}if(r)for(i=e.commonAncestorContainer;i;)d.push(i),i=i.parentNode;return d}getSelectedNodes(){const e=[];if(this.doc.getSelection){const r=this.doc.getSelection();for(let i=0,a=r.rangeCount;i<a;++i)e.push.apply(e,this.getRangeSelectedNodes(r.getRangeAt(i),!0))}return e}replaceWithOwnChildren(e){const r=e.parentNode;for(;e.hasChildNodes();)r.insertBefore(e.firstChild,e);r.removeChild(e)}removeSelectedElements(e){const r=e.toLowerCase().split(",");this.getSelectedNodes().forEach(i=>{1===i.nodeType&&r.indexOf(i.tagName.toLowerCase())>-1&&this.replaceWithOwnChildren(i)})}}return n.\u0275fac=function(e){return new(e||n)(l.LFG(fb),l.LFG(K))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const K2={editable:!0,spellcheck:!0,height:"auto",minHeight:"0",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],uploadUrl:"v1/image",uploadWithCredentials:!1,sanitize:!0,toolbarPosition:"top",outline:!0};function I$(n){return null!=n}let xJ=(()=>{class n{constructor(e,r,i,a,d,f,m){this.r=e,this.editorService=r,this.doc=i,this.sanitizer=a,this.cdRef=d,this.autoFocus=m,this.modeVisual=!0,this.showPlaceholder=!1,this.disabled=!1,this.focused=!1,this.touched=!1,this.changed=!1,this.id="",this.config=K2,this.placeholder="",this.viewMode=new l.vpe,this.blurEvent=new l.vpe,this.focusEvent=new l.vpe,this.tabindex=-1;const C=Number(f);this.tabIndex=C||0===C?C:null}onFocus(){this.focus()}ngOnInit(){this.config.toolbarPosition=this.config.toolbarPosition?this.config.toolbarPosition:K2.toolbarPosition}ngAfterViewInit(){I$(this.autoFocus)&&this.focus()}onPaste(e){if(this.config.rawPaste){e.preventDefault();const r=e.clipboardData.getData("text/plain");return document.execCommand("insertHTML",!1,r),r}}executeCommand(e){this.focus(),"focus"!==e&&("toggleEditorMode"===e?this.toggleEditorMode(this.modeVisual):""!==e&&("clear"===e?(this.editorService.removeSelectedElements(this.getCustomTags()),this.onContentChange(this.textArea.nativeElement)):"default"===e?(this.editorService.removeSelectedElements("h1,h2,h3,h4,h5,h6,p,pre"),this.onContentChange(this.textArea.nativeElement)):this.editorService.executeCommand(e),this.exec()))}onTextAreaFocus(e){this.focused?e.stopPropagation():(this.focused=!0,this.focusEvent.emit(e),(!this.touched||!this.changed)&&this.editorService.executeInNextQueueIteration(()=>{this.configure(),this.touched=!0}))}onTextAreaMouseOut(e){this.editorService.saveSelection()}onTextAreaBlur(e){if(this.editorService.executeInNextQueueIteration(this.editorService.saveSelection),"function"==typeof this.onTouched&&this.onTouched(),null!==e.relatedTarget){const r=e.relatedTarget.parentElement;!r.classList.contains("angular-editor-toolbar-set")&&!r.classList.contains("ae-picker")&&(this.blurEvent.emit(e),this.focused=!1)}}focus(){this.modeVisual?this.textArea.nativeElement.focus():(this.doc.getElementById("sourceText"+this.id).focus(),this.focused=!0)}onContentChange(e){let r="";r=this.modeVisual?e.innerHTML:e.innerText,(!r||"<br>"===r)&&(r=""),"function"==typeof this.onChange&&(this.onChange(this.config.sanitize||void 0===this.config.sanitize?this.sanitizer.sanitize(l.q3G.HTML,r):r),!r!==this.showPlaceholder&&this.togglePlaceholder(this.showPlaceholder)),this.changed=!0}registerOnChange(e){this.onChange=r=>e("<br>"===r?"":r)}registerOnTouched(e){this.onTouched=e}writeValue(e){(!e||"<br>"===e||""===e)!==this.showPlaceholder&&this.togglePlaceholder(this.showPlaceholder),(void 0===e||""===e||"<br>"===e)&&(e=null),this.refreshView(e)}refreshView(e){this.r.setProperty(this.textArea.nativeElement,"innerHTML",null===e?"":e)}togglePlaceholder(e){e?(this.r.removeClass(this.editorWrapper.nativeElement,"show-placeholder"),this.showPlaceholder=!1):(this.r.addClass(this.editorWrapper.nativeElement,"show-placeholder"),this.showPlaceholder=!0)}setDisabledState(e){this.r[e?"addClass":"removeClass"](this.textArea.nativeElement,"disabled"),this.disabled=e}toggleEditorMode(e){let r;const i=this.textArea.nativeElement;if(e){r=this.r.createText(i.innerHTML),this.r.setProperty(i,"innerHTML",""),this.r.setProperty(i,"contentEditable",!1);const a=this.r.createElement("pre");this.r.setStyle(a,"margin","0"),this.r.setStyle(a,"outline","none");const d=this.r.createElement("code");this.r.setProperty(d,"id","sourceText"+this.id),this.r.setStyle(d,"display","block"),this.r.setStyle(d,"white-space","pre-wrap"),this.r.setStyle(d,"word-break","keep-all"),this.r.setStyle(d,"outline","none"),this.r.setStyle(d,"margin","0"),this.r.setStyle(d,"background-color","#fff5b9"),this.r.setProperty(d,"contentEditable",!0),this.r.appendChild(d,r),this.focusInstance=this.r.listen(d,"focus",f=>this.onTextAreaFocus(f)),this.blurInstance=this.r.listen(d,"blur",f=>this.onTextAreaBlur(f)),this.r.appendChild(a,d),this.r.appendChild(i,a),this.doc.execCommand("defaultParagraphSeparator",!1,"div"),this.modeVisual=!1,this.viewMode.emit(!1),d.focus()}else this.doc.querySelectorAll?this.r.setProperty(i,"innerHTML",i.innerText):(r=this.doc.createRange(),r.selectNodeContents(i.firstChild),this.r.setProperty(i,"innerHTML",r.toString())),this.r.setProperty(i,"contentEditable",!0),this.modeVisual=!0,this.viewMode.emit(!0),this.onContentChange(i),i.focus();this.editorToolbar.setEditorMode(!this.modeVisual)}exec(){let e;this.editorToolbar.triggerButtons(),this.doc.getSelection&&(e=this.doc.getSelection(),this.editorService.executeInNextQueueIteration(this.editorService.saveSelection));let r=e.focusNode;const i=[];for(;r&&"editor"!==r.id;)i.unshift(r),r=r.parentNode;this.editorToolbar.triggerBlocks(i)}configure(){this.editorService.uploadUrl=this.config.uploadUrl,this.editorService.uploadWithCredentials=this.config.uploadWithCredentials,this.config.defaultParagraphSeparator&&this.editorService.setDefaultParagraphSeparator(this.config.defaultParagraphSeparator),this.config.defaultFontName&&this.editorService.setFontName(this.config.defaultFontName),this.config.defaultFontSize&&this.editorService.setFontSize(this.config.defaultFontSize)}getFonts(){return(this.config.fonts?this.config.fonts:K2.fonts).map(r=>({label:r.name,value:r.name}))}getCustomTags(){const e=["span"];return this.config.customClasses.forEach(r=>{void 0!==r.tag&&(e.includes(r.tag)||e.push(r.tag))}),e.join(",")}ngOnDestroy(){this.blurInstance&&this.blurInstance(),this.focusInstance&&this.focusInstance()}filterStyles(e){return e.replace("position: fixed;","")}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(Y2),l.Y36(K),l.Y36(qo),l.Y36(l.sBO),l.$8M("tabindex"),l.$8M("autofocus"))},n.\u0275cmp=l.Xpm({type:n,selectors:[["angular-editor"]],viewQuery:function(e,r){if(1&e&&(l.Gf(bJ,7),l.Gf(vJ,7),l.Gf(CJ,5)),2&e){let i;l.iGM(i=l.CRH())&&(r.textArea=i.first),l.iGM(i=l.CRH())&&(r.editorWrapper=i.first),l.iGM(i=l.CRH())&&(r.editorToolbar=i.first)}},hostVars:1,hostBindings:function(e,r){1&e&&l.NdJ("focus",function(){return r.onFocus()}),2&e&&l.uIk("tabindex",r.tabindex)},inputs:{id:"id",config:"config",placeholder:"placeholder",tabIndex:"tabIndex"},outputs:{viewMode:"viewMode",blurEvent:"blur",focusEvent:"focus",html:"html"},features:[l._Bn([{provide:xo,useExisting:(0,l.Gpc)(()=>n),multi:!0},Y2])],decls:10,vars:19,consts:[[1,"angular-editor"],["angularEditor",""],[3,"id","uploadUrl","upload","showToolbar","fonts","customClasses","defaultFontName","defaultFontSize","hiddenButtons","execute",4,"ngIf"],[1,"angular-editor-wrapper"],["editorWrapper",""],[1,"angular-editor-textarea",3,"input","focus","blur","click","keyup","mouseout","paste"],["editor",""],[1,"angular-editor-placeholder"],[3,"id","uploadUrl","upload","showToolbar","fonts","customClasses","defaultFontName","defaultFontSize","hiddenButtons","execute"],["editorToolbar",""]],template:function(e,r){1&e&&(l.TgZ(0,"div",0,1),l.YNc(2,wJ,2,9,"angular-editor-toolbar",2),l.TgZ(3,"div",3,4),l.TgZ(5,"div",5,6),l.NdJ("input",function(a){return r.onContentChange(a.target)})("focus",function(a){return r.onTextAreaFocus(a)})("blur",function(a){return r.onTextAreaBlur(a)})("click",function(){return r.exec()})("keyup",function(){return r.exec()})("mouseout",function(a){return r.onTextAreaMouseOut(a)})("paste",function(a){return r.onPaste(a)}),l.qZA(),l.TgZ(7,"span",7),l._uU(8),l.qZA(),l.qZA(),l.YNc(9,EJ,2,9,"angular-editor-toolbar",2),l.qZA()),2&e&&(l.Udp("width",r.config.width)("min-width",r.config.minWidth),l.xp6(2),l.Q6J("ngIf","top"===r.config.toolbarPosition),l.xp6(3),l.Udp("height",r.config.height)("min-height",r.config.minHeight)("max-height",r.config.maxHeight)("outline",!1===r.config.outline?"none":void 0),l.uIk("contenteditable",r.config.editable)("tabindex",r.disabled?-1:r.tabIndex)("translate",r.config.translate)("spellcheck",r.config.spellcheck),l.xp6(3),l.Oqu(r.placeholder||r.config.placeholder),l.xp6(1),l.Q6J("ngIf","bottom"===r.config.toolbarPosition))},directives:function(){return[Nr,FJ]},styles:['@charset "UTF-8";\n@font-face{font-family:FontAwesome;src:url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.eot?v=4.7.0);src:url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.eot#iefix&v=4.7.0) format("embedded-opentype"),url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.woff2?v=4.7.0) format("woff2"),url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.woff?v=4.7.0) format("woff"),url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.ttf?v=4.7.0) format("truetype"),url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.svg?v=4.7.0#fontawesomeregular) format("svg");font-weight:400;font-style:normal}.fa[_ngcontent-%COMP%]{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fa-lg[_ngcontent-%COMP%]{font-size:1.3333333333em;line-height:.75em;vertical-align:-15%}.fa-2x[_ngcontent-%COMP%]{font-size:2em}.fa-3x[_ngcontent-%COMP%]{font-size:3em}.fa-4x[_ngcontent-%COMP%]{font-size:4em}.fa-5x[_ngcontent-%COMP%]{font-size:5em}.fa-fw[_ngcontent-%COMP%]{width:1.2857142857em;text-align:center}.fa-ul[_ngcontent-%COMP%]{padding-left:0;margin-left:2.1428571429em;list-style-type:none}.fa-ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}.fa-li[_ngcontent-%COMP%]{position:absolute;left:-2.1428571429em;width:2.1428571429em;top:.1428571429em;text-align:center}.fa-li.fa-lg[_ngcontent-%COMP%]{left:-1.8571428571em}.fa-border[_ngcontent-%COMP%]{padding:.2em .25em .15em;border:.08em solid #eee;border-radius:.1em}.fa-pull-left[_ngcontent-%COMP%]{float:left}.fa-pull-right[_ngcontent-%COMP%]{float:right}.fa.fa-pull-left[_ngcontent-%COMP%]{margin-right:.3em}.fa.fa-pull-right[_ngcontent-%COMP%]{margin-left:.3em}.pull-right[_ngcontent-%COMP%]{float:right}.pull-left[_ngcontent-%COMP%]{float:left}.fa.pull-left[_ngcontent-%COMP%]{margin-right:.3em}.fa.pull-right[_ngcontent-%COMP%]{margin-left:.3em}.fa-spin[_ngcontent-%COMP%]{-webkit-animation:fa-spin 2s linear infinite;animation:fa-spin 2s linear infinite}.fa-pulse[_ngcontent-%COMP%]{-webkit-animation:fa-spin 1s steps(8) infinite;animation:fa-spin 1s steps(8) infinite}@-webkit-keyframes fa-spin{0%{transform:rotate(0deg)}to{transform:rotate(359deg)}}@keyframes fa-spin{0%{transform:rotate(0deg)}to{transform:rotate(359deg)}}.fa-rotate-90[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";transform:rotate(90deg)}.fa-rotate-180[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";transform:rotate(180deg)}.fa-rotate-270[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";transform:rotate(270deg)}.fa-flip-horizontal[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";transform:scaleX(-1)}.fa-flip-vertical[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";transform:scaleY(-1)}[_ngcontent-%COMP%]:root   .fa-flip-horizontal[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-flip-vertical[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-rotate-90[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-rotate-180[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-rotate-270[_ngcontent-%COMP%]{filter:none}.fa-stack[_ngcontent-%COMP%]{position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:middle}.fa-stack-1x[_ngcontent-%COMP%], .fa-stack-2x[_ngcontent-%COMP%]{position:absolute;left:0;width:100%;text-align:center}.fa-stack-1x[_ngcontent-%COMP%]{line-height:inherit}.fa-stack-2x[_ngcontent-%COMP%]{font-size:2em}.fa-inverse[_ngcontent-%COMP%]{color:#fff}.fa-glass[_ngcontent-%COMP%]:before{content:"\uf000"}.fa-music[_ngcontent-%COMP%]:before{content:"\uf001"}.fa-search[_ngcontent-%COMP%]:before{content:"\uf002"}.fa-envelope-o[_ngcontent-%COMP%]:before{content:"\uf003"}.fa-heart[_ngcontent-%COMP%]:before{content:"\uf004"}.fa-star[_ngcontent-%COMP%]:before{content:"\uf005"}.fa-star-o[_ngcontent-%COMP%]:before{content:"\uf006"}.fa-user[_ngcontent-%COMP%]:before{content:"\uf007"}.fa-film[_ngcontent-%COMP%]:before{content:"\uf008"}.fa-th-large[_ngcontent-%COMP%]:before{content:"\uf009"}.fa-th[_ngcontent-%COMP%]:before{content:"\uf00a"}.fa-th-list[_ngcontent-%COMP%]:before{content:"\uf00b"}.fa-check[_ngcontent-%COMP%]:before{content:"\uf00c"}.fa-close[_ngcontent-%COMP%]:before, .fa-remove[_ngcontent-%COMP%]:before, .fa-times[_ngcontent-%COMP%]:before{content:"\uf00d"}.fa-search-plus[_ngcontent-%COMP%]:before{content:"\uf00e"}.fa-search-minus[_ngcontent-%COMP%]:before{content:"\uf010"}.fa-power-off[_ngcontent-%COMP%]:before{content:"\uf011"}.fa-signal[_ngcontent-%COMP%]:before{content:"\uf012"}.fa-cog[_ngcontent-%COMP%]:before, .fa-gear[_ngcontent-%COMP%]:before{content:"\uf013"}.fa-trash-o[_ngcontent-%COMP%]:before{content:"\uf014"}.fa-home[_ngcontent-%COMP%]:before{content:"\uf015"}.fa-file-o[_ngcontent-%COMP%]:before{content:"\uf016"}.fa-clock-o[_ngcontent-%COMP%]:before{content:"\uf017"}.fa-road[_ngcontent-%COMP%]:before{content:"\uf018"}.fa-download[_ngcontent-%COMP%]:before{content:"\uf019"}.fa-arrow-circle-o-down[_ngcontent-%COMP%]:before{content:"\uf01a"}.fa-arrow-circle-o-up[_ngcontent-%COMP%]:before{content:"\uf01b"}.fa-inbox[_ngcontent-%COMP%]:before{content:"\uf01c"}.fa-play-circle-o[_ngcontent-%COMP%]:before{content:"\uf01d"}.fa-repeat[_ngcontent-%COMP%]:before, .fa-rotate-right[_ngcontent-%COMP%]:before{content:"\uf01e"}.fa-refresh[_ngcontent-%COMP%]:before{content:"\uf021"}.fa-list-alt[_ngcontent-%COMP%]:before{content:"\uf022"}.fa-lock[_ngcontent-%COMP%]:before{content:"\uf023"}.fa-flag[_ngcontent-%COMP%]:before{content:"\uf024"}.fa-headphones[_ngcontent-%COMP%]:before{content:"\uf025"}.fa-volume-off[_ngcontent-%COMP%]:before{content:"\uf026"}.fa-volume-down[_ngcontent-%COMP%]:before{content:"\uf027"}.fa-volume-up[_ngcontent-%COMP%]:before{content:"\uf028"}.fa-qrcode[_ngcontent-%COMP%]:before{content:"\uf029"}.fa-barcode[_ngcontent-%COMP%]:before{content:"\uf02a"}.fa-tag[_ngcontent-%COMP%]:before{content:"\uf02b"}.fa-tags[_ngcontent-%COMP%]:before{content:"\uf02c"}.fa-book[_ngcontent-%COMP%]:before{content:"\uf02d"}.fa-bookmark[_ngcontent-%COMP%]:before{content:"\uf02e"}.fa-print[_ngcontent-%COMP%]:before{content:"\uf02f"}.fa-camera[_ngcontent-%COMP%]:before{content:"\uf030"}.fa-font[_ngcontent-%COMP%]:before{content:"\uf031"}.fa-bold[_ngcontent-%COMP%]:before{content:"\uf032"}.fa-italic[_ngcontent-%COMP%]:before{content:"\uf033"}.fa-text-height[_ngcontent-%COMP%]:before{content:"\uf034"}.fa-text-width[_ngcontent-%COMP%]:before{content:"\uf035"}.fa-align-left[_ngcontent-%COMP%]:before{content:"\uf036"}.fa-align-center[_ngcontent-%COMP%]:before{content:"\uf037"}.fa-align-right[_ngcontent-%COMP%]:before{content:"\uf038"}.fa-align-justify[_ngcontent-%COMP%]:before{content:"\uf039"}.fa-list[_ngcontent-%COMP%]:before{content:"\uf03a"}.fa-dedent[_ngcontent-%COMP%]:before, .fa-outdent[_ngcontent-%COMP%]:before{content:"\uf03b"}.fa-indent[_ngcontent-%COMP%]:before{content:"\uf03c"}.fa-video-camera[_ngcontent-%COMP%]:before{content:"\uf03d"}.fa-image[_ngcontent-%COMP%]:before, .fa-photo[_ngcontent-%COMP%]:before, .fa-picture-o[_ngcontent-%COMP%]:before{content:"\uf03e"}.fa-pencil[_ngcontent-%COMP%]:before{content:"\uf040"}.fa-map-marker[_ngcontent-%COMP%]:before{content:"\uf041"}.fa-adjust[_ngcontent-%COMP%]:before{content:"\uf042"}.fa-tint[_ngcontent-%COMP%]:before{content:"\uf043"}.fa-edit[_ngcontent-%COMP%]:before, .fa-pencil-square-o[_ngcontent-%COMP%]:before{content:"\uf044"}.fa-share-square-o[_ngcontent-%COMP%]:before{content:"\uf045"}.fa-check-square-o[_ngcontent-%COMP%]:before{content:"\uf046"}.fa-arrows[_ngcontent-%COMP%]:before{content:"\uf047"}.fa-step-backward[_ngcontent-%COMP%]:before{content:"\uf048"}.fa-fast-backward[_ngcontent-%COMP%]:before{content:"\uf049"}.fa-backward[_ngcontent-%COMP%]:before{content:"\uf04a"}.fa-play[_ngcontent-%COMP%]:before{content:"\uf04b"}.fa-pause[_ngcontent-%COMP%]:before{content:"\uf04c"}.fa-stop[_ngcontent-%COMP%]:before{content:"\uf04d"}.fa-forward[_ngcontent-%COMP%]:before{content:"\uf04e"}.fa-fast-forward[_ngcontent-%COMP%]:before{content:"\uf050"}.fa-step-forward[_ngcontent-%COMP%]:before{content:"\uf051"}.fa-eject[_ngcontent-%COMP%]:before{content:"\uf052"}.fa-chevron-left[_ngcontent-%COMP%]:before{content:"\uf053"}.fa-chevron-right[_ngcontent-%COMP%]:before{content:"\uf054"}.fa-plus-circle[_ngcontent-%COMP%]:before{content:"\uf055"}.fa-minus-circle[_ngcontent-%COMP%]:before{content:"\uf056"}.fa-times-circle[_ngcontent-%COMP%]:before{content:"\uf057"}.fa-check-circle[_ngcontent-%COMP%]:before{content:"\uf058"}.fa-question-circle[_ngcontent-%COMP%]:before{content:"\uf059"}.fa-info-circle[_ngcontent-%COMP%]:before{content:"\uf05a"}.fa-crosshairs[_ngcontent-%COMP%]:before{content:"\uf05b"}.fa-times-circle-o[_ngcontent-%COMP%]:before{content:"\uf05c"}.fa-check-circle-o[_ngcontent-%COMP%]:before{content:"\uf05d"}.fa-ban[_ngcontent-%COMP%]:before{content:"\uf05e"}.fa-arrow-left[_ngcontent-%COMP%]:before{content:"\uf060"}.fa-arrow-right[_ngcontent-%COMP%]:before{content:"\uf061"}.fa-arrow-up[_ngcontent-%COMP%]:before{content:"\uf062"}.fa-arrow-down[_ngcontent-%COMP%]:before{content:"\uf063"}.fa-mail-forward[_ngcontent-%COMP%]:before, .fa-share[_ngcontent-%COMP%]:before{content:"\uf064"}.fa-expand[_ngcontent-%COMP%]:before{content:"\uf065"}.fa-compress[_ngcontent-%COMP%]:before{content:"\uf066"}.fa-plus[_ngcontent-%COMP%]:before{content:"\uf067"}.fa-minus[_ngcontent-%COMP%]:before{content:"\uf068"}.fa-asterisk[_ngcontent-%COMP%]:before{content:"\uf069"}.fa-exclamation-circle[_ngcontent-%COMP%]:before{content:"\uf06a"}.fa-gift[_ngcontent-%COMP%]:before{content:"\uf06b"}.fa-leaf[_ngcontent-%COMP%]:before{content:"\uf06c"}.fa-fire[_ngcontent-%COMP%]:before{content:"\uf06d"}.fa-eye[_ngcontent-%COMP%]:before{content:"\uf06e"}.fa-eye-slash[_ngcontent-%COMP%]:before{content:"\uf070"}.fa-exclamation-triangle[_ngcontent-%COMP%]:before, .fa-warning[_ngcontent-%COMP%]:before{content:"\uf071"}.fa-plane[_ngcontent-%COMP%]:before{content:"\uf072"}.fa-calendar[_ngcontent-%COMP%]:before{content:"\uf073"}.fa-random[_ngcontent-%COMP%]:before{content:"\uf074"}.fa-comment[_ngcontent-%COMP%]:before{content:"\uf075"}.fa-magnet[_ngcontent-%COMP%]:before{content:"\uf076"}.fa-chevron-up[_ngcontent-%COMP%]:before{content:"\uf077"}.fa-chevron-down[_ngcontent-%COMP%]:before{content:"\uf078"}.fa-retweet[_ngcontent-%COMP%]:before{content:"\uf079"}.fa-shopping-cart[_ngcontent-%COMP%]:before{content:"\uf07a"}.fa-folder[_ngcontent-%COMP%]:before{content:"\uf07b"}.fa-folder-open[_ngcontent-%COMP%]:before{content:"\uf07c"}.fa-arrows-v[_ngcontent-%COMP%]:before{content:"\uf07d"}.fa-arrows-h[_ngcontent-%COMP%]:before{content:"\uf07e"}.fa-bar-chart-o[_ngcontent-%COMP%]:before, .fa-bar-chart[_ngcontent-%COMP%]:before{content:"\uf080"}.fa-twitter-square[_ngcontent-%COMP%]:before{content:"\uf081"}.fa-facebook-square[_ngcontent-%COMP%]:before{content:"\uf082"}.fa-camera-retro[_ngcontent-%COMP%]:before{content:"\uf083"}.fa-key[_ngcontent-%COMP%]:before{content:"\uf084"}.fa-cogs[_ngcontent-%COMP%]:before, .fa-gears[_ngcontent-%COMP%]:before{content:"\uf085"}.fa-comments[_ngcontent-%COMP%]:before{content:"\uf086"}.fa-thumbs-o-up[_ngcontent-%COMP%]:before{content:"\uf087"}.fa-thumbs-o-down[_ngcontent-%COMP%]:before{content:"\uf088"}.fa-star-half[_ngcontent-%COMP%]:before{content:"\uf089"}.fa-heart-o[_ngcontent-%COMP%]:before{content:"\uf08a"}.fa-sign-out[_ngcontent-%COMP%]:before{content:"\uf08b"}.fa-linkedin-square[_ngcontent-%COMP%]:before{content:"\uf08c"}.fa-thumb-tack[_ngcontent-%COMP%]:before{content:"\uf08d"}.fa-external-link[_ngcontent-%COMP%]:before{content:"\uf08e"}.fa-sign-in[_ngcontent-%COMP%]:before{content:"\uf090"}.fa-trophy[_ngcontent-%COMP%]:before{content:"\uf091"}.fa-github-square[_ngcontent-%COMP%]:before{content:"\uf092"}.fa-upload[_ngcontent-%COMP%]:before{content:"\uf093"}.fa-lemon-o[_ngcontent-%COMP%]:before{content:"\uf094"}.fa-phone[_ngcontent-%COMP%]:before{content:"\uf095"}.fa-square-o[_ngcontent-%COMP%]:before{content:"\uf096"}.fa-bookmark-o[_ngcontent-%COMP%]:before{content:"\uf097"}.fa-phone-square[_ngcontent-%COMP%]:before{content:"\uf098"}.fa-twitter[_ngcontent-%COMP%]:before{content:"\uf099"}.fa-facebook-f[_ngcontent-%COMP%]:before, .fa-facebook[_ngcontent-%COMP%]:before{content:"\uf09a"}.fa-github[_ngcontent-%COMP%]:before{content:"\uf09b"}.fa-unlock[_ngcontent-%COMP%]:before{content:"\uf09c"}.fa-credit-card[_ngcontent-%COMP%]:before{content:"\uf09d"}.fa-feed[_ngcontent-%COMP%]:before, .fa-rss[_ngcontent-%COMP%]:before{content:"\uf09e"}.fa-hdd-o[_ngcontent-%COMP%]:before{content:"\uf0a0"}.fa-bullhorn[_ngcontent-%COMP%]:before{content:"\uf0a1"}.fa-bell[_ngcontent-%COMP%]:before{content:"\uf0f3"}.fa-certificate[_ngcontent-%COMP%]:before{content:"\uf0a3"}.fa-hand-o-right[_ngcontent-%COMP%]:before{content:"\uf0a4"}.fa-hand-o-left[_ngcontent-%COMP%]:before{content:"\uf0a5"}.fa-hand-o-up[_ngcontent-%COMP%]:before{content:"\uf0a6"}.fa-hand-o-down[_ngcontent-%COMP%]:before{content:"\uf0a7"}.fa-arrow-circle-left[_ngcontent-%COMP%]:before{content:"\uf0a8"}.fa-arrow-circle-right[_ngcontent-%COMP%]:before{content:"\uf0a9"}.fa-arrow-circle-up[_ngcontent-%COMP%]:before{content:"\uf0aa"}.fa-arrow-circle-down[_ngcontent-%COMP%]:before{content:"\uf0ab"}.fa-globe[_ngcontent-%COMP%]:before{content:"\uf0ac"}.fa-wrench[_ngcontent-%COMP%]:before{content:"\uf0ad"}.fa-tasks[_ngcontent-%COMP%]:before{content:"\uf0ae"}.fa-filter[_ngcontent-%COMP%]:before{content:"\uf0b0"}.fa-briefcase[_ngcontent-%COMP%]:before{content:"\uf0b1"}.fa-arrows-alt[_ngcontent-%COMP%]:before{content:"\uf0b2"}.fa-group[_ngcontent-%COMP%]:before, .fa-users[_ngcontent-%COMP%]:before{content:"\uf0c0"}.fa-chain[_ngcontent-%COMP%]:before, .fa-link[_ngcontent-%COMP%]:before{content:"\uf0c1"}.fa-cloud[_ngcontent-%COMP%]:before{content:"\uf0c2"}.fa-flask[_ngcontent-%COMP%]:before{content:"\uf0c3"}.fa-cut[_ngcontent-%COMP%]:before, .fa-scissors[_ngcontent-%COMP%]:before{content:"\uf0c4"}.fa-copy[_ngcontent-%COMP%]:before, .fa-files-o[_ngcontent-%COMP%]:before{content:"\uf0c5"}.fa-paperclip[_ngcontent-%COMP%]:before{content:"\uf0c6"}.fa-floppy-o[_ngcontent-%COMP%]:before, .fa-save[_ngcontent-%COMP%]:before{content:"\uf0c7"}.fa-square[_ngcontent-%COMP%]:before{content:"\uf0c8"}.fa-bars[_ngcontent-%COMP%]:before, .fa-navicon[_ngcontent-%COMP%]:before, .fa-reorder[_ngcontent-%COMP%]:before{content:"\uf0c9"}.fa-list-ul[_ngcontent-%COMP%]:before{content:"\uf0ca"}.fa-list-ol[_ngcontent-%COMP%]:before{content:"\uf0cb"}.fa-strikethrough[_ngcontent-%COMP%]:before{content:"\uf0cc"}.fa-underline[_ngcontent-%COMP%]:before{content:"\uf0cd"}.fa-table[_ngcontent-%COMP%]:before{content:"\uf0ce"}.fa-magic[_ngcontent-%COMP%]:before{content:"\uf0d0"}.fa-truck[_ngcontent-%COMP%]:before{content:"\uf0d1"}.fa-pinterest[_ngcontent-%COMP%]:before{content:"\uf0d2"}.fa-pinterest-square[_ngcontent-%COMP%]:before{content:"\uf0d3"}.fa-google-plus-square[_ngcontent-%COMP%]:before{content:"\uf0d4"}.fa-google-plus[_ngcontent-%COMP%]:before{content:"\uf0d5"}.fa-money[_ngcontent-%COMP%]:before{content:"\uf0d6"}.fa-caret-down[_ngcontent-%COMP%]:before{content:"\uf0d7"}.fa-caret-up[_ngcontent-%COMP%]:before{content:"\uf0d8"}.fa-caret-left[_ngcontent-%COMP%]:before{content:"\uf0d9"}.fa-caret-right[_ngcontent-%COMP%]:before{content:"\uf0da"}.fa-columns[_ngcontent-%COMP%]:before{content:"\uf0db"}.fa-sort[_ngcontent-%COMP%]:before, .fa-unsorted[_ngcontent-%COMP%]:before{content:"\uf0dc"}.fa-sort-desc[_ngcontent-%COMP%]:before, .fa-sort-down[_ngcontent-%COMP%]:before{content:"\uf0dd"}.fa-sort-asc[_ngcontent-%COMP%]:before, .fa-sort-up[_ngcontent-%COMP%]:before{content:"\uf0de"}.fa-envelope[_ngcontent-%COMP%]:before{content:"\uf0e0"}.fa-linkedin[_ngcontent-%COMP%]:before{content:"\uf0e1"}.fa-rotate-left[_ngcontent-%COMP%]:before, .fa-undo[_ngcontent-%COMP%]:before{content:"\uf0e2"}.fa-gavel[_ngcontent-%COMP%]:before, .fa-legal[_ngcontent-%COMP%]:before{content:"\uf0e3"}.fa-dashboard[_ngcontent-%COMP%]:before, .fa-tachometer[_ngcontent-%COMP%]:before{content:"\uf0e4"}.fa-comment-o[_ngcontent-%COMP%]:before{content:"\uf0e5"}.fa-comments-o[_ngcontent-%COMP%]:before{content:"\uf0e6"}.fa-bolt[_ngcontent-%COMP%]:before, .fa-flash[_ngcontent-%COMP%]:before{content:"\uf0e7"}.fa-sitemap[_ngcontent-%COMP%]:before{content:"\uf0e8"}.fa-umbrella[_ngcontent-%COMP%]:before{content:"\uf0e9"}.fa-clipboard[_ngcontent-%COMP%]:before, .fa-paste[_ngcontent-%COMP%]:before{content:"\uf0ea"}.fa-lightbulb-o[_ngcontent-%COMP%]:before{content:"\uf0eb"}.fa-exchange[_ngcontent-%COMP%]:before{content:"\uf0ec"}.fa-cloud-download[_ngcontent-%COMP%]:before{content:"\uf0ed"}.fa-cloud-upload[_ngcontent-%COMP%]:before{content:"\uf0ee"}.fa-user-md[_ngcontent-%COMP%]:before{content:"\uf0f0"}.fa-stethoscope[_ngcontent-%COMP%]:before{content:"\uf0f1"}.fa-suitcase[_ngcontent-%COMP%]:before{content:"\uf0f2"}.fa-bell-o[_ngcontent-%COMP%]:before{content:"\uf0a2"}.fa-coffee[_ngcontent-%COMP%]:before{content:"\uf0f4"}.fa-cutlery[_ngcontent-%COMP%]:before{content:"\uf0f5"}.fa-file-text-o[_ngcontent-%COMP%]:before{content:"\uf0f6"}.fa-building-o[_ngcontent-%COMP%]:before{content:"\uf0f7"}.fa-hospital-o[_ngcontent-%COMP%]:before{content:"\uf0f8"}.fa-ambulance[_ngcontent-%COMP%]:before{content:"\uf0f9"}.fa-medkit[_ngcontent-%COMP%]:before{content:"\uf0fa"}.fa-fighter-jet[_ngcontent-%COMP%]:before{content:"\uf0fb"}.fa-beer[_ngcontent-%COMP%]:before{content:"\uf0fc"}.fa-h-square[_ngcontent-%COMP%]:before{content:"\uf0fd"}.fa-plus-square[_ngcontent-%COMP%]:before{content:"\uf0fe"}.fa-angle-double-left[_ngcontent-%COMP%]:before{content:"\uf100"}.fa-angle-double-right[_ngcontent-%COMP%]:before{content:"\uf101"}.fa-angle-double-up[_ngcontent-%COMP%]:before{content:"\uf102"}.fa-angle-double-down[_ngcontent-%COMP%]:before{content:"\uf103"}.fa-angle-left[_ngcontent-%COMP%]:before{content:"\uf104"}.fa-angle-right[_ngcontent-%COMP%]:before{content:"\uf105"}.fa-angle-up[_ngcontent-%COMP%]:before{content:"\uf106"}.fa-angle-down[_ngcontent-%COMP%]:before{content:"\uf107"}.fa-desktop[_ngcontent-%COMP%]:before{content:"\uf108"}.fa-laptop[_ngcontent-%COMP%]:before{content:"\uf109"}.fa-tablet[_ngcontent-%COMP%]:before{content:"\uf10a"}.fa-mobile-phone[_ngcontent-%COMP%]:before, .fa-mobile[_ngcontent-%COMP%]:before{content:"\uf10b"}.fa-circle-o[_ngcontent-%COMP%]:before{content:"\uf10c"}.fa-quote-left[_ngcontent-%COMP%]:before{content:"\uf10d"}.fa-quote-right[_ngcontent-%COMP%]:before{content:"\uf10e"}.fa-spinner[_ngcontent-%COMP%]:before{content:"\uf110"}.fa-circle[_ngcontent-%COMP%]:before{content:"\uf111"}.fa-mail-reply[_ngcontent-%COMP%]:before, .fa-reply[_ngcontent-%COMP%]:before{content:"\uf112"}.fa-github-alt[_ngcontent-%COMP%]:before{content:"\uf113"}.fa-folder-o[_ngcontent-%COMP%]:before{content:"\uf114"}.fa-folder-open-o[_ngcontent-%COMP%]:before{content:"\uf115"}.fa-smile-o[_ngcontent-%COMP%]:before{content:"\uf118"}.fa-frown-o[_ngcontent-%COMP%]:before{content:"\uf119"}.fa-meh-o[_ngcontent-%COMP%]:before{content:"\uf11a"}.fa-gamepad[_ngcontent-%COMP%]:before{content:"\uf11b"}.fa-keyboard-o[_ngcontent-%COMP%]:before{content:"\uf11c"}.fa-flag-o[_ngcontent-%COMP%]:before{content:"\uf11d"}.fa-flag-checkered[_ngcontent-%COMP%]:before{content:"\uf11e"}.fa-terminal[_ngcontent-%COMP%]:before{content:"\uf120"}.fa-code[_ngcontent-%COMP%]:before{content:"\uf121"}.fa-mail-reply-all[_ngcontent-%COMP%]:before, .fa-reply-all[_ngcontent-%COMP%]:before{content:"\uf122"}.fa-star-half-empty[_ngcontent-%COMP%]:before, .fa-star-half-full[_ngcontent-%COMP%]:before, .fa-star-half-o[_ngcontent-%COMP%]:before{content:"\uf123"}.fa-location-arrow[_ngcontent-%COMP%]:before{content:"\uf124"}.fa-crop[_ngcontent-%COMP%]:before{content:"\uf125"}.fa-code-fork[_ngcontent-%COMP%]:before{content:"\uf126"}.fa-chain-broken[_ngcontent-%COMP%]:before, .fa-unlink[_ngcontent-%COMP%]:before{content:"\uf127"}.fa-question[_ngcontent-%COMP%]:before{content:"\uf128"}.fa-info[_ngcontent-%COMP%]:before{content:"\uf129"}.fa-exclamation[_ngcontent-%COMP%]:before{content:"\uf12a"}.fa-superscript[_ngcontent-%COMP%]:before{content:"\uf12b"}.fa-subscript[_ngcontent-%COMP%]:before{content:"\uf12c"}.fa-eraser[_ngcontent-%COMP%]:before{content:"\uf12d"}.fa-puzzle-piece[_ngcontent-%COMP%]:before{content:"\uf12e"}.fa-microphone[_ngcontent-%COMP%]:before{content:"\uf130"}.fa-microphone-slash[_ngcontent-%COMP%]:before{content:"\uf131"}.fa-shield[_ngcontent-%COMP%]:before{content:"\uf132"}.fa-calendar-o[_ngcontent-%COMP%]:before{content:"\uf133"}.fa-fire-extinguisher[_ngcontent-%COMP%]:before{content:"\uf134"}.fa-rocket[_ngcontent-%COMP%]:before{content:"\uf135"}.fa-maxcdn[_ngcontent-%COMP%]:before{content:"\uf136"}.fa-chevron-circle-left[_ngcontent-%COMP%]:before{content:"\uf137"}.fa-chevron-circle-right[_ngcontent-%COMP%]:before{content:"\uf138"}.fa-chevron-circle-up[_ngcontent-%COMP%]:before{content:"\uf139"}.fa-chevron-circle-down[_ngcontent-%COMP%]:before{content:"\uf13a"}.fa-html5[_ngcontent-%COMP%]:before{content:"\uf13b"}.fa-css3[_ngcontent-%COMP%]:before{content:"\uf13c"}.fa-anchor[_ngcontent-%COMP%]:before{content:"\uf13d"}.fa-unlock-alt[_ngcontent-%COMP%]:before{content:"\uf13e"}.fa-bullseye[_ngcontent-%COMP%]:before{content:"\uf140"}.fa-ellipsis-h[_ngcontent-%COMP%]:before{content:"\uf141"}.fa-ellipsis-v[_ngcontent-%COMP%]:before{content:"\uf142"}.fa-rss-square[_ngcontent-%COMP%]:before{content:"\uf143"}.fa-play-circle[_ngcontent-%COMP%]:before{content:"\uf144"}.fa-ticket[_ngcontent-%COMP%]:before{content:"\uf145"}.fa-minus-square[_ngcontent-%COMP%]:before{content:"\uf146"}.fa-minus-square-o[_ngcontent-%COMP%]:before{content:"\uf147"}.fa-level-up[_ngcontent-%COMP%]:before{content:"\uf148"}.fa-level-down[_ngcontent-%COMP%]:before{content:"\uf149"}.fa-check-square[_ngcontent-%COMP%]:before{content:"\uf14a"}.fa-pencil-square[_ngcontent-%COMP%]:before{content:"\uf14b"}.fa-external-link-square[_ngcontent-%COMP%]:before{content:"\uf14c"}.fa-share-square[_ngcontent-%COMP%]:before{content:"\uf14d"}.fa-compass[_ngcontent-%COMP%]:before{content:"\uf14e"}.fa-caret-square-o-down[_ngcontent-%COMP%]:before, .fa-toggle-down[_ngcontent-%COMP%]:before{content:"\uf150"}.fa-caret-square-o-up[_ngcontent-%COMP%]:before, .fa-toggle-up[_ngcontent-%COMP%]:before{content:"\uf151"}.fa-caret-square-o-right[_ngcontent-%COMP%]:before, .fa-toggle-right[_ngcontent-%COMP%]:before{content:"\uf152"}.fa-eur[_ngcontent-%COMP%]:before, .fa-euro[_ngcontent-%COMP%]:before{content:"\uf153"}.fa-gbp[_ngcontent-%COMP%]:before{content:"\uf154"}.fa-dollar[_ngcontent-%COMP%]:before, .fa-usd[_ngcontent-%COMP%]:before{content:"\uf155"}.fa-inr[_ngcontent-%COMP%]:before, .fa-rupee[_ngcontent-%COMP%]:before{content:"\uf156"}.fa-cny[_ngcontent-%COMP%]:before, .fa-jpy[_ngcontent-%COMP%]:before, .fa-rmb[_ngcontent-%COMP%]:before, .fa-yen[_ngcontent-%COMP%]:before{content:"\uf157"}.fa-rouble[_ngcontent-%COMP%]:before, .fa-rub[_ngcontent-%COMP%]:before, .fa-ruble[_ngcontent-%COMP%]:before{content:"\uf158"}.fa-krw[_ngcontent-%COMP%]:before, .fa-won[_ngcontent-%COMP%]:before{content:"\uf159"}.fa-bitcoin[_ngcontent-%COMP%]:before, .fa-btc[_ngcontent-%COMP%]:before{content:"\uf15a"}.fa-file[_ngcontent-%COMP%]:before{content:"\uf15b"}.fa-file-text[_ngcontent-%COMP%]:before{content:"\uf15c"}.fa-sort-alpha-asc[_ngcontent-%COMP%]:before{content:"\uf15d"}.fa-sort-alpha-desc[_ngcontent-%COMP%]:before{content:"\uf15e"}.fa-sort-amount-asc[_ngcontent-%COMP%]:before{content:"\uf160"}.fa-sort-amount-desc[_ngcontent-%COMP%]:before{content:"\uf161"}.fa-sort-numeric-asc[_ngcontent-%COMP%]:before{content:"\uf162"}.fa-sort-numeric-desc[_ngcontent-%COMP%]:before{content:"\uf163"}.fa-thumbs-up[_ngcontent-%COMP%]:before{content:"\uf164"}.fa-thumbs-down[_ngcontent-%COMP%]:before{content:"\uf165"}.fa-youtube-square[_ngcontent-%COMP%]:before{content:"\uf166"}.fa-youtube[_ngcontent-%COMP%]:before{content:"\uf167"}.fa-xing[_ngcontent-%COMP%]:before{content:"\uf168"}.fa-xing-square[_ngcontent-%COMP%]:before{content:"\uf169"}.fa-youtube-play[_ngcontent-%COMP%]:before{content:"\uf16a"}.fa-dropbox[_ngcontent-%COMP%]:before{content:"\uf16b"}.fa-stack-overflow[_ngcontent-%COMP%]:before{content:"\uf16c"}.fa-instagram[_ngcontent-%COMP%]:before{content:"\uf16d"}.fa-flickr[_ngcontent-%COMP%]:before{content:"\uf16e"}.fa-adn[_ngcontent-%COMP%]:before{content:"\uf170"}.fa-bitbucket[_ngcontent-%COMP%]:before{content:"\uf171"}.fa-bitbucket-square[_ngcontent-%COMP%]:before{content:"\uf172"}.fa-tumblr[_ngcontent-%COMP%]:before{content:"\uf173"}.fa-tumblr-square[_ngcontent-%COMP%]:before{content:"\uf174"}.fa-long-arrow-down[_ngcontent-%COMP%]:before{content:"\uf175"}.fa-long-arrow-up[_ngcontent-%COMP%]:before{content:"\uf176"}.fa-long-arrow-left[_ngcontent-%COMP%]:before{content:"\uf177"}.fa-long-arrow-right[_ngcontent-%COMP%]:before{content:"\uf178"}.fa-apple[_ngcontent-%COMP%]:before{content:"\uf179"}.fa-windows[_ngcontent-%COMP%]:before{content:"\uf17a"}.fa-android[_ngcontent-%COMP%]:before{content:"\uf17b"}.fa-linux[_ngcontent-%COMP%]:before{content:"\uf17c"}.fa-dribbble[_ngcontent-%COMP%]:before{content:"\uf17d"}.fa-skype[_ngcontent-%COMP%]:before{content:"\uf17e"}.fa-foursquare[_ngcontent-%COMP%]:before{content:"\uf180"}.fa-trello[_ngcontent-%COMP%]:before{content:"\uf181"}.fa-female[_ngcontent-%COMP%]:before{content:"\uf182"}.fa-male[_ngcontent-%COMP%]:before{content:"\uf183"}.fa-gittip[_ngcontent-%COMP%]:before, .fa-gratipay[_ngcontent-%COMP%]:before{content:"\uf184"}.fa-sun-o[_ngcontent-%COMP%]:before{content:"\uf185"}.fa-moon-o[_ngcontent-%COMP%]:before{content:"\uf186"}.fa-archive[_ngcontent-%COMP%]:before{content:"\uf187"}.fa-bug[_ngcontent-%COMP%]:before{content:"\uf188"}.fa-vk[_ngcontent-%COMP%]:before{content:"\uf189"}.fa-weibo[_ngcontent-%COMP%]:before{content:"\uf18a"}.fa-renren[_ngcontent-%COMP%]:before{content:"\uf18b"}.fa-pagelines[_ngcontent-%COMP%]:before{content:"\uf18c"}.fa-stack-exchange[_ngcontent-%COMP%]:before{content:"\uf18d"}.fa-arrow-circle-o-right[_ngcontent-%COMP%]:before{content:"\uf18e"}.fa-arrow-circle-o-left[_ngcontent-%COMP%]:before{content:"\uf190"}.fa-caret-square-o-left[_ngcontent-%COMP%]:before, .fa-toggle-left[_ngcontent-%COMP%]:before{content:"\uf191"}.fa-dot-circle-o[_ngcontent-%COMP%]:before{content:"\uf192"}.fa-wheelchair[_ngcontent-%COMP%]:before{content:"\uf193"}.fa-vimeo-square[_ngcontent-%COMP%]:before{content:"\uf194"}.fa-try[_ngcontent-%COMP%]:before, .fa-turkish-lira[_ngcontent-%COMP%]:before{content:"\uf195"}.fa-plus-square-o[_ngcontent-%COMP%]:before{content:"\uf196"}.fa-space-shuttle[_ngcontent-%COMP%]:before{content:"\uf197"}.fa-slack[_ngcontent-%COMP%]:before{content:"\uf198"}.fa-envelope-square[_ngcontent-%COMP%]:before{content:"\uf199"}.fa-wordpress[_ngcontent-%COMP%]:before{content:"\uf19a"}.fa-openid[_ngcontent-%COMP%]:before{content:"\uf19b"}.fa-bank[_ngcontent-%COMP%]:before, .fa-institution[_ngcontent-%COMP%]:before, .fa-university[_ngcontent-%COMP%]:before{content:"\uf19c"}.fa-graduation-cap[_ngcontent-%COMP%]:before, .fa-mortar-board[_ngcontent-%COMP%]:before{content:"\uf19d"}.fa-yahoo[_ngcontent-%COMP%]:before{content:"\uf19e"}.fa-google[_ngcontent-%COMP%]:before{content:"\uf1a0"}.fa-reddit[_ngcontent-%COMP%]:before{content:"\uf1a1"}.fa-reddit-square[_ngcontent-%COMP%]:before{content:"\uf1a2"}.fa-stumbleupon-circle[_ngcontent-%COMP%]:before{content:"\uf1a3"}.fa-stumbleupon[_ngcontent-%COMP%]:before{content:"\uf1a4"}.fa-delicious[_ngcontent-%COMP%]:before{content:"\uf1a5"}.fa-digg[_ngcontent-%COMP%]:before{content:"\uf1a6"}.fa-pied-piper-pp[_ngcontent-%COMP%]:before{content:"\uf1a7"}.fa-pied-piper-alt[_ngcontent-%COMP%]:before{content:"\uf1a8"}.fa-drupal[_ngcontent-%COMP%]:before{content:"\uf1a9"}.fa-joomla[_ngcontent-%COMP%]:before{content:"\uf1aa"}.fa-language[_ngcontent-%COMP%]:before{content:"\uf1ab"}.fa-fax[_ngcontent-%COMP%]:before{content:"\uf1ac"}.fa-building[_ngcontent-%COMP%]:before{content:"\uf1ad"}.fa-child[_ngcontent-%COMP%]:before{content:"\uf1ae"}.fa-paw[_ngcontent-%COMP%]:before{content:"\uf1b0"}.fa-spoon[_ngcontent-%COMP%]:before{content:"\uf1b1"}.fa-cube[_ngcontent-%COMP%]:before{content:"\uf1b2"}.fa-cubes[_ngcontent-%COMP%]:before{content:"\uf1b3"}.fa-behance[_ngcontent-%COMP%]:before{content:"\uf1b4"}.fa-behance-square[_ngcontent-%COMP%]:before{content:"\uf1b5"}.fa-steam[_ngcontent-%COMP%]:before{content:"\uf1b6"}.fa-steam-square[_ngcontent-%COMP%]:before{content:"\uf1b7"}.fa-recycle[_ngcontent-%COMP%]:before{content:"\uf1b8"}.fa-automobile[_ngcontent-%COMP%]:before, .fa-car[_ngcontent-%COMP%]:before{content:"\uf1b9"}.fa-cab[_ngcontent-%COMP%]:before, .fa-taxi[_ngcontent-%COMP%]:before{content:"\uf1ba"}.fa-tree[_ngcontent-%COMP%]:before{content:"\uf1bb"}.fa-spotify[_ngcontent-%COMP%]:before{content:"\uf1bc"}.fa-deviantart[_ngcontent-%COMP%]:before{content:"\uf1bd"}.fa-soundcloud[_ngcontent-%COMP%]:before{content:"\uf1be"}.fa-database[_ngcontent-%COMP%]:before{content:"\uf1c0"}.fa-file-pdf-o[_ngcontent-%COMP%]:before{content:"\uf1c1"}.fa-file-word-o[_ngcontent-%COMP%]:before{content:"\uf1c2"}.fa-file-excel-o[_ngcontent-%COMP%]:before{content:"\uf1c3"}.fa-file-powerpoint-o[_ngcontent-%COMP%]:before{content:"\uf1c4"}.fa-file-image-o[_ngcontent-%COMP%]:before, .fa-file-photo-o[_ngcontent-%COMP%]:before, .fa-file-picture-o[_ngcontent-%COMP%]:before{content:"\uf1c5"}.fa-file-archive-o[_ngcontent-%COMP%]:before, .fa-file-zip-o[_ngcontent-%COMP%]:before{content:"\uf1c6"}.fa-file-audio-o[_ngcontent-%COMP%]:before, .fa-file-sound-o[_ngcontent-%COMP%]:before{content:"\uf1c7"}.fa-file-movie-o[_ngcontent-%COMP%]:before, .fa-file-video-o[_ngcontent-%COMP%]:before{content:"\uf1c8"}.fa-file-code-o[_ngcontent-%COMP%]:before{content:"\uf1c9"}.fa-vine[_ngcontent-%COMP%]:before{content:"\uf1ca"}.fa-codepen[_ngcontent-%COMP%]:before{content:"\uf1cb"}.fa-jsfiddle[_ngcontent-%COMP%]:before{content:"\uf1cc"}.fa-life-bouy[_ngcontent-%COMP%]:before, .fa-life-buoy[_ngcontent-%COMP%]:before, .fa-life-ring[_ngcontent-%COMP%]:before, .fa-life-saver[_ngcontent-%COMP%]:before, .fa-support[_ngcontent-%COMP%]:before{content:"\uf1cd"}.fa-circle-o-notch[_ngcontent-%COMP%]:before{content:"\uf1ce"}.fa-ra[_ngcontent-%COMP%]:before, .fa-rebel[_ngcontent-%COMP%]:before, .fa-resistance[_ngcontent-%COMP%]:before{content:"\uf1d0"}.fa-empire[_ngcontent-%COMP%]:before, .fa-ge[_ngcontent-%COMP%]:before{content:"\uf1d1"}.fa-git-square[_ngcontent-%COMP%]:before{content:"\uf1d2"}.fa-git[_ngcontent-%COMP%]:before{content:"\uf1d3"}.fa-hacker-news[_ngcontent-%COMP%]:before, .fa-y-combinator-square[_ngcontent-%COMP%]:before, .fa-yc-square[_ngcontent-%COMP%]:before{content:"\uf1d4"}.fa-tencent-weibo[_ngcontent-%COMP%]:before{content:"\uf1d5"}.fa-qq[_ngcontent-%COMP%]:before{content:"\uf1d6"}.fa-wechat[_ngcontent-%COMP%]:before, .fa-weixin[_ngcontent-%COMP%]:before{content:"\uf1d7"}.fa-paper-plane[_ngcontent-%COMP%]:before, .fa-send[_ngcontent-%COMP%]:before{content:"\uf1d8"}.fa-paper-plane-o[_ngcontent-%COMP%]:before, .fa-send-o[_ngcontent-%COMP%]:before{content:"\uf1d9"}.fa-history[_ngcontent-%COMP%]:before{content:"\uf1da"}.fa-circle-thin[_ngcontent-%COMP%]:before{content:"\uf1db"}.fa-header[_ngcontent-%COMP%]:before{content:"\uf1dc"}.fa-paragraph[_ngcontent-%COMP%]:before{content:"\uf1dd"}.fa-sliders[_ngcontent-%COMP%]:before{content:"\uf1de"}.fa-share-alt[_ngcontent-%COMP%]:before{content:"\uf1e0"}.fa-share-alt-square[_ngcontent-%COMP%]:before{content:"\uf1e1"}.fa-bomb[_ngcontent-%COMP%]:before{content:"\uf1e2"}.fa-futbol-o[_ngcontent-%COMP%]:before, .fa-soccer-ball-o[_ngcontent-%COMP%]:before{content:"\uf1e3"}.fa-tty[_ngcontent-%COMP%]:before{content:"\uf1e4"}.fa-binoculars[_ngcontent-%COMP%]:before{content:"\uf1e5"}.fa-plug[_ngcontent-%COMP%]:before{content:"\uf1e6"}.fa-slideshare[_ngcontent-%COMP%]:before{content:"\uf1e7"}.fa-twitch[_ngcontent-%COMP%]:before{content:"\uf1e8"}.fa-yelp[_ngcontent-%COMP%]:before{content:"\uf1e9"}.fa-newspaper-o[_ngcontent-%COMP%]:before{content:"\uf1ea"}.fa-wifi[_ngcontent-%COMP%]:before{content:"\uf1eb"}.fa-calculator[_ngcontent-%COMP%]:before{content:"\uf1ec"}.fa-paypal[_ngcontent-%COMP%]:before{content:"\uf1ed"}.fa-google-wallet[_ngcontent-%COMP%]:before{content:"\uf1ee"}.fa-cc-visa[_ngcontent-%COMP%]:before{content:"\uf1f0"}.fa-cc-mastercard[_ngcontent-%COMP%]:before{content:"\uf1f1"}.fa-cc-discover[_ngcontent-%COMP%]:before{content:"\uf1f2"}.fa-cc-amex[_ngcontent-%COMP%]:before{content:"\uf1f3"}.fa-cc-paypal[_ngcontent-%COMP%]:before{content:"\uf1f4"}.fa-cc-stripe[_ngcontent-%COMP%]:before{content:"\uf1f5"}.fa-bell-slash[_ngcontent-%COMP%]:before{content:"\uf1f6"}.fa-bell-slash-o[_ngcontent-%COMP%]:before{content:"\uf1f7"}.fa-trash[_ngcontent-%COMP%]:before{content:"\uf1f8"}.fa-copyright[_ngcontent-%COMP%]:before{content:"\uf1f9"}.fa-at[_ngcontent-%COMP%]:before{content:"\uf1fa"}.fa-eyedropper[_ngcontent-%COMP%]:before{content:"\uf1fb"}.fa-paint-brush[_ngcontent-%COMP%]:before{content:"\uf1fc"}.fa-birthday-cake[_ngcontent-%COMP%]:before{content:"\uf1fd"}.fa-area-chart[_ngcontent-%COMP%]:before{content:"\uf1fe"}.fa-pie-chart[_ngcontent-%COMP%]:before{content:"\uf200"}.fa-line-chart[_ngcontent-%COMP%]:before{content:"\uf201"}.fa-lastfm[_ngcontent-%COMP%]:before{content:"\uf202"}.fa-lastfm-square[_ngcontent-%COMP%]:before{content:"\uf203"}.fa-toggle-off[_ngcontent-%COMP%]:before{content:"\uf204"}.fa-toggle-on[_ngcontent-%COMP%]:before{content:"\uf205"}.fa-bicycle[_ngcontent-%COMP%]:before{content:"\uf206"}.fa-bus[_ngcontent-%COMP%]:before{content:"\uf207"}.fa-ioxhost[_ngcontent-%COMP%]:before{content:"\uf208"}.fa-angellist[_ngcontent-%COMP%]:before{content:"\uf209"}.fa-cc[_ngcontent-%COMP%]:before{content:"\uf20a"}.fa-ils[_ngcontent-%COMP%]:before, .fa-shekel[_ngcontent-%COMP%]:before, .fa-sheqel[_ngcontent-%COMP%]:before{content:"\uf20b"}.fa-meanpath[_ngcontent-%COMP%]:before{content:"\uf20c"}.fa-buysellads[_ngcontent-%COMP%]:before{content:"\uf20d"}.fa-connectdevelop[_ngcontent-%COMP%]:before{content:"\uf20e"}.fa-dashcube[_ngcontent-%COMP%]:before{content:"\uf210"}.fa-forumbee[_ngcontent-%COMP%]:before{content:"\uf211"}.fa-leanpub[_ngcontent-%COMP%]:before{content:"\uf212"}.fa-sellsy[_ngcontent-%COMP%]:before{content:"\uf213"}.fa-shirtsinbulk[_ngcontent-%COMP%]:before{content:"\uf214"}.fa-simplybuilt[_ngcontent-%COMP%]:before{content:"\uf215"}.fa-skyatlas[_ngcontent-%COMP%]:before{content:"\uf216"}.fa-cart-plus[_ngcontent-%COMP%]:before{content:"\uf217"}.fa-cart-arrow-down[_ngcontent-%COMP%]:before{content:"\uf218"}.fa-diamond[_ngcontent-%COMP%]:before{content:"\uf219"}.fa-ship[_ngcontent-%COMP%]:before{content:"\uf21a"}.fa-user-secret[_ngcontent-%COMP%]:before{content:"\uf21b"}.fa-motorcycle[_ngcontent-%COMP%]:before{content:"\uf21c"}.fa-street-view[_ngcontent-%COMP%]:before{content:"\uf21d"}.fa-heartbeat[_ngcontent-%COMP%]:before{content:"\uf21e"}.fa-venus[_ngcontent-%COMP%]:before{content:"\uf221"}.fa-mars[_ngcontent-%COMP%]:before{content:"\uf222"}.fa-mercury[_ngcontent-%COMP%]:before{content:"\uf223"}.fa-intersex[_ngcontent-%COMP%]:before, .fa-transgender[_ngcontent-%COMP%]:before{content:"\uf224"}.fa-transgender-alt[_ngcontent-%COMP%]:before{content:"\uf225"}.fa-venus-double[_ngcontent-%COMP%]:before{content:"\uf226"}.fa-mars-double[_ngcontent-%COMP%]:before{content:"\uf227"}.fa-venus-mars[_ngcontent-%COMP%]:before{content:"\uf228"}.fa-mars-stroke[_ngcontent-%COMP%]:before{content:"\uf229"}.fa-mars-stroke-v[_ngcontent-%COMP%]:before{content:"\uf22a"}.fa-mars-stroke-h[_ngcontent-%COMP%]:before{content:"\uf22b"}.fa-neuter[_ngcontent-%COMP%]:before{content:"\uf22c"}.fa-genderless[_ngcontent-%COMP%]:before{content:"\uf22d"}.fa-facebook-official[_ngcontent-%COMP%]:before{content:"\uf230"}.fa-pinterest-p[_ngcontent-%COMP%]:before{content:"\uf231"}.fa-whatsapp[_ngcontent-%COMP%]:before{content:"\uf232"}.fa-server[_ngcontent-%COMP%]:before{content:"\uf233"}.fa-user-plus[_ngcontent-%COMP%]:before{content:"\uf234"}.fa-user-times[_ngcontent-%COMP%]:before{content:"\uf235"}.fa-bed[_ngcontent-%COMP%]:before, .fa-hotel[_ngcontent-%COMP%]:before{content:"\uf236"}.fa-viacoin[_ngcontent-%COMP%]:before{content:"\uf237"}.fa-train[_ngcontent-%COMP%]:before{content:"\uf238"}.fa-subway[_ngcontent-%COMP%]:before{content:"\uf239"}.fa-medium[_ngcontent-%COMP%]:before{content:"\uf23a"}.fa-y-combinator[_ngcontent-%COMP%]:before, .fa-yc[_ngcontent-%COMP%]:before{content:"\uf23b"}.fa-optin-monster[_ngcontent-%COMP%]:before{content:"\uf23c"}.fa-opencart[_ngcontent-%COMP%]:before{content:"\uf23d"}.fa-expeditedssl[_ngcontent-%COMP%]:before{content:"\uf23e"}.fa-battery-4[_ngcontent-%COMP%]:before, .fa-battery-full[_ngcontent-%COMP%]:before, .fa-battery[_ngcontent-%COMP%]:before{content:"\uf240"}.fa-battery-3[_ngcontent-%COMP%]:before, .fa-battery-three-quarters[_ngcontent-%COMP%]:before{content:"\uf241"}.fa-battery-2[_ngcontent-%COMP%]:before, .fa-battery-half[_ngcontent-%COMP%]:before{content:"\uf242"}.fa-battery-1[_ngcontent-%COMP%]:before, .fa-battery-quarter[_ngcontent-%COMP%]:before{content:"\uf243"}.fa-battery-0[_ngcontent-%COMP%]:before, .fa-battery-empty[_ngcontent-%COMP%]:before{content:"\uf244"}.fa-mouse-pointer[_ngcontent-%COMP%]:before{content:"\uf245"}.fa-i-cursor[_ngcontent-%COMP%]:before{content:"\uf246"}.fa-object-group[_ngcontent-%COMP%]:before{content:"\uf247"}.fa-object-ungroup[_ngcontent-%COMP%]:before{content:"\uf248"}.fa-sticky-note[_ngcontent-%COMP%]:before{content:"\uf249"}.fa-sticky-note-o[_ngcontent-%COMP%]:before{content:"\uf24a"}.fa-cc-jcb[_ngcontent-%COMP%]:before{content:"\uf24b"}.fa-cc-diners-club[_ngcontent-%COMP%]:before{content:"\uf24c"}.fa-clone[_ngcontent-%COMP%]:before{content:"\uf24d"}.fa-balance-scale[_ngcontent-%COMP%]:before{content:"\uf24e"}.fa-hourglass-o[_ngcontent-%COMP%]:before{content:"\uf250"}.fa-hourglass-1[_ngcontent-%COMP%]:before, .fa-hourglass-start[_ngcontent-%COMP%]:before{content:"\uf251"}.fa-hourglass-2[_ngcontent-%COMP%]:before, .fa-hourglass-half[_ngcontent-%COMP%]:before{content:"\uf252"}.fa-hourglass-3[_ngcontent-%COMP%]:before, .fa-hourglass-end[_ngcontent-%COMP%]:before{content:"\uf253"}.fa-hourglass[_ngcontent-%COMP%]:before{content:"\uf254"}.fa-hand-grab-o[_ngcontent-%COMP%]:before, .fa-hand-rock-o[_ngcontent-%COMP%]:before{content:"\uf255"}.fa-hand-paper-o[_ngcontent-%COMP%]:before, .fa-hand-stop-o[_ngcontent-%COMP%]:before{content:"\uf256"}.fa-hand-scissors-o[_ngcontent-%COMP%]:before{content:"\uf257"}.fa-hand-lizard-o[_ngcontent-%COMP%]:before{content:"\uf258"}.fa-hand-spock-o[_ngcontent-%COMP%]:before{content:"\uf259"}.fa-hand-pointer-o[_ngcontent-%COMP%]:before{content:"\uf25a"}.fa-hand-peace-o[_ngcontent-%COMP%]:before{content:"\uf25b"}.fa-trademark[_ngcontent-%COMP%]:before{content:"\uf25c"}.fa-registered[_ngcontent-%COMP%]:before{content:"\uf25d"}.fa-creative-commons[_ngcontent-%COMP%]:before{content:"\uf25e"}.fa-gg[_ngcontent-%COMP%]:before{content:"\uf260"}.fa-gg-circle[_ngcontent-%COMP%]:before{content:"\uf261"}.fa-tripadvisor[_ngcontent-%COMP%]:before{content:"\uf262"}.fa-odnoklassniki[_ngcontent-%COMP%]:before{content:"\uf263"}.fa-odnoklassniki-square[_ngcontent-%COMP%]:before{content:"\uf264"}.fa-get-pocket[_ngcontent-%COMP%]:before{content:"\uf265"}.fa-wikipedia-w[_ngcontent-%COMP%]:before{content:"\uf266"}.fa-safari[_ngcontent-%COMP%]:before{content:"\uf267"}.fa-chrome[_ngcontent-%COMP%]:before{content:"\uf268"}.fa-firefox[_ngcontent-%COMP%]:before{content:"\uf269"}.fa-opera[_ngcontent-%COMP%]:before{content:"\uf26a"}.fa-internet-explorer[_ngcontent-%COMP%]:before{content:"\uf26b"}.fa-television[_ngcontent-%COMP%]:before, .fa-tv[_ngcontent-%COMP%]:before{content:"\uf26c"}.fa-contao[_ngcontent-%COMP%]:before{content:"\uf26d"}.fa-500px[_ngcontent-%COMP%]:before{content:"\uf26e"}.fa-amazon[_ngcontent-%COMP%]:before{content:"\uf270"}.fa-calendar-plus-o[_ngcontent-%COMP%]:before{content:"\uf271"}.fa-calendar-minus-o[_ngcontent-%COMP%]:before{content:"\uf272"}.fa-calendar-times-o[_ngcontent-%COMP%]:before{content:"\uf273"}.fa-calendar-check-o[_ngcontent-%COMP%]:before{content:"\uf274"}.fa-industry[_ngcontent-%COMP%]:before{content:"\uf275"}.fa-map-pin[_ngcontent-%COMP%]:before{content:"\uf276"}.fa-map-signs[_ngcontent-%COMP%]:before{content:"\uf277"}.fa-map-o[_ngcontent-%COMP%]:before{content:"\uf278"}.fa-map[_ngcontent-%COMP%]:before{content:"\uf279"}.fa-commenting[_ngcontent-%COMP%]:before{content:"\uf27a"}.fa-commenting-o[_ngcontent-%COMP%]:before{content:"\uf27b"}.fa-houzz[_ngcontent-%COMP%]:before{content:"\uf27c"}.fa-vimeo[_ngcontent-%COMP%]:before{content:"\uf27d"}.fa-black-tie[_ngcontent-%COMP%]:before{content:"\uf27e"}.fa-fonticons[_ngcontent-%COMP%]:before{content:"\uf280"}.fa-reddit-alien[_ngcontent-%COMP%]:before{content:"\uf281"}.fa-edge[_ngcontent-%COMP%]:before{content:"\uf282"}.fa-credit-card-alt[_ngcontent-%COMP%]:before{content:"\uf283"}.fa-codiepie[_ngcontent-%COMP%]:before{content:"\uf284"}.fa-modx[_ngcontent-%COMP%]:before{content:"\uf285"}.fa-fort-awesome[_ngcontent-%COMP%]:before{content:"\uf286"}.fa-usb[_ngcontent-%COMP%]:before{content:"\uf287"}.fa-product-hunt[_ngcontent-%COMP%]:before{content:"\uf288"}.fa-mixcloud[_ngcontent-%COMP%]:before{content:"\uf289"}.fa-scribd[_ngcontent-%COMP%]:before{content:"\uf28a"}.fa-pause-circle[_ngcontent-%COMP%]:before{content:"\uf28b"}.fa-pause-circle-o[_ngcontent-%COMP%]:before{content:"\uf28c"}.fa-stop-circle[_ngcontent-%COMP%]:before{content:"\uf28d"}.fa-stop-circle-o[_ngcontent-%COMP%]:before{content:"\uf28e"}.fa-shopping-bag[_ngcontent-%COMP%]:before{content:"\uf290"}.fa-shopping-basket[_ngcontent-%COMP%]:before{content:"\uf291"}.fa-hashtag[_ngcontent-%COMP%]:before{content:"\uf292"}.fa-bluetooth[_ngcontent-%COMP%]:before{content:"\uf293"}.fa-bluetooth-b[_ngcontent-%COMP%]:before{content:"\uf294"}.fa-percent[_ngcontent-%COMP%]:before{content:"\uf295"}.fa-gitlab[_ngcontent-%COMP%]:before{content:"\uf296"}.fa-wpbeginner[_ngcontent-%COMP%]:before{content:"\uf297"}.fa-wpforms[_ngcontent-%COMP%]:before{content:"\uf298"}.fa-envira[_ngcontent-%COMP%]:before{content:"\uf299"}.fa-universal-access[_ngcontent-%COMP%]:before{content:"\uf29a"}.fa-wheelchair-alt[_ngcontent-%COMP%]:before{content:"\uf29b"}.fa-question-circle-o[_ngcontent-%COMP%]:before{content:"\uf29c"}.fa-blind[_ngcontent-%COMP%]:before{content:"\uf29d"}.fa-audio-description[_ngcontent-%COMP%]:before{content:"\uf29e"}.fa-volume-control-phone[_ngcontent-%COMP%]:before{content:"\uf2a0"}.fa-braille[_ngcontent-%COMP%]:before{content:"\uf2a1"}.fa-assistive-listening-systems[_ngcontent-%COMP%]:before{content:"\uf2a2"}.fa-american-sign-language-interpreting[_ngcontent-%COMP%]:before, .fa-asl-interpreting[_ngcontent-%COMP%]:before{content:"\uf2a3"}.fa-deaf[_ngcontent-%COMP%]:before, .fa-deafness[_ngcontent-%COMP%]:before, .fa-hard-of-hearing[_ngcontent-%COMP%]:before{content:"\uf2a4"}.fa-glide[_ngcontent-%COMP%]:before{content:"\uf2a5"}.fa-glide-g[_ngcontent-%COMP%]:before{content:"\uf2a6"}.fa-sign-language[_ngcontent-%COMP%]:before, .fa-signing[_ngcontent-%COMP%]:before{content:"\uf2a7"}.fa-low-vision[_ngcontent-%COMP%]:before{content:"\uf2a8"}.fa-viadeo[_ngcontent-%COMP%]:before{content:"\uf2a9"}.fa-viadeo-square[_ngcontent-%COMP%]:before{content:"\uf2aa"}.fa-snapchat[_ngcontent-%COMP%]:before{content:"\uf2ab"}.fa-snapchat-ghost[_ngcontent-%COMP%]:before{content:"\uf2ac"}.fa-snapchat-square[_ngcontent-%COMP%]:before{content:"\uf2ad"}.fa-pied-piper[_ngcontent-%COMP%]:before{content:"\uf2ae"}.fa-first-order[_ngcontent-%COMP%]:before{content:"\uf2b0"}.fa-yoast[_ngcontent-%COMP%]:before{content:"\uf2b1"}.fa-themeisle[_ngcontent-%COMP%]:before{content:"\uf2b2"}.fa-google-plus-circle[_ngcontent-%COMP%]:before, .fa-google-plus-official[_ngcontent-%COMP%]:before{content:"\uf2b3"}.fa-fa[_ngcontent-%COMP%]:before, .fa-font-awesome[_ngcontent-%COMP%]:before{content:"\uf2b4"}.fa-handshake-o[_ngcontent-%COMP%]:before{content:"\uf2b5"}.fa-envelope-open[_ngcontent-%COMP%]:before{content:"\uf2b6"}.fa-envelope-open-o[_ngcontent-%COMP%]:before{content:"\uf2b7"}.fa-linode[_ngcontent-%COMP%]:before{content:"\uf2b8"}.fa-address-book[_ngcontent-%COMP%]:before{content:"\uf2b9"}.fa-address-book-o[_ngcontent-%COMP%]:before{content:"\uf2ba"}.fa-address-card[_ngcontent-%COMP%]:before, .fa-vcard[_ngcontent-%COMP%]:before{content:"\uf2bb"}.fa-address-card-o[_ngcontent-%COMP%]:before, .fa-vcard-o[_ngcontent-%COMP%]:before{content:"\uf2bc"}.fa-user-circle[_ngcontent-%COMP%]:before{content:"\uf2bd"}.fa-user-circle-o[_ngcontent-%COMP%]:before{content:"\uf2be"}.fa-user-o[_ngcontent-%COMP%]:before{content:"\uf2c0"}.fa-id-badge[_ngcontent-%COMP%]:before{content:"\uf2c1"}.fa-drivers-license[_ngcontent-%COMP%]:before, .fa-id-card[_ngcontent-%COMP%]:before{content:"\uf2c2"}.fa-drivers-license-o[_ngcontent-%COMP%]:before, .fa-id-card-o[_ngcontent-%COMP%]:before{content:"\uf2c3"}.fa-quora[_ngcontent-%COMP%]:before{content:"\uf2c4"}.fa-free-code-camp[_ngcontent-%COMP%]:before{content:"\uf2c5"}.fa-telegram[_ngcontent-%COMP%]:before{content:"\uf2c6"}.fa-thermometer-4[_ngcontent-%COMP%]:before, .fa-thermometer-full[_ngcontent-%COMP%]:before, .fa-thermometer[_ngcontent-%COMP%]:before{content:"\uf2c7"}.fa-thermometer-3[_ngcontent-%COMP%]:before, .fa-thermometer-three-quarters[_ngcontent-%COMP%]:before{content:"\uf2c8"}.fa-thermometer-2[_ngcontent-%COMP%]:before, .fa-thermometer-half[_ngcontent-%COMP%]:before{content:"\uf2c9"}.fa-thermometer-1[_ngcontent-%COMP%]:before, .fa-thermometer-quarter[_ngcontent-%COMP%]:before{content:"\uf2ca"}.fa-thermometer-0[_ngcontent-%COMP%]:before, .fa-thermometer-empty[_ngcontent-%COMP%]:before{content:"\uf2cb"}.fa-shower[_ngcontent-%COMP%]:before{content:"\uf2cc"}.fa-bath[_ngcontent-%COMP%]:before, .fa-bathtub[_ngcontent-%COMP%]:before, .fa-s15[_ngcontent-%COMP%]:before{content:"\uf2cd"}.fa-podcast[_ngcontent-%COMP%]:before{content:"\uf2ce"}.fa-window-maximize[_ngcontent-%COMP%]:before{content:"\uf2d0"}.fa-window-minimize[_ngcontent-%COMP%]:before{content:"\uf2d1"}.fa-window-restore[_ngcontent-%COMP%]:before{content:"\uf2d2"}.fa-times-rectangle[_ngcontent-%COMP%]:before, .fa-window-close[_ngcontent-%COMP%]:before{content:"\uf2d3"}.fa-times-rectangle-o[_ngcontent-%COMP%]:before, .fa-window-close-o[_ngcontent-%COMP%]:before{content:"\uf2d4"}.fa-bandcamp[_ngcontent-%COMP%]:before{content:"\uf2d5"}.fa-grav[_ngcontent-%COMP%]:before{content:"\uf2d6"}.fa-etsy[_ngcontent-%COMP%]:before{content:"\uf2d7"}.fa-imdb[_ngcontent-%COMP%]:before{content:"\uf2d8"}.fa-ravelry[_ngcontent-%COMP%]:before{content:"\uf2d9"}.fa-eercast[_ngcontent-%COMP%]:before{content:"\uf2da"}.fa-microchip[_ngcontent-%COMP%]:before{content:"\uf2db"}.fa-snowflake-o[_ngcontent-%COMP%]:before{content:"\uf2dc"}.fa-superpowers[_ngcontent-%COMP%]:before{content:"\uf2dd"}.fa-wpexplorer[_ngcontent-%COMP%]:before{content:"\uf2de"}.fa-meetup[_ngcontent-%COMP%]:before{content:"\uf2e0"}.sr-only[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.sr-only-focusable[_ngcontent-%COMP%]:active, .sr-only-focusable[_ngcontent-%COMP%]:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}a[_ngcontent-%COMP%]{cursor:pointer}.angular-editor-textarea[_ngcontent-%COMP%]{min-height:150px;overflow:auto;margin-top:5px;resize:vertical}.angular-editor-textarea[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;right:0;display:block;width:8px;height:8px;cursor:nwse-resize;background-color:hsla(0,0%,100%,.5)}.angular-editor-toolbar[_ngcontent-%COMP%]{font:100 14px/15px Roboto,Arial,sans-serif;background-color:#f5f5f5;font-size:.8rem;padding:.2rem;border:1px solid #ddd}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]{display:none;margin-right:5px;vertical-align:baseline}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]{background-color:#fff;vertical-align:middle;border:1px solid #ddd;padding:.4rem;min-width:2rem;float:left}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button.focus[_ngcontent-%COMP%], .angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:focus{outline:0}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled > .color-label[_ngcontent-%COMP%]{pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled > .color-label.background[_ngcontent-%COMP%], .angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled > .color-label.foreground[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{background:#555}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button.active[_ngcontent-%COMP%]{background:#fff5b9}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button.active[_ngcontent-%COMP%]:hover{background-color:#fffa98}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:11px;width:90px;vertical-align:middle;background-color:transparent;border:.5px solid hsla(0,0%,100%,0);border-radius:5px;outline:none;padding:.4rem;cursor:pointer}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance:none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .default[_ngcontent-%COMP%]{font-size:16px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{font-size:24px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:20px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h3[_ngcontent-%COMP%]{font-size:16px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h4[_ngcontent-%COMP%]{font-size:15px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h5[_ngcontent-%COMP%]{font-size:14px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h6[_ngcontent-%COMP%]{font-size:13px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .div[_ngcontent-%COMP%], .angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .pre[_ngcontent-%COMP%]{font-size:12px}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance:none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]{display:inline-block;width:50px}@supports not (-moz-appearance:none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size1[_ngcontent-%COMP%]{font-size:10px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size2[_ngcontent-%COMP%]{font-size:12px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size3[_ngcontent-%COMP%]{font-size:14px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size4[_ngcontent-%COMP%]{font-size:16px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size5[_ngcontent-%COMP%]{font-size:18px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size6[_ngcontent-%COMP%]{font-size:20px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size7[_ngcontent-%COMP%]{font-size:22px}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance:none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .color-label[_ngcontent-%COMP%]{position:relative;cursor:pointer}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{font-size:smaller;background:#1b1b1b;color:#fff;padding:3px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .foreground[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{position:absolute;content:"";left:-1px;top:auto;bottom:-3px;right:auto;width:15px;height:2px;z-index:0;background:#1b1b1b}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]:not([style*="display:none"]):not([style*="display: none"]){display:inline-block}.angular-editor[_ngcontent-%COMP%]{position:relative}.angular-editor[_ngcontent-%COMP%]     [contenteditable=true]:empty:before{content:attr(placeholder);color:#868e96;opacity:1}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]{position:relative}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-textarea[_ngcontent-%COMP%]{min-height:5rem;padding:.5rem .8rem 1rem;border:1px solid #ddd;background-color:transparent;overflow-x:hidden;overflow-y:auto;position:relative}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-textarea[_ngcontent-%COMP%]     blockquote{margin-left:1rem;border-left:.2em solid #dfe2e5;padding-left:.5rem}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]     p{margin-bottom:0}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-placeholder[_ngcontent-%COMP%]{display:none;position:absolute;top:0;padding:.5rem .8rem 1rem .9rem;color:#6c757d;opacity:.75}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper.show-placeholder[_ngcontent-%COMP%]   .angular-editor-placeholder[_ngcontent-%COMP%]{display:block}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper.disabled[_ngcontent-%COMP%]{cursor:not-allowed;opacity:.5;pointer-events:none}']}),n})(),FJ=(()=>{class n{constructor(e,r,i,a){this.r=e,this.editorService=r,this.er=i,this.doc=a,this.htmlMode=!1,this.linkSelected=!1,this.block="default",this.fontName="Times New Roman",this.fontSize="3",this.headings=[{label:"Heading 1",value:"h1"},{label:"Heading 2",value:"h2"},{label:"Heading 3",value:"h3"},{label:"Heading 4",value:"h4"},{label:"Heading 5",value:"h5"},{label:"Heading 6",value:"h6"},{label:"Heading 7",value:"h7"},{label:"Paragraph",value:"p"},{label:"Predefined",value:"pre"},{label:"Standard",value:"div"},{label:"default",value:"default"}],this.fontSizes=[{label:"1",value:"1"},{label:"2",value:"2"},{label:"3",value:"3"},{label:"4",value:"4"},{label:"5",value:"5"},{label:"6",value:"6"},{label:"7",value:"7"}],this.customClassId="-1",this.customClassList=[{label:"",value:""}],this.tagMap={BLOCKQUOTE:"indent",A:"link"},this.select=["H1","H2","H3","H4","H5","H6","P","PRE","DIV"],this.buttons=["bold","italic","underline","strikeThrough","subscript","superscript","justifyLeft","justifyCenter","justifyRight","justifyFull","indent","outdent","insertUnorderedList","insertOrderedList","link"],this.fonts=[{label:"",value:""}],this.execute=new l.vpe}set customClasses(e){e&&(this._customClasses=e,this.customClassList=this._customClasses.map((r,i)=>({label:r.name,value:i.toString()})),this.customClassList.unshift({label:"Clear Class",value:"-1"}))}set defaultFontName(e){e&&(this.fontName=e)}set defaultFontSize(e){e&&(this.fontSize=e)}get isLinkButtonDisabled(){return this.htmlMode||!Boolean(this.editorService.selectedText)}triggerCommand(e){this.execute.emit(e)}triggerButtons(){!this.showToolbar||this.buttons.forEach(e=>{const r=this.doc.queryCommandState(e),i=this.doc.getElementById(e+"-"+this.id);r?this.r.addClass(i,"active"):this.r.removeClass(i,"active")})}triggerBlocks(e){if(!this.showToolbar)return;this.linkSelected=e.findIndex(i=>"A"===i.nodeName)>-1;let r=!1;this.select.forEach(i=>{const a=e.find(d=>d.nodeName===i);void 0!==a&&i===a.nodeName?!1===r&&(this.block=a.nodeName.toLowerCase(),r=!0):!1===r&&(this.block="default")}),r=!1,this._customClasses&&this._customClasses.forEach((i,a)=>{void 0!==e.find(f=>{if(f instanceof Element)return f.className===i.class})?!1===r&&(this.customClassId=a.toString(),r=!0):!1===r&&(this.customClassId="-1")}),Object.keys(this.tagMap).map(i=>{const a=this.doc.getElementById(this.tagMap[i]+"-"+this.id),d=e.find(f=>f.nodeName===i);void 0!==d&&i===d.nodeName?this.r.addClass(a,"active"):this.r.removeClass(a,"active")}),this.foreColour=this.doc.queryCommandValue("ForeColor"),this.fontSize=this.doc.queryCommandValue("FontSize"),this.fontName=this.doc.queryCommandValue("FontName").replace(/"/g,""),this.backColor=this.doc.queryCommandValue("backColor")}insertUrl(){let e="https://";const r=this.editorService.savedSelection;if(r&&"A"===r.commonAncestorContainer.parentElement.nodeName){const i=r.commonAncestorContainer.parentElement;""!==i.href&&(e=i.href)}e=prompt("Insert URL link",e),e&&""!==e&&"https://"!==e&&this.editorService.createLink(e)}insertVideo(){this.execute.emit("");const e=prompt("Insert Video link","https://");e&&""!==e&&"https://"!==e&&this.editorService.insertVideo(e)}insertColor(e,r){this.editorService.insertColor(e,r),this.execute.emit("")}setFontName(e){this.editorService.setFontName(e),this.execute.emit("")}setFontSize(e){this.editorService.setFontSize(e),this.execute.emit("")}setEditorMode(e){const r=this.doc.getElementById("toggleEditorMode-"+this.id);e?this.r.addClass(r,"active"):this.r.removeClass(r,"active"),this.htmlMode=e}onFileChanged(e){const r=e.target.files[0];if(r.type.includes("image/"))if(this.upload)this.upload(r).subscribe(()=>this.watchUploadImage);else if(this.uploadUrl)this.editorService.uploadImage(r).subscribe(()=>this.watchUploadImage);else{const i=new FileReader;i.onload=a=>{this.editorService.insertImage(a.currentTarget.result.toString())},i.readAsDataURL(r)}}watchUploadImage(e,r){const{imageUrl:i}=e.body;this.editorService.insertImage(i),r.srcElement.value=null}setCustomClass(e){"-1"===e?this.execute.emit("clear"):this.editorService.createCustomClass(this._customClasses[+e])}isButtonHidden(e){if(!(e&&this.hiddenButtons instanceof Array))return!1;let r;for(const i of this.hiddenButtons)if(i instanceof Array&&(r=i.find(a=>a===e)),r)break;return void 0!==r}focus(){this.execute.emit("focus"),console.log("focused")}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.Qsj),l.Y36(Y2),l.Y36(l.SBq),l.Y36(K))},n.\u0275cmp=l.Xpm({type:n,selectors:[["angular-editor-toolbar"]],viewQuery:function(e,r){if(1&e&&l.Gf(MJ,7),2&e){let i;l.iGM(i=l.CRH())&&(r.myInputFile=i.first)}},inputs:{fonts:"fonts",customClasses:"customClasses",defaultFontName:"defaultFontName",defaultFontSize:"defaultFontSize",id:"id",uploadUrl:"uploadUrl",upload:"upload",showToolbar:"showToolbar",hiddenButtons:"hiddenButtons"},outputs:{execute:"execute"},decls:1,vars:1,consts:[["class","angular-editor-toolbar",4,"ngIf"],[1,"angular-editor-toolbar"],[1,"angular-editor-toolbar-set"],["type","button","title","Undo","tabindex","-1",1,"angular-editor-button",3,"hidden","click"],[1,"fa","fa-undo"],["type","button","title","Redo","tabindex","-1",1,"angular-editor-button",3,"hidden","click"],[1,"fa","fa-repeat"],["type","button","title","Bold","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-bold"],["type","button","title","Italic","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-italic"],["type","button","title","Underline","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-underline"],["type","button","title","Strikethrough","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-strikethrough"],["type","button","title","Subscript","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-subscript"],["type","button","title","Superscript","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-superscript"],["type","button","title","Justify Left","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-align-left"],["type","button","title","Justify Center","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-align-center"],["type","button","title","Justify Right","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-align-right"],["type","button","title","Justify Full","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-align-justify"],["type","button","title","Indent","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-indent"],["type","button","title","Outdent","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-outdent"],["type","button","title","Unordered List","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-list-ul"],["type","button","title","Ordered List","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-list-ol"],["tabindex","-1",1,"select-heading",3,"options","ngModel","disabled","hidden","ngModelChange","change"],["tabindex","-1",1,"select-font",3,"options","ngModel","disabled","hidden","ngModelChange","change"],["tabindex","-1",1,"select-font-size",3,"options","ngModel","disabled","hidden","ngModelChange","change"],["type","color",2,"display","none",3,"change"],["fgInput",""],["type","button","title","Text Color","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"color-label","foreground"],[1,"fa","fa-font"],["bgInput",""],["type","button","title","Background Color","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"color-label","background"],["class","angular-editor-toolbar-set",4,"ngIf"],["type","button","title","Insert Link","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-link"],["type","button","title","Unlink","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-chain-broken"],["accept","image/*","type","file",2,"display","none",3,"change"],["fileInput",""],["type","button","title","Insert Image","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-image"],["type","button","title","Insert Video","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-video-camera"],["type","button","title","Horizontal Line","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-minus"],["type","button","title","Clear Formatting","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-remove"],["type","button","title","HTML Code","tabindex","-1",1,"angular-editor-button",3,"id","hidden","click"],[1,"fa","fa-code"],["tabindex","-1",1,"select-custom-style",3,"options","ngModel","disabled","hidden","ngModelChange","change"]],template:function(e,r){1&e&&l.YNc(0,OJ,75,83,"div",0),2&e&&l.Q6J("ngIf",r.showToolbar)},directives:function(){return[Nr,kJ,Vd,Tf]},styles:['@charset "UTF-8";\n@font-face{font-family:FontAwesome;src:url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.eot?v=4.7.0);src:url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.eot#iefix&v=4.7.0) format("embedded-opentype"),url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.woff2?v=4.7.0) format("woff2"),url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.woff?v=4.7.0) format("woff"),url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.ttf?v=4.7.0) format("truetype"),url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.svg?v=4.7.0#fontawesomeregular) format("svg");font-weight:400;font-style:normal}.fa[_ngcontent-%COMP%]{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fa-lg[_ngcontent-%COMP%]{font-size:1.3333333333em;line-height:.75em;vertical-align:-15%}.fa-2x[_ngcontent-%COMP%]{font-size:2em}.fa-3x[_ngcontent-%COMP%]{font-size:3em}.fa-4x[_ngcontent-%COMP%]{font-size:4em}.fa-5x[_ngcontent-%COMP%]{font-size:5em}.fa-fw[_ngcontent-%COMP%]{width:1.2857142857em;text-align:center}.fa-ul[_ngcontent-%COMP%]{padding-left:0;margin-left:2.1428571429em;list-style-type:none}.fa-ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}.fa-li[_ngcontent-%COMP%]{position:absolute;left:-2.1428571429em;width:2.1428571429em;top:.1428571429em;text-align:center}.fa-li.fa-lg[_ngcontent-%COMP%]{left:-1.8571428571em}.fa-border[_ngcontent-%COMP%]{padding:.2em .25em .15em;border:.08em solid #eee;border-radius:.1em}.fa-pull-left[_ngcontent-%COMP%]{float:left}.fa-pull-right[_ngcontent-%COMP%]{float:right}.fa.fa-pull-left[_ngcontent-%COMP%]{margin-right:.3em}.fa.fa-pull-right[_ngcontent-%COMP%]{margin-left:.3em}.pull-right[_ngcontent-%COMP%]{float:right}.pull-left[_ngcontent-%COMP%]{float:left}.fa.pull-left[_ngcontent-%COMP%]{margin-right:.3em}.fa.pull-right[_ngcontent-%COMP%]{margin-left:.3em}.fa-spin[_ngcontent-%COMP%]{-webkit-animation:fa-spin 2s linear infinite;animation:fa-spin 2s linear infinite}.fa-pulse[_ngcontent-%COMP%]{-webkit-animation:fa-spin 1s steps(8) infinite;animation:fa-spin 1s steps(8) infinite}@-webkit-keyframes fa-spin{0%{transform:rotate(0deg)}to{transform:rotate(359deg)}}@keyframes fa-spin{0%{transform:rotate(0deg)}to{transform:rotate(359deg)}}.fa-rotate-90[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";transform:rotate(90deg)}.fa-rotate-180[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";transform:rotate(180deg)}.fa-rotate-270[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";transform:rotate(270deg)}.fa-flip-horizontal[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";transform:scaleX(-1)}.fa-flip-vertical[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";transform:scaleY(-1)}[_ngcontent-%COMP%]:root   .fa-flip-horizontal[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-flip-vertical[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-rotate-90[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-rotate-180[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-rotate-270[_ngcontent-%COMP%]{filter:none}.fa-stack[_ngcontent-%COMP%]{position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:middle}.fa-stack-1x[_ngcontent-%COMP%], .fa-stack-2x[_ngcontent-%COMP%]{position:absolute;left:0;width:100%;text-align:center}.fa-stack-1x[_ngcontent-%COMP%]{line-height:inherit}.fa-stack-2x[_ngcontent-%COMP%]{font-size:2em}.fa-inverse[_ngcontent-%COMP%]{color:#fff}.fa-glass[_ngcontent-%COMP%]:before{content:"\uf000"}.fa-music[_ngcontent-%COMP%]:before{content:"\uf001"}.fa-search[_ngcontent-%COMP%]:before{content:"\uf002"}.fa-envelope-o[_ngcontent-%COMP%]:before{content:"\uf003"}.fa-heart[_ngcontent-%COMP%]:before{content:"\uf004"}.fa-star[_ngcontent-%COMP%]:before{content:"\uf005"}.fa-star-o[_ngcontent-%COMP%]:before{content:"\uf006"}.fa-user[_ngcontent-%COMP%]:before{content:"\uf007"}.fa-film[_ngcontent-%COMP%]:before{content:"\uf008"}.fa-th-large[_ngcontent-%COMP%]:before{content:"\uf009"}.fa-th[_ngcontent-%COMP%]:before{content:"\uf00a"}.fa-th-list[_ngcontent-%COMP%]:before{content:"\uf00b"}.fa-check[_ngcontent-%COMP%]:before{content:"\uf00c"}.fa-close[_ngcontent-%COMP%]:before, .fa-remove[_ngcontent-%COMP%]:before, .fa-times[_ngcontent-%COMP%]:before{content:"\uf00d"}.fa-search-plus[_ngcontent-%COMP%]:before{content:"\uf00e"}.fa-search-minus[_ngcontent-%COMP%]:before{content:"\uf010"}.fa-power-off[_ngcontent-%COMP%]:before{content:"\uf011"}.fa-signal[_ngcontent-%COMP%]:before{content:"\uf012"}.fa-cog[_ngcontent-%COMP%]:before, .fa-gear[_ngcontent-%COMP%]:before{content:"\uf013"}.fa-trash-o[_ngcontent-%COMP%]:before{content:"\uf014"}.fa-home[_ngcontent-%COMP%]:before{content:"\uf015"}.fa-file-o[_ngcontent-%COMP%]:before{content:"\uf016"}.fa-clock-o[_ngcontent-%COMP%]:before{content:"\uf017"}.fa-road[_ngcontent-%COMP%]:before{content:"\uf018"}.fa-download[_ngcontent-%COMP%]:before{content:"\uf019"}.fa-arrow-circle-o-down[_ngcontent-%COMP%]:before{content:"\uf01a"}.fa-arrow-circle-o-up[_ngcontent-%COMP%]:before{content:"\uf01b"}.fa-inbox[_ngcontent-%COMP%]:before{content:"\uf01c"}.fa-play-circle-o[_ngcontent-%COMP%]:before{content:"\uf01d"}.fa-repeat[_ngcontent-%COMP%]:before, .fa-rotate-right[_ngcontent-%COMP%]:before{content:"\uf01e"}.fa-refresh[_ngcontent-%COMP%]:before{content:"\uf021"}.fa-list-alt[_ngcontent-%COMP%]:before{content:"\uf022"}.fa-lock[_ngcontent-%COMP%]:before{content:"\uf023"}.fa-flag[_ngcontent-%COMP%]:before{content:"\uf024"}.fa-headphones[_ngcontent-%COMP%]:before{content:"\uf025"}.fa-volume-off[_ngcontent-%COMP%]:before{content:"\uf026"}.fa-volume-down[_ngcontent-%COMP%]:before{content:"\uf027"}.fa-volume-up[_ngcontent-%COMP%]:before{content:"\uf028"}.fa-qrcode[_ngcontent-%COMP%]:before{content:"\uf029"}.fa-barcode[_ngcontent-%COMP%]:before{content:"\uf02a"}.fa-tag[_ngcontent-%COMP%]:before{content:"\uf02b"}.fa-tags[_ngcontent-%COMP%]:before{content:"\uf02c"}.fa-book[_ngcontent-%COMP%]:before{content:"\uf02d"}.fa-bookmark[_ngcontent-%COMP%]:before{content:"\uf02e"}.fa-print[_ngcontent-%COMP%]:before{content:"\uf02f"}.fa-camera[_ngcontent-%COMP%]:before{content:"\uf030"}.fa-font[_ngcontent-%COMP%]:before{content:"\uf031"}.fa-bold[_ngcontent-%COMP%]:before{content:"\uf032"}.fa-italic[_ngcontent-%COMP%]:before{content:"\uf033"}.fa-text-height[_ngcontent-%COMP%]:before{content:"\uf034"}.fa-text-width[_ngcontent-%COMP%]:before{content:"\uf035"}.fa-align-left[_ngcontent-%COMP%]:before{content:"\uf036"}.fa-align-center[_ngcontent-%COMP%]:before{content:"\uf037"}.fa-align-right[_ngcontent-%COMP%]:before{content:"\uf038"}.fa-align-justify[_ngcontent-%COMP%]:before{content:"\uf039"}.fa-list[_ngcontent-%COMP%]:before{content:"\uf03a"}.fa-dedent[_ngcontent-%COMP%]:before, .fa-outdent[_ngcontent-%COMP%]:before{content:"\uf03b"}.fa-indent[_ngcontent-%COMP%]:before{content:"\uf03c"}.fa-video-camera[_ngcontent-%COMP%]:before{content:"\uf03d"}.fa-image[_ngcontent-%COMP%]:before, .fa-photo[_ngcontent-%COMP%]:before, .fa-picture-o[_ngcontent-%COMP%]:before{content:"\uf03e"}.fa-pencil[_ngcontent-%COMP%]:before{content:"\uf040"}.fa-map-marker[_ngcontent-%COMP%]:before{content:"\uf041"}.fa-adjust[_ngcontent-%COMP%]:before{content:"\uf042"}.fa-tint[_ngcontent-%COMP%]:before{content:"\uf043"}.fa-edit[_ngcontent-%COMP%]:before, .fa-pencil-square-o[_ngcontent-%COMP%]:before{content:"\uf044"}.fa-share-square-o[_ngcontent-%COMP%]:before{content:"\uf045"}.fa-check-square-o[_ngcontent-%COMP%]:before{content:"\uf046"}.fa-arrows[_ngcontent-%COMP%]:before{content:"\uf047"}.fa-step-backward[_ngcontent-%COMP%]:before{content:"\uf048"}.fa-fast-backward[_ngcontent-%COMP%]:before{content:"\uf049"}.fa-backward[_ngcontent-%COMP%]:before{content:"\uf04a"}.fa-play[_ngcontent-%COMP%]:before{content:"\uf04b"}.fa-pause[_ngcontent-%COMP%]:before{content:"\uf04c"}.fa-stop[_ngcontent-%COMP%]:before{content:"\uf04d"}.fa-forward[_ngcontent-%COMP%]:before{content:"\uf04e"}.fa-fast-forward[_ngcontent-%COMP%]:before{content:"\uf050"}.fa-step-forward[_ngcontent-%COMP%]:before{content:"\uf051"}.fa-eject[_ngcontent-%COMP%]:before{content:"\uf052"}.fa-chevron-left[_ngcontent-%COMP%]:before{content:"\uf053"}.fa-chevron-right[_ngcontent-%COMP%]:before{content:"\uf054"}.fa-plus-circle[_ngcontent-%COMP%]:before{content:"\uf055"}.fa-minus-circle[_ngcontent-%COMP%]:before{content:"\uf056"}.fa-times-circle[_ngcontent-%COMP%]:before{content:"\uf057"}.fa-check-circle[_ngcontent-%COMP%]:before{content:"\uf058"}.fa-question-circle[_ngcontent-%COMP%]:before{content:"\uf059"}.fa-info-circle[_ngcontent-%COMP%]:before{content:"\uf05a"}.fa-crosshairs[_ngcontent-%COMP%]:before{content:"\uf05b"}.fa-times-circle-o[_ngcontent-%COMP%]:before{content:"\uf05c"}.fa-check-circle-o[_ngcontent-%COMP%]:before{content:"\uf05d"}.fa-ban[_ngcontent-%COMP%]:before{content:"\uf05e"}.fa-arrow-left[_ngcontent-%COMP%]:before{content:"\uf060"}.fa-arrow-right[_ngcontent-%COMP%]:before{content:"\uf061"}.fa-arrow-up[_ngcontent-%COMP%]:before{content:"\uf062"}.fa-arrow-down[_ngcontent-%COMP%]:before{content:"\uf063"}.fa-mail-forward[_ngcontent-%COMP%]:before, .fa-share[_ngcontent-%COMP%]:before{content:"\uf064"}.fa-expand[_ngcontent-%COMP%]:before{content:"\uf065"}.fa-compress[_ngcontent-%COMP%]:before{content:"\uf066"}.fa-plus[_ngcontent-%COMP%]:before{content:"\uf067"}.fa-minus[_ngcontent-%COMP%]:before{content:"\uf068"}.fa-asterisk[_ngcontent-%COMP%]:before{content:"\uf069"}.fa-exclamation-circle[_ngcontent-%COMP%]:before{content:"\uf06a"}.fa-gift[_ngcontent-%COMP%]:before{content:"\uf06b"}.fa-leaf[_ngcontent-%COMP%]:before{content:"\uf06c"}.fa-fire[_ngcontent-%COMP%]:before{content:"\uf06d"}.fa-eye[_ngcontent-%COMP%]:before{content:"\uf06e"}.fa-eye-slash[_ngcontent-%COMP%]:before{content:"\uf070"}.fa-exclamation-triangle[_ngcontent-%COMP%]:before, .fa-warning[_ngcontent-%COMP%]:before{content:"\uf071"}.fa-plane[_ngcontent-%COMP%]:before{content:"\uf072"}.fa-calendar[_ngcontent-%COMP%]:before{content:"\uf073"}.fa-random[_ngcontent-%COMP%]:before{content:"\uf074"}.fa-comment[_ngcontent-%COMP%]:before{content:"\uf075"}.fa-magnet[_ngcontent-%COMP%]:before{content:"\uf076"}.fa-chevron-up[_ngcontent-%COMP%]:before{content:"\uf077"}.fa-chevron-down[_ngcontent-%COMP%]:before{content:"\uf078"}.fa-retweet[_ngcontent-%COMP%]:before{content:"\uf079"}.fa-shopping-cart[_ngcontent-%COMP%]:before{content:"\uf07a"}.fa-folder[_ngcontent-%COMP%]:before{content:"\uf07b"}.fa-folder-open[_ngcontent-%COMP%]:before{content:"\uf07c"}.fa-arrows-v[_ngcontent-%COMP%]:before{content:"\uf07d"}.fa-arrows-h[_ngcontent-%COMP%]:before{content:"\uf07e"}.fa-bar-chart-o[_ngcontent-%COMP%]:before, .fa-bar-chart[_ngcontent-%COMP%]:before{content:"\uf080"}.fa-twitter-square[_ngcontent-%COMP%]:before{content:"\uf081"}.fa-facebook-square[_ngcontent-%COMP%]:before{content:"\uf082"}.fa-camera-retro[_ngcontent-%COMP%]:before{content:"\uf083"}.fa-key[_ngcontent-%COMP%]:before{content:"\uf084"}.fa-cogs[_ngcontent-%COMP%]:before, .fa-gears[_ngcontent-%COMP%]:before{content:"\uf085"}.fa-comments[_ngcontent-%COMP%]:before{content:"\uf086"}.fa-thumbs-o-up[_ngcontent-%COMP%]:before{content:"\uf087"}.fa-thumbs-o-down[_ngcontent-%COMP%]:before{content:"\uf088"}.fa-star-half[_ngcontent-%COMP%]:before{content:"\uf089"}.fa-heart-o[_ngcontent-%COMP%]:before{content:"\uf08a"}.fa-sign-out[_ngcontent-%COMP%]:before{content:"\uf08b"}.fa-linkedin-square[_ngcontent-%COMP%]:before{content:"\uf08c"}.fa-thumb-tack[_ngcontent-%COMP%]:before{content:"\uf08d"}.fa-external-link[_ngcontent-%COMP%]:before{content:"\uf08e"}.fa-sign-in[_ngcontent-%COMP%]:before{content:"\uf090"}.fa-trophy[_ngcontent-%COMP%]:before{content:"\uf091"}.fa-github-square[_ngcontent-%COMP%]:before{content:"\uf092"}.fa-upload[_ngcontent-%COMP%]:before{content:"\uf093"}.fa-lemon-o[_ngcontent-%COMP%]:before{content:"\uf094"}.fa-phone[_ngcontent-%COMP%]:before{content:"\uf095"}.fa-square-o[_ngcontent-%COMP%]:before{content:"\uf096"}.fa-bookmark-o[_ngcontent-%COMP%]:before{content:"\uf097"}.fa-phone-square[_ngcontent-%COMP%]:before{content:"\uf098"}.fa-twitter[_ngcontent-%COMP%]:before{content:"\uf099"}.fa-facebook-f[_ngcontent-%COMP%]:before, .fa-facebook[_ngcontent-%COMP%]:before{content:"\uf09a"}.fa-github[_ngcontent-%COMP%]:before{content:"\uf09b"}.fa-unlock[_ngcontent-%COMP%]:before{content:"\uf09c"}.fa-credit-card[_ngcontent-%COMP%]:before{content:"\uf09d"}.fa-feed[_ngcontent-%COMP%]:before, .fa-rss[_ngcontent-%COMP%]:before{content:"\uf09e"}.fa-hdd-o[_ngcontent-%COMP%]:before{content:"\uf0a0"}.fa-bullhorn[_ngcontent-%COMP%]:before{content:"\uf0a1"}.fa-bell[_ngcontent-%COMP%]:before{content:"\uf0f3"}.fa-certificate[_ngcontent-%COMP%]:before{content:"\uf0a3"}.fa-hand-o-right[_ngcontent-%COMP%]:before{content:"\uf0a4"}.fa-hand-o-left[_ngcontent-%COMP%]:before{content:"\uf0a5"}.fa-hand-o-up[_ngcontent-%COMP%]:before{content:"\uf0a6"}.fa-hand-o-down[_ngcontent-%COMP%]:before{content:"\uf0a7"}.fa-arrow-circle-left[_ngcontent-%COMP%]:before{content:"\uf0a8"}.fa-arrow-circle-right[_ngcontent-%COMP%]:before{content:"\uf0a9"}.fa-arrow-circle-up[_ngcontent-%COMP%]:before{content:"\uf0aa"}.fa-arrow-circle-down[_ngcontent-%COMP%]:before{content:"\uf0ab"}.fa-globe[_ngcontent-%COMP%]:before{content:"\uf0ac"}.fa-wrench[_ngcontent-%COMP%]:before{content:"\uf0ad"}.fa-tasks[_ngcontent-%COMP%]:before{content:"\uf0ae"}.fa-filter[_ngcontent-%COMP%]:before{content:"\uf0b0"}.fa-briefcase[_ngcontent-%COMP%]:before{content:"\uf0b1"}.fa-arrows-alt[_ngcontent-%COMP%]:before{content:"\uf0b2"}.fa-group[_ngcontent-%COMP%]:before, .fa-users[_ngcontent-%COMP%]:before{content:"\uf0c0"}.fa-chain[_ngcontent-%COMP%]:before, .fa-link[_ngcontent-%COMP%]:before{content:"\uf0c1"}.fa-cloud[_ngcontent-%COMP%]:before{content:"\uf0c2"}.fa-flask[_ngcontent-%COMP%]:before{content:"\uf0c3"}.fa-cut[_ngcontent-%COMP%]:before, .fa-scissors[_ngcontent-%COMP%]:before{content:"\uf0c4"}.fa-copy[_ngcontent-%COMP%]:before, .fa-files-o[_ngcontent-%COMP%]:before{content:"\uf0c5"}.fa-paperclip[_ngcontent-%COMP%]:before{content:"\uf0c6"}.fa-floppy-o[_ngcontent-%COMP%]:before, .fa-save[_ngcontent-%COMP%]:before{content:"\uf0c7"}.fa-square[_ngcontent-%COMP%]:before{content:"\uf0c8"}.fa-bars[_ngcontent-%COMP%]:before, .fa-navicon[_ngcontent-%COMP%]:before, .fa-reorder[_ngcontent-%COMP%]:before{content:"\uf0c9"}.fa-list-ul[_ngcontent-%COMP%]:before{content:"\uf0ca"}.fa-list-ol[_ngcontent-%COMP%]:before{content:"\uf0cb"}.fa-strikethrough[_ngcontent-%COMP%]:before{content:"\uf0cc"}.fa-underline[_ngcontent-%COMP%]:before{content:"\uf0cd"}.fa-table[_ngcontent-%COMP%]:before{content:"\uf0ce"}.fa-magic[_ngcontent-%COMP%]:before{content:"\uf0d0"}.fa-truck[_ngcontent-%COMP%]:before{content:"\uf0d1"}.fa-pinterest[_ngcontent-%COMP%]:before{content:"\uf0d2"}.fa-pinterest-square[_ngcontent-%COMP%]:before{content:"\uf0d3"}.fa-google-plus-square[_ngcontent-%COMP%]:before{content:"\uf0d4"}.fa-google-plus[_ngcontent-%COMP%]:before{content:"\uf0d5"}.fa-money[_ngcontent-%COMP%]:before{content:"\uf0d6"}.fa-caret-down[_ngcontent-%COMP%]:before{content:"\uf0d7"}.fa-caret-up[_ngcontent-%COMP%]:before{content:"\uf0d8"}.fa-caret-left[_ngcontent-%COMP%]:before{content:"\uf0d9"}.fa-caret-right[_ngcontent-%COMP%]:before{content:"\uf0da"}.fa-columns[_ngcontent-%COMP%]:before{content:"\uf0db"}.fa-sort[_ngcontent-%COMP%]:before, .fa-unsorted[_ngcontent-%COMP%]:before{content:"\uf0dc"}.fa-sort-desc[_ngcontent-%COMP%]:before, .fa-sort-down[_ngcontent-%COMP%]:before{content:"\uf0dd"}.fa-sort-asc[_ngcontent-%COMP%]:before, .fa-sort-up[_ngcontent-%COMP%]:before{content:"\uf0de"}.fa-envelope[_ngcontent-%COMP%]:before{content:"\uf0e0"}.fa-linkedin[_ngcontent-%COMP%]:before{content:"\uf0e1"}.fa-rotate-left[_ngcontent-%COMP%]:before, .fa-undo[_ngcontent-%COMP%]:before{content:"\uf0e2"}.fa-gavel[_ngcontent-%COMP%]:before, .fa-legal[_ngcontent-%COMP%]:before{content:"\uf0e3"}.fa-dashboard[_ngcontent-%COMP%]:before, .fa-tachometer[_ngcontent-%COMP%]:before{content:"\uf0e4"}.fa-comment-o[_ngcontent-%COMP%]:before{content:"\uf0e5"}.fa-comments-o[_ngcontent-%COMP%]:before{content:"\uf0e6"}.fa-bolt[_ngcontent-%COMP%]:before, .fa-flash[_ngcontent-%COMP%]:before{content:"\uf0e7"}.fa-sitemap[_ngcontent-%COMP%]:before{content:"\uf0e8"}.fa-umbrella[_ngcontent-%COMP%]:before{content:"\uf0e9"}.fa-clipboard[_ngcontent-%COMP%]:before, .fa-paste[_ngcontent-%COMP%]:before{content:"\uf0ea"}.fa-lightbulb-o[_ngcontent-%COMP%]:before{content:"\uf0eb"}.fa-exchange[_ngcontent-%COMP%]:before{content:"\uf0ec"}.fa-cloud-download[_ngcontent-%COMP%]:before{content:"\uf0ed"}.fa-cloud-upload[_ngcontent-%COMP%]:before{content:"\uf0ee"}.fa-user-md[_ngcontent-%COMP%]:before{content:"\uf0f0"}.fa-stethoscope[_ngcontent-%COMP%]:before{content:"\uf0f1"}.fa-suitcase[_ngcontent-%COMP%]:before{content:"\uf0f2"}.fa-bell-o[_ngcontent-%COMP%]:before{content:"\uf0a2"}.fa-coffee[_ngcontent-%COMP%]:before{content:"\uf0f4"}.fa-cutlery[_ngcontent-%COMP%]:before{content:"\uf0f5"}.fa-file-text-o[_ngcontent-%COMP%]:before{content:"\uf0f6"}.fa-building-o[_ngcontent-%COMP%]:before{content:"\uf0f7"}.fa-hospital-o[_ngcontent-%COMP%]:before{content:"\uf0f8"}.fa-ambulance[_ngcontent-%COMP%]:before{content:"\uf0f9"}.fa-medkit[_ngcontent-%COMP%]:before{content:"\uf0fa"}.fa-fighter-jet[_ngcontent-%COMP%]:before{content:"\uf0fb"}.fa-beer[_ngcontent-%COMP%]:before{content:"\uf0fc"}.fa-h-square[_ngcontent-%COMP%]:before{content:"\uf0fd"}.fa-plus-square[_ngcontent-%COMP%]:before{content:"\uf0fe"}.fa-angle-double-left[_ngcontent-%COMP%]:before{content:"\uf100"}.fa-angle-double-right[_ngcontent-%COMP%]:before{content:"\uf101"}.fa-angle-double-up[_ngcontent-%COMP%]:before{content:"\uf102"}.fa-angle-double-down[_ngcontent-%COMP%]:before{content:"\uf103"}.fa-angle-left[_ngcontent-%COMP%]:before{content:"\uf104"}.fa-angle-right[_ngcontent-%COMP%]:before{content:"\uf105"}.fa-angle-up[_ngcontent-%COMP%]:before{content:"\uf106"}.fa-angle-down[_ngcontent-%COMP%]:before{content:"\uf107"}.fa-desktop[_ngcontent-%COMP%]:before{content:"\uf108"}.fa-laptop[_ngcontent-%COMP%]:before{content:"\uf109"}.fa-tablet[_ngcontent-%COMP%]:before{content:"\uf10a"}.fa-mobile-phone[_ngcontent-%COMP%]:before, .fa-mobile[_ngcontent-%COMP%]:before{content:"\uf10b"}.fa-circle-o[_ngcontent-%COMP%]:before{content:"\uf10c"}.fa-quote-left[_ngcontent-%COMP%]:before{content:"\uf10d"}.fa-quote-right[_ngcontent-%COMP%]:before{content:"\uf10e"}.fa-spinner[_ngcontent-%COMP%]:before{content:"\uf110"}.fa-circle[_ngcontent-%COMP%]:before{content:"\uf111"}.fa-mail-reply[_ngcontent-%COMP%]:before, .fa-reply[_ngcontent-%COMP%]:before{content:"\uf112"}.fa-github-alt[_ngcontent-%COMP%]:before{content:"\uf113"}.fa-folder-o[_ngcontent-%COMP%]:before{content:"\uf114"}.fa-folder-open-o[_ngcontent-%COMP%]:before{content:"\uf115"}.fa-smile-o[_ngcontent-%COMP%]:before{content:"\uf118"}.fa-frown-o[_ngcontent-%COMP%]:before{content:"\uf119"}.fa-meh-o[_ngcontent-%COMP%]:before{content:"\uf11a"}.fa-gamepad[_ngcontent-%COMP%]:before{content:"\uf11b"}.fa-keyboard-o[_ngcontent-%COMP%]:before{content:"\uf11c"}.fa-flag-o[_ngcontent-%COMP%]:before{content:"\uf11d"}.fa-flag-checkered[_ngcontent-%COMP%]:before{content:"\uf11e"}.fa-terminal[_ngcontent-%COMP%]:before{content:"\uf120"}.fa-code[_ngcontent-%COMP%]:before{content:"\uf121"}.fa-mail-reply-all[_ngcontent-%COMP%]:before, .fa-reply-all[_ngcontent-%COMP%]:before{content:"\uf122"}.fa-star-half-empty[_ngcontent-%COMP%]:before, .fa-star-half-full[_ngcontent-%COMP%]:before, .fa-star-half-o[_ngcontent-%COMP%]:before{content:"\uf123"}.fa-location-arrow[_ngcontent-%COMP%]:before{content:"\uf124"}.fa-crop[_ngcontent-%COMP%]:before{content:"\uf125"}.fa-code-fork[_ngcontent-%COMP%]:before{content:"\uf126"}.fa-chain-broken[_ngcontent-%COMP%]:before, .fa-unlink[_ngcontent-%COMP%]:before{content:"\uf127"}.fa-question[_ngcontent-%COMP%]:before{content:"\uf128"}.fa-info[_ngcontent-%COMP%]:before{content:"\uf129"}.fa-exclamation[_ngcontent-%COMP%]:before{content:"\uf12a"}.fa-superscript[_ngcontent-%COMP%]:before{content:"\uf12b"}.fa-subscript[_ngcontent-%COMP%]:before{content:"\uf12c"}.fa-eraser[_ngcontent-%COMP%]:before{content:"\uf12d"}.fa-puzzle-piece[_ngcontent-%COMP%]:before{content:"\uf12e"}.fa-microphone[_ngcontent-%COMP%]:before{content:"\uf130"}.fa-microphone-slash[_ngcontent-%COMP%]:before{content:"\uf131"}.fa-shield[_ngcontent-%COMP%]:before{content:"\uf132"}.fa-calendar-o[_ngcontent-%COMP%]:before{content:"\uf133"}.fa-fire-extinguisher[_ngcontent-%COMP%]:before{content:"\uf134"}.fa-rocket[_ngcontent-%COMP%]:before{content:"\uf135"}.fa-maxcdn[_ngcontent-%COMP%]:before{content:"\uf136"}.fa-chevron-circle-left[_ngcontent-%COMP%]:before{content:"\uf137"}.fa-chevron-circle-right[_ngcontent-%COMP%]:before{content:"\uf138"}.fa-chevron-circle-up[_ngcontent-%COMP%]:before{content:"\uf139"}.fa-chevron-circle-down[_ngcontent-%COMP%]:before{content:"\uf13a"}.fa-html5[_ngcontent-%COMP%]:before{content:"\uf13b"}.fa-css3[_ngcontent-%COMP%]:before{content:"\uf13c"}.fa-anchor[_ngcontent-%COMP%]:before{content:"\uf13d"}.fa-unlock-alt[_ngcontent-%COMP%]:before{content:"\uf13e"}.fa-bullseye[_ngcontent-%COMP%]:before{content:"\uf140"}.fa-ellipsis-h[_ngcontent-%COMP%]:before{content:"\uf141"}.fa-ellipsis-v[_ngcontent-%COMP%]:before{content:"\uf142"}.fa-rss-square[_ngcontent-%COMP%]:before{content:"\uf143"}.fa-play-circle[_ngcontent-%COMP%]:before{content:"\uf144"}.fa-ticket[_ngcontent-%COMP%]:before{content:"\uf145"}.fa-minus-square[_ngcontent-%COMP%]:before{content:"\uf146"}.fa-minus-square-o[_ngcontent-%COMP%]:before{content:"\uf147"}.fa-level-up[_ngcontent-%COMP%]:before{content:"\uf148"}.fa-level-down[_ngcontent-%COMP%]:before{content:"\uf149"}.fa-check-square[_ngcontent-%COMP%]:before{content:"\uf14a"}.fa-pencil-square[_ngcontent-%COMP%]:before{content:"\uf14b"}.fa-external-link-square[_ngcontent-%COMP%]:before{content:"\uf14c"}.fa-share-square[_ngcontent-%COMP%]:before{content:"\uf14d"}.fa-compass[_ngcontent-%COMP%]:before{content:"\uf14e"}.fa-caret-square-o-down[_ngcontent-%COMP%]:before, .fa-toggle-down[_ngcontent-%COMP%]:before{content:"\uf150"}.fa-caret-square-o-up[_ngcontent-%COMP%]:before, .fa-toggle-up[_ngcontent-%COMP%]:before{content:"\uf151"}.fa-caret-square-o-right[_ngcontent-%COMP%]:before, .fa-toggle-right[_ngcontent-%COMP%]:before{content:"\uf152"}.fa-eur[_ngcontent-%COMP%]:before, .fa-euro[_ngcontent-%COMP%]:before{content:"\uf153"}.fa-gbp[_ngcontent-%COMP%]:before{content:"\uf154"}.fa-dollar[_ngcontent-%COMP%]:before, .fa-usd[_ngcontent-%COMP%]:before{content:"\uf155"}.fa-inr[_ngcontent-%COMP%]:before, .fa-rupee[_ngcontent-%COMP%]:before{content:"\uf156"}.fa-cny[_ngcontent-%COMP%]:before, .fa-jpy[_ngcontent-%COMP%]:before, .fa-rmb[_ngcontent-%COMP%]:before, .fa-yen[_ngcontent-%COMP%]:before{content:"\uf157"}.fa-rouble[_ngcontent-%COMP%]:before, .fa-rub[_ngcontent-%COMP%]:before, .fa-ruble[_ngcontent-%COMP%]:before{content:"\uf158"}.fa-krw[_ngcontent-%COMP%]:before, .fa-won[_ngcontent-%COMP%]:before{content:"\uf159"}.fa-bitcoin[_ngcontent-%COMP%]:before, .fa-btc[_ngcontent-%COMP%]:before{content:"\uf15a"}.fa-file[_ngcontent-%COMP%]:before{content:"\uf15b"}.fa-file-text[_ngcontent-%COMP%]:before{content:"\uf15c"}.fa-sort-alpha-asc[_ngcontent-%COMP%]:before{content:"\uf15d"}.fa-sort-alpha-desc[_ngcontent-%COMP%]:before{content:"\uf15e"}.fa-sort-amount-asc[_ngcontent-%COMP%]:before{content:"\uf160"}.fa-sort-amount-desc[_ngcontent-%COMP%]:before{content:"\uf161"}.fa-sort-numeric-asc[_ngcontent-%COMP%]:before{content:"\uf162"}.fa-sort-numeric-desc[_ngcontent-%COMP%]:before{content:"\uf163"}.fa-thumbs-up[_ngcontent-%COMP%]:before{content:"\uf164"}.fa-thumbs-down[_ngcontent-%COMP%]:before{content:"\uf165"}.fa-youtube-square[_ngcontent-%COMP%]:before{content:"\uf166"}.fa-youtube[_ngcontent-%COMP%]:before{content:"\uf167"}.fa-xing[_ngcontent-%COMP%]:before{content:"\uf168"}.fa-xing-square[_ngcontent-%COMP%]:before{content:"\uf169"}.fa-youtube-play[_ngcontent-%COMP%]:before{content:"\uf16a"}.fa-dropbox[_ngcontent-%COMP%]:before{content:"\uf16b"}.fa-stack-overflow[_ngcontent-%COMP%]:before{content:"\uf16c"}.fa-instagram[_ngcontent-%COMP%]:before{content:"\uf16d"}.fa-flickr[_ngcontent-%COMP%]:before{content:"\uf16e"}.fa-adn[_ngcontent-%COMP%]:before{content:"\uf170"}.fa-bitbucket[_ngcontent-%COMP%]:before{content:"\uf171"}.fa-bitbucket-square[_ngcontent-%COMP%]:before{content:"\uf172"}.fa-tumblr[_ngcontent-%COMP%]:before{content:"\uf173"}.fa-tumblr-square[_ngcontent-%COMP%]:before{content:"\uf174"}.fa-long-arrow-down[_ngcontent-%COMP%]:before{content:"\uf175"}.fa-long-arrow-up[_ngcontent-%COMP%]:before{content:"\uf176"}.fa-long-arrow-left[_ngcontent-%COMP%]:before{content:"\uf177"}.fa-long-arrow-right[_ngcontent-%COMP%]:before{content:"\uf178"}.fa-apple[_ngcontent-%COMP%]:before{content:"\uf179"}.fa-windows[_ngcontent-%COMP%]:before{content:"\uf17a"}.fa-android[_ngcontent-%COMP%]:before{content:"\uf17b"}.fa-linux[_ngcontent-%COMP%]:before{content:"\uf17c"}.fa-dribbble[_ngcontent-%COMP%]:before{content:"\uf17d"}.fa-skype[_ngcontent-%COMP%]:before{content:"\uf17e"}.fa-foursquare[_ngcontent-%COMP%]:before{content:"\uf180"}.fa-trello[_ngcontent-%COMP%]:before{content:"\uf181"}.fa-female[_ngcontent-%COMP%]:before{content:"\uf182"}.fa-male[_ngcontent-%COMP%]:before{content:"\uf183"}.fa-gittip[_ngcontent-%COMP%]:before, .fa-gratipay[_ngcontent-%COMP%]:before{content:"\uf184"}.fa-sun-o[_ngcontent-%COMP%]:before{content:"\uf185"}.fa-moon-o[_ngcontent-%COMP%]:before{content:"\uf186"}.fa-archive[_ngcontent-%COMP%]:before{content:"\uf187"}.fa-bug[_ngcontent-%COMP%]:before{content:"\uf188"}.fa-vk[_ngcontent-%COMP%]:before{content:"\uf189"}.fa-weibo[_ngcontent-%COMP%]:before{content:"\uf18a"}.fa-renren[_ngcontent-%COMP%]:before{content:"\uf18b"}.fa-pagelines[_ngcontent-%COMP%]:before{content:"\uf18c"}.fa-stack-exchange[_ngcontent-%COMP%]:before{content:"\uf18d"}.fa-arrow-circle-o-right[_ngcontent-%COMP%]:before{content:"\uf18e"}.fa-arrow-circle-o-left[_ngcontent-%COMP%]:before{content:"\uf190"}.fa-caret-square-o-left[_ngcontent-%COMP%]:before, .fa-toggle-left[_ngcontent-%COMP%]:before{content:"\uf191"}.fa-dot-circle-o[_ngcontent-%COMP%]:before{content:"\uf192"}.fa-wheelchair[_ngcontent-%COMP%]:before{content:"\uf193"}.fa-vimeo-square[_ngcontent-%COMP%]:before{content:"\uf194"}.fa-try[_ngcontent-%COMP%]:before, .fa-turkish-lira[_ngcontent-%COMP%]:before{content:"\uf195"}.fa-plus-square-o[_ngcontent-%COMP%]:before{content:"\uf196"}.fa-space-shuttle[_ngcontent-%COMP%]:before{content:"\uf197"}.fa-slack[_ngcontent-%COMP%]:before{content:"\uf198"}.fa-envelope-square[_ngcontent-%COMP%]:before{content:"\uf199"}.fa-wordpress[_ngcontent-%COMP%]:before{content:"\uf19a"}.fa-openid[_ngcontent-%COMP%]:before{content:"\uf19b"}.fa-bank[_ngcontent-%COMP%]:before, .fa-institution[_ngcontent-%COMP%]:before, .fa-university[_ngcontent-%COMP%]:before{content:"\uf19c"}.fa-graduation-cap[_ngcontent-%COMP%]:before, .fa-mortar-board[_ngcontent-%COMP%]:before{content:"\uf19d"}.fa-yahoo[_ngcontent-%COMP%]:before{content:"\uf19e"}.fa-google[_ngcontent-%COMP%]:before{content:"\uf1a0"}.fa-reddit[_ngcontent-%COMP%]:before{content:"\uf1a1"}.fa-reddit-square[_ngcontent-%COMP%]:before{content:"\uf1a2"}.fa-stumbleupon-circle[_ngcontent-%COMP%]:before{content:"\uf1a3"}.fa-stumbleupon[_ngcontent-%COMP%]:before{content:"\uf1a4"}.fa-delicious[_ngcontent-%COMP%]:before{content:"\uf1a5"}.fa-digg[_ngcontent-%COMP%]:before{content:"\uf1a6"}.fa-pied-piper-pp[_ngcontent-%COMP%]:before{content:"\uf1a7"}.fa-pied-piper-alt[_ngcontent-%COMP%]:before{content:"\uf1a8"}.fa-drupal[_ngcontent-%COMP%]:before{content:"\uf1a9"}.fa-joomla[_ngcontent-%COMP%]:before{content:"\uf1aa"}.fa-language[_ngcontent-%COMP%]:before{content:"\uf1ab"}.fa-fax[_ngcontent-%COMP%]:before{content:"\uf1ac"}.fa-building[_ngcontent-%COMP%]:before{content:"\uf1ad"}.fa-child[_ngcontent-%COMP%]:before{content:"\uf1ae"}.fa-paw[_ngcontent-%COMP%]:before{content:"\uf1b0"}.fa-spoon[_ngcontent-%COMP%]:before{content:"\uf1b1"}.fa-cube[_ngcontent-%COMP%]:before{content:"\uf1b2"}.fa-cubes[_ngcontent-%COMP%]:before{content:"\uf1b3"}.fa-behance[_ngcontent-%COMP%]:before{content:"\uf1b4"}.fa-behance-square[_ngcontent-%COMP%]:before{content:"\uf1b5"}.fa-steam[_ngcontent-%COMP%]:before{content:"\uf1b6"}.fa-steam-square[_ngcontent-%COMP%]:before{content:"\uf1b7"}.fa-recycle[_ngcontent-%COMP%]:before{content:"\uf1b8"}.fa-automobile[_ngcontent-%COMP%]:before, .fa-car[_ngcontent-%COMP%]:before{content:"\uf1b9"}.fa-cab[_ngcontent-%COMP%]:before, .fa-taxi[_ngcontent-%COMP%]:before{content:"\uf1ba"}.fa-tree[_ngcontent-%COMP%]:before{content:"\uf1bb"}.fa-spotify[_ngcontent-%COMP%]:before{content:"\uf1bc"}.fa-deviantart[_ngcontent-%COMP%]:before{content:"\uf1bd"}.fa-soundcloud[_ngcontent-%COMP%]:before{content:"\uf1be"}.fa-database[_ngcontent-%COMP%]:before{content:"\uf1c0"}.fa-file-pdf-o[_ngcontent-%COMP%]:before{content:"\uf1c1"}.fa-file-word-o[_ngcontent-%COMP%]:before{content:"\uf1c2"}.fa-file-excel-o[_ngcontent-%COMP%]:before{content:"\uf1c3"}.fa-file-powerpoint-o[_ngcontent-%COMP%]:before{content:"\uf1c4"}.fa-file-image-o[_ngcontent-%COMP%]:before, .fa-file-photo-o[_ngcontent-%COMP%]:before, .fa-file-picture-o[_ngcontent-%COMP%]:before{content:"\uf1c5"}.fa-file-archive-o[_ngcontent-%COMP%]:before, .fa-file-zip-o[_ngcontent-%COMP%]:before{content:"\uf1c6"}.fa-file-audio-o[_ngcontent-%COMP%]:before, .fa-file-sound-o[_ngcontent-%COMP%]:before{content:"\uf1c7"}.fa-file-movie-o[_ngcontent-%COMP%]:before, .fa-file-video-o[_ngcontent-%COMP%]:before{content:"\uf1c8"}.fa-file-code-o[_ngcontent-%COMP%]:before{content:"\uf1c9"}.fa-vine[_ngcontent-%COMP%]:before{content:"\uf1ca"}.fa-codepen[_ngcontent-%COMP%]:before{content:"\uf1cb"}.fa-jsfiddle[_ngcontent-%COMP%]:before{content:"\uf1cc"}.fa-life-bouy[_ngcontent-%COMP%]:before, .fa-life-buoy[_ngcontent-%COMP%]:before, .fa-life-ring[_ngcontent-%COMP%]:before, .fa-life-saver[_ngcontent-%COMP%]:before, .fa-support[_ngcontent-%COMP%]:before{content:"\uf1cd"}.fa-circle-o-notch[_ngcontent-%COMP%]:before{content:"\uf1ce"}.fa-ra[_ngcontent-%COMP%]:before, .fa-rebel[_ngcontent-%COMP%]:before, .fa-resistance[_ngcontent-%COMP%]:before{content:"\uf1d0"}.fa-empire[_ngcontent-%COMP%]:before, .fa-ge[_ngcontent-%COMP%]:before{content:"\uf1d1"}.fa-git-square[_ngcontent-%COMP%]:before{content:"\uf1d2"}.fa-git[_ngcontent-%COMP%]:before{content:"\uf1d3"}.fa-hacker-news[_ngcontent-%COMP%]:before, .fa-y-combinator-square[_ngcontent-%COMP%]:before, .fa-yc-square[_ngcontent-%COMP%]:before{content:"\uf1d4"}.fa-tencent-weibo[_ngcontent-%COMP%]:before{content:"\uf1d5"}.fa-qq[_ngcontent-%COMP%]:before{content:"\uf1d6"}.fa-wechat[_ngcontent-%COMP%]:before, .fa-weixin[_ngcontent-%COMP%]:before{content:"\uf1d7"}.fa-paper-plane[_ngcontent-%COMP%]:before, .fa-send[_ngcontent-%COMP%]:before{content:"\uf1d8"}.fa-paper-plane-o[_ngcontent-%COMP%]:before, .fa-send-o[_ngcontent-%COMP%]:before{content:"\uf1d9"}.fa-history[_ngcontent-%COMP%]:before{content:"\uf1da"}.fa-circle-thin[_ngcontent-%COMP%]:before{content:"\uf1db"}.fa-header[_ngcontent-%COMP%]:before{content:"\uf1dc"}.fa-paragraph[_ngcontent-%COMP%]:before{content:"\uf1dd"}.fa-sliders[_ngcontent-%COMP%]:before{content:"\uf1de"}.fa-share-alt[_ngcontent-%COMP%]:before{content:"\uf1e0"}.fa-share-alt-square[_ngcontent-%COMP%]:before{content:"\uf1e1"}.fa-bomb[_ngcontent-%COMP%]:before{content:"\uf1e2"}.fa-futbol-o[_ngcontent-%COMP%]:before, .fa-soccer-ball-o[_ngcontent-%COMP%]:before{content:"\uf1e3"}.fa-tty[_ngcontent-%COMP%]:before{content:"\uf1e4"}.fa-binoculars[_ngcontent-%COMP%]:before{content:"\uf1e5"}.fa-plug[_ngcontent-%COMP%]:before{content:"\uf1e6"}.fa-slideshare[_ngcontent-%COMP%]:before{content:"\uf1e7"}.fa-twitch[_ngcontent-%COMP%]:before{content:"\uf1e8"}.fa-yelp[_ngcontent-%COMP%]:before{content:"\uf1e9"}.fa-newspaper-o[_ngcontent-%COMP%]:before{content:"\uf1ea"}.fa-wifi[_ngcontent-%COMP%]:before{content:"\uf1eb"}.fa-calculator[_ngcontent-%COMP%]:before{content:"\uf1ec"}.fa-paypal[_ngcontent-%COMP%]:before{content:"\uf1ed"}.fa-google-wallet[_ngcontent-%COMP%]:before{content:"\uf1ee"}.fa-cc-visa[_ngcontent-%COMP%]:before{content:"\uf1f0"}.fa-cc-mastercard[_ngcontent-%COMP%]:before{content:"\uf1f1"}.fa-cc-discover[_ngcontent-%COMP%]:before{content:"\uf1f2"}.fa-cc-amex[_ngcontent-%COMP%]:before{content:"\uf1f3"}.fa-cc-paypal[_ngcontent-%COMP%]:before{content:"\uf1f4"}.fa-cc-stripe[_ngcontent-%COMP%]:before{content:"\uf1f5"}.fa-bell-slash[_ngcontent-%COMP%]:before{content:"\uf1f6"}.fa-bell-slash-o[_ngcontent-%COMP%]:before{content:"\uf1f7"}.fa-trash[_ngcontent-%COMP%]:before{content:"\uf1f8"}.fa-copyright[_ngcontent-%COMP%]:before{content:"\uf1f9"}.fa-at[_ngcontent-%COMP%]:before{content:"\uf1fa"}.fa-eyedropper[_ngcontent-%COMP%]:before{content:"\uf1fb"}.fa-paint-brush[_ngcontent-%COMP%]:before{content:"\uf1fc"}.fa-birthday-cake[_ngcontent-%COMP%]:before{content:"\uf1fd"}.fa-area-chart[_ngcontent-%COMP%]:before{content:"\uf1fe"}.fa-pie-chart[_ngcontent-%COMP%]:before{content:"\uf200"}.fa-line-chart[_ngcontent-%COMP%]:before{content:"\uf201"}.fa-lastfm[_ngcontent-%COMP%]:before{content:"\uf202"}.fa-lastfm-square[_ngcontent-%COMP%]:before{content:"\uf203"}.fa-toggle-off[_ngcontent-%COMP%]:before{content:"\uf204"}.fa-toggle-on[_ngcontent-%COMP%]:before{content:"\uf205"}.fa-bicycle[_ngcontent-%COMP%]:before{content:"\uf206"}.fa-bus[_ngcontent-%COMP%]:before{content:"\uf207"}.fa-ioxhost[_ngcontent-%COMP%]:before{content:"\uf208"}.fa-angellist[_ngcontent-%COMP%]:before{content:"\uf209"}.fa-cc[_ngcontent-%COMP%]:before{content:"\uf20a"}.fa-ils[_ngcontent-%COMP%]:before, .fa-shekel[_ngcontent-%COMP%]:before, .fa-sheqel[_ngcontent-%COMP%]:before{content:"\uf20b"}.fa-meanpath[_ngcontent-%COMP%]:before{content:"\uf20c"}.fa-buysellads[_ngcontent-%COMP%]:before{content:"\uf20d"}.fa-connectdevelop[_ngcontent-%COMP%]:before{content:"\uf20e"}.fa-dashcube[_ngcontent-%COMP%]:before{content:"\uf210"}.fa-forumbee[_ngcontent-%COMP%]:before{content:"\uf211"}.fa-leanpub[_ngcontent-%COMP%]:before{content:"\uf212"}.fa-sellsy[_ngcontent-%COMP%]:before{content:"\uf213"}.fa-shirtsinbulk[_ngcontent-%COMP%]:before{content:"\uf214"}.fa-simplybuilt[_ngcontent-%COMP%]:before{content:"\uf215"}.fa-skyatlas[_ngcontent-%COMP%]:before{content:"\uf216"}.fa-cart-plus[_ngcontent-%COMP%]:before{content:"\uf217"}.fa-cart-arrow-down[_ngcontent-%COMP%]:before{content:"\uf218"}.fa-diamond[_ngcontent-%COMP%]:before{content:"\uf219"}.fa-ship[_ngcontent-%COMP%]:before{content:"\uf21a"}.fa-user-secret[_ngcontent-%COMP%]:before{content:"\uf21b"}.fa-motorcycle[_ngcontent-%COMP%]:before{content:"\uf21c"}.fa-street-view[_ngcontent-%COMP%]:before{content:"\uf21d"}.fa-heartbeat[_ngcontent-%COMP%]:before{content:"\uf21e"}.fa-venus[_ngcontent-%COMP%]:before{content:"\uf221"}.fa-mars[_ngcontent-%COMP%]:before{content:"\uf222"}.fa-mercury[_ngcontent-%COMP%]:before{content:"\uf223"}.fa-intersex[_ngcontent-%COMP%]:before, .fa-transgender[_ngcontent-%COMP%]:before{content:"\uf224"}.fa-transgender-alt[_ngcontent-%COMP%]:before{content:"\uf225"}.fa-venus-double[_ngcontent-%COMP%]:before{content:"\uf226"}.fa-mars-double[_ngcontent-%COMP%]:before{content:"\uf227"}.fa-venus-mars[_ngcontent-%COMP%]:before{content:"\uf228"}.fa-mars-stroke[_ngcontent-%COMP%]:before{content:"\uf229"}.fa-mars-stroke-v[_ngcontent-%COMP%]:before{content:"\uf22a"}.fa-mars-stroke-h[_ngcontent-%COMP%]:before{content:"\uf22b"}.fa-neuter[_ngcontent-%COMP%]:before{content:"\uf22c"}.fa-genderless[_ngcontent-%COMP%]:before{content:"\uf22d"}.fa-facebook-official[_ngcontent-%COMP%]:before{content:"\uf230"}.fa-pinterest-p[_ngcontent-%COMP%]:before{content:"\uf231"}.fa-whatsapp[_ngcontent-%COMP%]:before{content:"\uf232"}.fa-server[_ngcontent-%COMP%]:before{content:"\uf233"}.fa-user-plus[_ngcontent-%COMP%]:before{content:"\uf234"}.fa-user-times[_ngcontent-%COMP%]:before{content:"\uf235"}.fa-bed[_ngcontent-%COMP%]:before, .fa-hotel[_ngcontent-%COMP%]:before{content:"\uf236"}.fa-viacoin[_ngcontent-%COMP%]:before{content:"\uf237"}.fa-train[_ngcontent-%COMP%]:before{content:"\uf238"}.fa-subway[_ngcontent-%COMP%]:before{content:"\uf239"}.fa-medium[_ngcontent-%COMP%]:before{content:"\uf23a"}.fa-y-combinator[_ngcontent-%COMP%]:before, .fa-yc[_ngcontent-%COMP%]:before{content:"\uf23b"}.fa-optin-monster[_ngcontent-%COMP%]:before{content:"\uf23c"}.fa-opencart[_ngcontent-%COMP%]:before{content:"\uf23d"}.fa-expeditedssl[_ngcontent-%COMP%]:before{content:"\uf23e"}.fa-battery-4[_ngcontent-%COMP%]:before, .fa-battery-full[_ngcontent-%COMP%]:before, .fa-battery[_ngcontent-%COMP%]:before{content:"\uf240"}.fa-battery-3[_ngcontent-%COMP%]:before, .fa-battery-three-quarters[_ngcontent-%COMP%]:before{content:"\uf241"}.fa-battery-2[_ngcontent-%COMP%]:before, .fa-battery-half[_ngcontent-%COMP%]:before{content:"\uf242"}.fa-battery-1[_ngcontent-%COMP%]:before, .fa-battery-quarter[_ngcontent-%COMP%]:before{content:"\uf243"}.fa-battery-0[_ngcontent-%COMP%]:before, .fa-battery-empty[_ngcontent-%COMP%]:before{content:"\uf244"}.fa-mouse-pointer[_ngcontent-%COMP%]:before{content:"\uf245"}.fa-i-cursor[_ngcontent-%COMP%]:before{content:"\uf246"}.fa-object-group[_ngcontent-%COMP%]:before{content:"\uf247"}.fa-object-ungroup[_ngcontent-%COMP%]:before{content:"\uf248"}.fa-sticky-note[_ngcontent-%COMP%]:before{content:"\uf249"}.fa-sticky-note-o[_ngcontent-%COMP%]:before{content:"\uf24a"}.fa-cc-jcb[_ngcontent-%COMP%]:before{content:"\uf24b"}.fa-cc-diners-club[_ngcontent-%COMP%]:before{content:"\uf24c"}.fa-clone[_ngcontent-%COMP%]:before{content:"\uf24d"}.fa-balance-scale[_ngcontent-%COMP%]:before{content:"\uf24e"}.fa-hourglass-o[_ngcontent-%COMP%]:before{content:"\uf250"}.fa-hourglass-1[_ngcontent-%COMP%]:before, .fa-hourglass-start[_ngcontent-%COMP%]:before{content:"\uf251"}.fa-hourglass-2[_ngcontent-%COMP%]:before, .fa-hourglass-half[_ngcontent-%COMP%]:before{content:"\uf252"}.fa-hourglass-3[_ngcontent-%COMP%]:before, .fa-hourglass-end[_ngcontent-%COMP%]:before{content:"\uf253"}.fa-hourglass[_ngcontent-%COMP%]:before{content:"\uf254"}.fa-hand-grab-o[_ngcontent-%COMP%]:before, .fa-hand-rock-o[_ngcontent-%COMP%]:before{content:"\uf255"}.fa-hand-paper-o[_ngcontent-%COMP%]:before, .fa-hand-stop-o[_ngcontent-%COMP%]:before{content:"\uf256"}.fa-hand-scissors-o[_ngcontent-%COMP%]:before{content:"\uf257"}.fa-hand-lizard-o[_ngcontent-%COMP%]:before{content:"\uf258"}.fa-hand-spock-o[_ngcontent-%COMP%]:before{content:"\uf259"}.fa-hand-pointer-o[_ngcontent-%COMP%]:before{content:"\uf25a"}.fa-hand-peace-o[_ngcontent-%COMP%]:before{content:"\uf25b"}.fa-trademark[_ngcontent-%COMP%]:before{content:"\uf25c"}.fa-registered[_ngcontent-%COMP%]:before{content:"\uf25d"}.fa-creative-commons[_ngcontent-%COMP%]:before{content:"\uf25e"}.fa-gg[_ngcontent-%COMP%]:before{content:"\uf260"}.fa-gg-circle[_ngcontent-%COMP%]:before{content:"\uf261"}.fa-tripadvisor[_ngcontent-%COMP%]:before{content:"\uf262"}.fa-odnoklassniki[_ngcontent-%COMP%]:before{content:"\uf263"}.fa-odnoklassniki-square[_ngcontent-%COMP%]:before{content:"\uf264"}.fa-get-pocket[_ngcontent-%COMP%]:before{content:"\uf265"}.fa-wikipedia-w[_ngcontent-%COMP%]:before{content:"\uf266"}.fa-safari[_ngcontent-%COMP%]:before{content:"\uf267"}.fa-chrome[_ngcontent-%COMP%]:before{content:"\uf268"}.fa-firefox[_ngcontent-%COMP%]:before{content:"\uf269"}.fa-opera[_ngcontent-%COMP%]:before{content:"\uf26a"}.fa-internet-explorer[_ngcontent-%COMP%]:before{content:"\uf26b"}.fa-television[_ngcontent-%COMP%]:before, .fa-tv[_ngcontent-%COMP%]:before{content:"\uf26c"}.fa-contao[_ngcontent-%COMP%]:before{content:"\uf26d"}.fa-500px[_ngcontent-%COMP%]:before{content:"\uf26e"}.fa-amazon[_ngcontent-%COMP%]:before{content:"\uf270"}.fa-calendar-plus-o[_ngcontent-%COMP%]:before{content:"\uf271"}.fa-calendar-minus-o[_ngcontent-%COMP%]:before{content:"\uf272"}.fa-calendar-times-o[_ngcontent-%COMP%]:before{content:"\uf273"}.fa-calendar-check-o[_ngcontent-%COMP%]:before{content:"\uf274"}.fa-industry[_ngcontent-%COMP%]:before{content:"\uf275"}.fa-map-pin[_ngcontent-%COMP%]:before{content:"\uf276"}.fa-map-signs[_ngcontent-%COMP%]:before{content:"\uf277"}.fa-map-o[_ngcontent-%COMP%]:before{content:"\uf278"}.fa-map[_ngcontent-%COMP%]:before{content:"\uf279"}.fa-commenting[_ngcontent-%COMP%]:before{content:"\uf27a"}.fa-commenting-o[_ngcontent-%COMP%]:before{content:"\uf27b"}.fa-houzz[_ngcontent-%COMP%]:before{content:"\uf27c"}.fa-vimeo[_ngcontent-%COMP%]:before{content:"\uf27d"}.fa-black-tie[_ngcontent-%COMP%]:before{content:"\uf27e"}.fa-fonticons[_ngcontent-%COMP%]:before{content:"\uf280"}.fa-reddit-alien[_ngcontent-%COMP%]:before{content:"\uf281"}.fa-edge[_ngcontent-%COMP%]:before{content:"\uf282"}.fa-credit-card-alt[_ngcontent-%COMP%]:before{content:"\uf283"}.fa-codiepie[_ngcontent-%COMP%]:before{content:"\uf284"}.fa-modx[_ngcontent-%COMP%]:before{content:"\uf285"}.fa-fort-awesome[_ngcontent-%COMP%]:before{content:"\uf286"}.fa-usb[_ngcontent-%COMP%]:before{content:"\uf287"}.fa-product-hunt[_ngcontent-%COMP%]:before{content:"\uf288"}.fa-mixcloud[_ngcontent-%COMP%]:before{content:"\uf289"}.fa-scribd[_ngcontent-%COMP%]:before{content:"\uf28a"}.fa-pause-circle[_ngcontent-%COMP%]:before{content:"\uf28b"}.fa-pause-circle-o[_ngcontent-%COMP%]:before{content:"\uf28c"}.fa-stop-circle[_ngcontent-%COMP%]:before{content:"\uf28d"}.fa-stop-circle-o[_ngcontent-%COMP%]:before{content:"\uf28e"}.fa-shopping-bag[_ngcontent-%COMP%]:before{content:"\uf290"}.fa-shopping-basket[_ngcontent-%COMP%]:before{content:"\uf291"}.fa-hashtag[_ngcontent-%COMP%]:before{content:"\uf292"}.fa-bluetooth[_ngcontent-%COMP%]:before{content:"\uf293"}.fa-bluetooth-b[_ngcontent-%COMP%]:before{content:"\uf294"}.fa-percent[_ngcontent-%COMP%]:before{content:"\uf295"}.fa-gitlab[_ngcontent-%COMP%]:before{content:"\uf296"}.fa-wpbeginner[_ngcontent-%COMP%]:before{content:"\uf297"}.fa-wpforms[_ngcontent-%COMP%]:before{content:"\uf298"}.fa-envira[_ngcontent-%COMP%]:before{content:"\uf299"}.fa-universal-access[_ngcontent-%COMP%]:before{content:"\uf29a"}.fa-wheelchair-alt[_ngcontent-%COMP%]:before{content:"\uf29b"}.fa-question-circle-o[_ngcontent-%COMP%]:before{content:"\uf29c"}.fa-blind[_ngcontent-%COMP%]:before{content:"\uf29d"}.fa-audio-description[_ngcontent-%COMP%]:before{content:"\uf29e"}.fa-volume-control-phone[_ngcontent-%COMP%]:before{content:"\uf2a0"}.fa-braille[_ngcontent-%COMP%]:before{content:"\uf2a1"}.fa-assistive-listening-systems[_ngcontent-%COMP%]:before{content:"\uf2a2"}.fa-american-sign-language-interpreting[_ngcontent-%COMP%]:before, .fa-asl-interpreting[_ngcontent-%COMP%]:before{content:"\uf2a3"}.fa-deaf[_ngcontent-%COMP%]:before, .fa-deafness[_ngcontent-%COMP%]:before, .fa-hard-of-hearing[_ngcontent-%COMP%]:before{content:"\uf2a4"}.fa-glide[_ngcontent-%COMP%]:before{content:"\uf2a5"}.fa-glide-g[_ngcontent-%COMP%]:before{content:"\uf2a6"}.fa-sign-language[_ngcontent-%COMP%]:before, .fa-signing[_ngcontent-%COMP%]:before{content:"\uf2a7"}.fa-low-vision[_ngcontent-%COMP%]:before{content:"\uf2a8"}.fa-viadeo[_ngcontent-%COMP%]:before{content:"\uf2a9"}.fa-viadeo-square[_ngcontent-%COMP%]:before{content:"\uf2aa"}.fa-snapchat[_ngcontent-%COMP%]:before{content:"\uf2ab"}.fa-snapchat-ghost[_ngcontent-%COMP%]:before{content:"\uf2ac"}.fa-snapchat-square[_ngcontent-%COMP%]:before{content:"\uf2ad"}.fa-pied-piper[_ngcontent-%COMP%]:before{content:"\uf2ae"}.fa-first-order[_ngcontent-%COMP%]:before{content:"\uf2b0"}.fa-yoast[_ngcontent-%COMP%]:before{content:"\uf2b1"}.fa-themeisle[_ngcontent-%COMP%]:before{content:"\uf2b2"}.fa-google-plus-circle[_ngcontent-%COMP%]:before, .fa-google-plus-official[_ngcontent-%COMP%]:before{content:"\uf2b3"}.fa-fa[_ngcontent-%COMP%]:before, .fa-font-awesome[_ngcontent-%COMP%]:before{content:"\uf2b4"}.fa-handshake-o[_ngcontent-%COMP%]:before{content:"\uf2b5"}.fa-envelope-open[_ngcontent-%COMP%]:before{content:"\uf2b6"}.fa-envelope-open-o[_ngcontent-%COMP%]:before{content:"\uf2b7"}.fa-linode[_ngcontent-%COMP%]:before{content:"\uf2b8"}.fa-address-book[_ngcontent-%COMP%]:before{content:"\uf2b9"}.fa-address-book-o[_ngcontent-%COMP%]:before{content:"\uf2ba"}.fa-address-card[_ngcontent-%COMP%]:before, .fa-vcard[_ngcontent-%COMP%]:before{content:"\uf2bb"}.fa-address-card-o[_ngcontent-%COMP%]:before, .fa-vcard-o[_ngcontent-%COMP%]:before{content:"\uf2bc"}.fa-user-circle[_ngcontent-%COMP%]:before{content:"\uf2bd"}.fa-user-circle-o[_ngcontent-%COMP%]:before{content:"\uf2be"}.fa-user-o[_ngcontent-%COMP%]:before{content:"\uf2c0"}.fa-id-badge[_ngcontent-%COMP%]:before{content:"\uf2c1"}.fa-drivers-license[_ngcontent-%COMP%]:before, .fa-id-card[_ngcontent-%COMP%]:before{content:"\uf2c2"}.fa-drivers-license-o[_ngcontent-%COMP%]:before, .fa-id-card-o[_ngcontent-%COMP%]:before{content:"\uf2c3"}.fa-quora[_ngcontent-%COMP%]:before{content:"\uf2c4"}.fa-free-code-camp[_ngcontent-%COMP%]:before{content:"\uf2c5"}.fa-telegram[_ngcontent-%COMP%]:before{content:"\uf2c6"}.fa-thermometer-4[_ngcontent-%COMP%]:before, .fa-thermometer-full[_ngcontent-%COMP%]:before, .fa-thermometer[_ngcontent-%COMP%]:before{content:"\uf2c7"}.fa-thermometer-3[_ngcontent-%COMP%]:before, .fa-thermometer-three-quarters[_ngcontent-%COMP%]:before{content:"\uf2c8"}.fa-thermometer-2[_ngcontent-%COMP%]:before, .fa-thermometer-half[_ngcontent-%COMP%]:before{content:"\uf2c9"}.fa-thermometer-1[_ngcontent-%COMP%]:before, .fa-thermometer-quarter[_ngcontent-%COMP%]:before{content:"\uf2ca"}.fa-thermometer-0[_ngcontent-%COMP%]:before, .fa-thermometer-empty[_ngcontent-%COMP%]:before{content:"\uf2cb"}.fa-shower[_ngcontent-%COMP%]:before{content:"\uf2cc"}.fa-bath[_ngcontent-%COMP%]:before, .fa-bathtub[_ngcontent-%COMP%]:before, .fa-s15[_ngcontent-%COMP%]:before{content:"\uf2cd"}.fa-podcast[_ngcontent-%COMP%]:before{content:"\uf2ce"}.fa-window-maximize[_ngcontent-%COMP%]:before{content:"\uf2d0"}.fa-window-minimize[_ngcontent-%COMP%]:before{content:"\uf2d1"}.fa-window-restore[_ngcontent-%COMP%]:before{content:"\uf2d2"}.fa-times-rectangle[_ngcontent-%COMP%]:before, .fa-window-close[_ngcontent-%COMP%]:before{content:"\uf2d3"}.fa-times-rectangle-o[_ngcontent-%COMP%]:before, .fa-window-close-o[_ngcontent-%COMP%]:before{content:"\uf2d4"}.fa-bandcamp[_ngcontent-%COMP%]:before{content:"\uf2d5"}.fa-grav[_ngcontent-%COMP%]:before{content:"\uf2d6"}.fa-etsy[_ngcontent-%COMP%]:before{content:"\uf2d7"}.fa-imdb[_ngcontent-%COMP%]:before{content:"\uf2d8"}.fa-ravelry[_ngcontent-%COMP%]:before{content:"\uf2d9"}.fa-eercast[_ngcontent-%COMP%]:before{content:"\uf2da"}.fa-microchip[_ngcontent-%COMP%]:before{content:"\uf2db"}.fa-snowflake-o[_ngcontent-%COMP%]:before{content:"\uf2dc"}.fa-superpowers[_ngcontent-%COMP%]:before{content:"\uf2dd"}.fa-wpexplorer[_ngcontent-%COMP%]:before{content:"\uf2de"}.fa-meetup[_ngcontent-%COMP%]:before{content:"\uf2e0"}.sr-only[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.sr-only-focusable[_ngcontent-%COMP%]:active, .sr-only-focusable[_ngcontent-%COMP%]:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}a[_ngcontent-%COMP%]{cursor:pointer}.angular-editor-textarea[_ngcontent-%COMP%]{min-height:150px;overflow:auto;margin-top:5px;resize:vertical}.angular-editor-textarea[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;right:0;display:block;width:8px;height:8px;cursor:nwse-resize;background-color:hsla(0,0%,100%,.5)}.angular-editor-toolbar[_ngcontent-%COMP%]{font:100 14px/15px Roboto,Arial,sans-serif;background-color:#f5f5f5;font-size:.8rem;padding:.2rem;border:1px solid #ddd}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]{display:none;margin-right:5px;vertical-align:baseline}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]{background-color:#fff;vertical-align:middle;border:1px solid #ddd;padding:.4rem;min-width:2rem;float:left}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button.focus[_ngcontent-%COMP%], .angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:focus{outline:0}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled > .color-label[_ngcontent-%COMP%]{pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled > .color-label.background[_ngcontent-%COMP%], .angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled > .color-label.foreground[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{background:#555}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button.active[_ngcontent-%COMP%]{background:#fff5b9}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button.active[_ngcontent-%COMP%]:hover{background-color:#fffa98}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:11px;width:90px;vertical-align:middle;background-color:transparent;border:.5px solid hsla(0,0%,100%,0);border-radius:5px;outline:none;padding:.4rem;cursor:pointer}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance:none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .default[_ngcontent-%COMP%]{font-size:16px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{font-size:24px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:20px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h3[_ngcontent-%COMP%]{font-size:16px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h4[_ngcontent-%COMP%]{font-size:15px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h5[_ngcontent-%COMP%]{font-size:14px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h6[_ngcontent-%COMP%]{font-size:13px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .div[_ngcontent-%COMP%], .angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .pre[_ngcontent-%COMP%]{font-size:12px}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance:none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]{display:inline-block;width:50px}@supports not (-moz-appearance:none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size1[_ngcontent-%COMP%]{font-size:10px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size2[_ngcontent-%COMP%]{font-size:12px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size3[_ngcontent-%COMP%]{font-size:14px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size4[_ngcontent-%COMP%]{font-size:16px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size5[_ngcontent-%COMP%]{font-size:18px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size6[_ngcontent-%COMP%]{font-size:20px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size7[_ngcontent-%COMP%]{font-size:22px}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance:none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .color-label[_ngcontent-%COMP%]{position:relative;cursor:pointer}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{font-size:smaller;background:#1b1b1b;color:#fff;padding:3px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .foreground[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{position:absolute;content:"";left:-1px;top:auto;bottom:-3px;right:auto;width:15px;height:2px;z-index:0;background:#1b1b1b}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]:not([style*="display:none"]):not([style*="display: none"]), .select-button[_ngcontent-%COMP%]{display:inline-block}.select-button.disabled[_ngcontent-%COMP%]{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}']}),n})(),kJ=(()=>{class n{constructor(e,r){this.elRef=e,this.r=r,this.options=[],this.disabled=!1,this.optionId=0,this.opened=!1,this.hidden="inline-block",this.changeEvent=new l.vpe,this.onChange=()=>{},this.onTouched=()=>{}}get label(){return this.selectedOption&&this.selectedOption.hasOwnProperty("label")?this.selectedOption.label:"Select"}get value(){return this.selectedOption.value}ngOnInit(){this.selectedOption=this.options[0],I$(this.isHidden)&&this.isHidden&&this.hide()}hide(){this.hidden="none"}optionSelect(e,r){r.stopPropagation(),this.setValue(e.value),this.onChange(this.selectedOption.value),this.changeEvent.emit(this.selectedOption.value),this.onTouched(),this.opened=!1}toggleOpen(e){this.disabled||(this.opened=!this.opened)}onClick(e){this.elRef.nativeElement.contains(e.target)||this.close()}close(){this.opened=!1}get isOpen(){return this.opened}writeValue(e){!e||"string"!=typeof e||this.setValue(e)}setValue(e){let r=0;const i=this.options.find((a,d)=>(r=d,a.value===e));i&&(this.selectedOption=i,this.optionId=r)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.labelButton.nativeElement.disabled=e,this.r[e?"addClass":"removeClass"](this.labelButton.nativeElement,"disabled"),this.disabled=e}handleKeyDown(e){if(this.opened)switch(e.key){case"ArrowDown":this._handleArrowDown(e);break;case"ArrowUp":this._handleArrowUp(e);break;case"Space":this._handleSpace(e);break;case"Enter":this._handleEnter(e);break;case"Tab":this._handleTab(e);break;case"Escape":this.close(),e.preventDefault();break;case"Backspace":this._handleBackspace()}}_handleArrowDown(e){this.optionId<this.options.length-1&&this.optionId++}_handleArrowUp(e){this.optionId>=1&&this.optionId--}_handleSpace(e){}_handleEnter(e){this.optionSelect(this.options[this.optionId],e)}_handleTab(e){}_handleBackspace(){}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ae-select"]],viewQuery:function(e,r){if(1&e&&l.Gf(TJ,7),2&e){let i;l.iGM(i=l.CRH())&&(r.labelButton=i.first)}},hostVars:2,hostBindings:function(e,r){1&e&&l.NdJ("click",function(a){return r.onClick(a)},!1,l.evT)("keydown",function(a){return r.handleKeyDown(a)}),2&e&&l.Udp("display",r.hidden)},inputs:{options:"options",isHidden:["hidden","isHidden"]},outputs:{changeEvent:"change"},features:[l._Bn([{provide:xo,useExisting:(0,l.Gpc)(()=>n),multi:!0}])],decls:10,vars:7,consts:[[1,"ae-font","ae-picker",3,"ngClass"],["tabindex","0","type","button","role","button",1,"ae-picker-label",3,"tabIndex","click"],["labelButton",""],["viewBox","0 0 18 18"],["points","7 11 9 13 11 11 7 11",1,"ae-stroke"],["points","7 7 9 5 11 7 7 7",1,"ae-stroke"],[1,"ae-picker-options"],["tabindex","-1","type","button","role","button","class","ae-picker-item",3,"ngClass","click",4,"ngFor","ngForOf"],["class","dropdown-item",4,"ngIf"],["tabindex","-1","type","button","role","button",1,"ae-picker-item",3,"ngClass","click"],[1,"dropdown-item"]],template:function(e,r){1&e&&(l.TgZ(0,"span",0),l.TgZ(1,"button",1,2),l.NdJ("click",function(a){return r.toggleOpen(a)}),l._uU(3),l.O4$(),l.TgZ(4,"svg",3),l._UZ(5,"polygon",4),l._UZ(6,"polygon",5),l.qZA(),l.qZA(),l.kcU(),l.TgZ(7,"span",6),l.YNc(8,SJ,2,5,"button",7),l.YNc(9,PJ,2,0,"span",8),l.qZA(),l.qZA()),2&e&&(l.Q6J("ngClass",l.VKq(5,AJ,r.isOpen)),l.xp6(1),l.Q6J("tabIndex",-1),l.xp6(2),l.hij("",r.label," "),l.xp6(5),l.Q6J("ngForOf",r.options),l.xp6(1),l.Q6J("ngIf",!r.options.length))},directives:[Eo,$t,Nr],styles:['.ae-font.ae-picker{color:#444}.ae-font.ae-picker,.ae-font .ae-picker-label{display:inline-block;float:left;width:100%;position:relative;vertical-align:middle}.ae-font .ae-picker-label{cursor:pointer;height:100%;padding-left:8px;padding-right:10px;line-height:26px;font-size:85%;text-align:left;background-color:#fff;min-width:2rem;border:1px solid #ddd;text-overflow:clip;overflow:hidden;white-space:nowrap}.ae-font .ae-picker-label:before{content:"";position:absolute;right:0;top:0;width:20px;height:100%;background:linear-gradient(90deg,#fff,#fff)}.ae-font .ae-picker-label:focus{outline:none}.ae-font .ae-picker-label:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.ae-font .ae-picker-label:hover:before{background:linear-gradient(90deg,#f5f5f5 100%,#fff 0)}.ae-font .ae-picker-label:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.ae-font .ae-picker-label:disabled:before{background:linear-gradient(90deg,#f5f5f5 100%,#fff 0)}.ae-font .ae-picker-label svg{position:absolute;margin-top:-9px;right:0;top:50%;width:18px}.ae-font .ae-picker-label svg:not(:root){overflow:hidden}.ae-font .ae-picker-label svg .ae-stroke{fill:none;stroke:#444;stroke-linecap:round;stroke-linejoin:round;stroke-width:2}.ae-font .ae-picker-options{background-color:#fff;display:none;min-width:100%;position:absolute;white-space:nowrap;z-index:3;border:1px solid transparent;box-shadow:0 2px 8px rgba(0,0,0,.2)}.ae-font .ae-picker-options .ae-picker-item{cursor:pointer;display:block;padding-bottom:5px;padding-top:5px;padding-left:5px;z-index:3;text-align:left;background-color:transparent;min-width:2rem;width:100%;border:0 solid #ddd}.ae-font .ae-picker-options .ae-picker-item.selected{color:#06c;background-color:#fff4c2}.ae-font .ae-picker-options .ae-picker-item.focused,.ae-font .ae-picker-options .ae-picker-item:hover{background-color:#fffa98}.ae-font.ae-expanded{display:block;margin-top:-1px;z-index:1}.ae-font.ae-expanded .ae-picker-label,.ae-font.ae-expanded .ae-picker-label svg{color:#ccc;z-index:2}.ae-font.ae-expanded .ae-picker-label svg .ae-stroke{stroke:#ccc}.ae-font.ae-expanded .ae-picker-options{display:block;margin-top:-1px;top:100%;z-index:3;border-color:#ccc}'],encapsulation:2}),n})(),RJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[[mr,EA,bD]]}),n})();function NJ(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",15),l.NdJ("click",function(){const a=l.CHM(e).$implicit;return l.oxw().toogleCategory(a)}),l.TgZ(1,"mat-icon",16),l._uU(2," category "),l.qZA(),l.TgZ(3,"span"),l._uU(4),l.qZA(),l.qZA()}if(2&n){const e=t.$implicit;l.xp6(4),l.Oqu(e.name)}}let LJ=(()=>{class n{constructor(e,r){this.postsService=e,this.categoriesService=r,this.post={id:"",title:"",category:"",content:"",authorId:1},this.postSaved=new l.vpe,this.categories=[],this.config={editable:!0,spellcheck:!0,height:"15rem",minHeight:"5rem",placeholder:"Enter text here...",translate:"no",defaultParagraphSeparator:"p",defaultFontName:"Arial",toolbarHiddenButtons:[["bold"]]}}ngOnInit(){this.subscription=this.categoriesService.getCategoryList().subscribe(e=>this.categories=e)}ngOnDestroy(){this.subscription.unsubscribe()}toogleCategory(e){this.post.category=e.name}updatePost(){this.postsService.updatePost(this.post),this.postSaved.emit(!0)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(m$),l.Y36(yJ))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-post-form"]],inputs:{post:"post"},outputs:{postSaved:"postSaved"},decls:17,vars:6,consts:[[1,"container"],[1,"form"],[1,"form-title"],["type","text",1,"form-title__input",3,"ngModel","ngModelChange"],[1,"form-category"],[3,"matMenuTriggerFor"],[1,"post-item__menu"],[1,"mat-menu"],["menu","matMenu"],["mat-menu-item","","class","mat-menu__item",3,"click",4,"ngFor","ngForOf"],[1,"mat-divider"],[1,"content"],[1,"angular-editor",3,"ngModel","config","ngModelChange"],[1,"btn-group"],[1,"btn-group__item","save-btn",3,"click"],["mat-menu-item","",1,"mat-menu__item",3,"click"],[1,"mat-icon"]],template:function(e,r){if(1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.TgZ(2,"div",2),l.TgZ(3,"input",3),l.NdJ("ngModelChange",function(a){return r.post.title=a}),l.qZA(),l.qZA(),l.TgZ(4,"div",4),l.TgZ(5,"span",5),l._uU(6),l.qZA(),l.TgZ(7,"div",6),l.TgZ(8,"mat-menu",7,8),l.YNc(10,NJ,5,1,"div",9),l.qZA(),l.qZA(),l.qZA(),l._UZ(11,"mat-divider",10),l.TgZ(12,"div",11),l.TgZ(13,"angular-editor",12),l.NdJ("ngModelChange",function(a){return r.post.content=a}),l.qZA(),l.qZA(),l.TgZ(14,"div",13),l.TgZ(15,"button",14),l.NdJ("click",function(){return r.updatePost()}),l._uU(16," Save post "),l.qZA(),l.qZA(),l.qZA(),l.qZA()),2&e){const i=l.MAs(9);l.xp6(3),l.Q6J("ngModel",r.post.title),l.xp6(2),l.Q6J("matMenuTriggerFor",i),l.xp6(1),l.hij("",r.post.category," "),l.xp6(4),l.Q6J("ngForOf",r.categories),l.xp6(3),l.Q6J("ngModel",r.post.content)("config",r.config)}},directives:[yu,Vd,Tf,T$,E$,$t,_$,xJ,vM,bb],styles:['.container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;margin:30px auto 0;padding:0 90px;max-width:1000px}.form[_ngcontent-%COMP%]{font-family:"Segoe",Helvetica,Arial,sans-serif}.form-title[_ngcontent-%COMP%]{width:100%}.form-title__input[_ngcontent-%COMP%]{display:block;margin-left:-3px;width:100%;border:none;color:#3b454e;font-size:48px;font-weight:bold;line-height:56px}.form-title__input[_ngcontent-%COMP%]:focus{outline:none}.form-category[_ngcontent-%COMP%]{color:#8899a8;line-height:24px;font-weight:400;font-size:16px}.select[_ngcontent-%COMP%]{border:none;background-color:#2d323a}.select-option[_ngcontent-%COMP%]{color:#fff;line-height:20px;font-size:14px;font-family:"Open Sans",sans-serif;font-weight:400}.select[_ngcontent-%COMP%]:focus{border:none;outline:none}.btn-group__item[_ngcontent-%COMP%]{display:block;width:100%;box-shadow:#0000001f 0 1px 2px;margin-top:16px;cursor:pointer;background-color:#fff;padding:14px;border-color:#e3e8ed;border-radius:4px;border-width:1px;color:#3b454e;line-height:24px;font-size:16px;font-weight:500;margin-bottom:8px;font-family:"Open Sans",sans-serif;position:relative}.btn-group__item[_ngcontent-%COMP%]:hover{color:#7199e6;border-color:#7199e6}.mat-divider[_ngcontent-%COMP%]{margin:10px 0}  .mat-menu{background-color:#2d323a}  .mat-menu .mat-icon{color:#346ddb}  .mat-menu span{color:#fff}']}),n})();const VJ=function(n){return{inFocus:n}};function BJ(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"div",12),l.TgZ(1,"div",13),l.NdJ("click",function(){const a=l.CHM(e).$implicit;return l.oxw().isInFocus(a)}),l.TgZ(2,"div",14),l.TgZ(3,"a",15),l._uU(4),l.qZA(),l.qZA(),l.TgZ(5,"div",16),l.TgZ(6,"button",17),l.TgZ(7,"mat-icon"),l._uU(8,"more_vert"),l.qZA(),l.qZA(),l.TgZ(9,"mat-menu",18,19),l.TgZ(11,"button",20),l.NdJ("click",function(){return l.CHM(e),l.oxw().toogleIsEdit(!0)}),l.TgZ(12,"mat-icon",21),l._uU(13," edit_note "),l.qZA(),l.TgZ(14,"span"),l._uU(15,"Edit"),l.qZA(),l.qZA(),l.TgZ(16,"button",20),l.NdJ("click",function(){const a=l.CHM(e).$implicit;return l.oxw().deletePost(a)}),l.TgZ(17,"mat-icon",21),l._uU(18," delete "),l.qZA(),l.TgZ(19,"span"),l._uU(20,"Delete"),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA(),l.qZA()}if(2&n){const e=t.$implicit,r=l.MAs(10),i=l.oxw();l.xp6(1),l.Q6J("ngClass",l.VKq(3,VJ,e.id===i.postInFocus.id)),l.xp6(3),l.Oqu(e.title),l.xp6(2),l.Q6J("matMenuTriggerFor",r)}}function UJ(n,t){if(1&n&&l._UZ(0,"app-post-view",22),2&n){const e=l.oxw();l.Q6J("post",e.postInFocus)}}function HJ(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"app-post-form",23),l.NdJ("postSaved",function(i){return l.CHM(e),l.oxw().postSaved(i)}),l.qZA()}if(2&n){const e=l.oxw();l.Q6J("post",e.postInFocus)}}const jJ=function(n){return{"btn-group__item":!0,"btn-prev":n}};function zJ(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"button",24),l.NdJ("click",function(){return l.CHM(e),l.oxw().prevPost()}),l.TgZ(1,"mat-icon",25),l._uU(2,"arrow_back"),l.qZA(),l.TgZ(3,"span"),l._uU(4,"Previous"),l.qZA(),l.qZA()}if(2&n){const e=l.oxw();l.Q6J("ngClass",l.VKq(1,jJ,e.postInFocusPosition!==e.posts.length-1))}}const GJ=function(n){return{"btn-group__item":!0,"btn-next":n}};function $J(n,t){if(1&n){const e=l.EpF();l.TgZ(0,"button",24),l.NdJ("click",function(){return l.CHM(e),l.oxw().nextPost()}),l.TgZ(1,"span"),l._uU(2,"Next"),l.qZA(),l.TgZ(3,"mat-icon",26),l._uU(4,"arrow_forward"),l.qZA(),l.qZA()}if(2&n){const e=l.oxw();l.Q6J("ngClass",l.VKq(1,GJ,0!==e.postInFocusPosition))}}let qJ=(()=>{class n{constructor(e,r){this.postsService=e,this.dialog=r,this.posts=[],this.isEdit=!1,this.userId=1,this.postInFocus={id:"",title:"",category:"",content:"",authorId:1},this.config={editable:!0,spellcheck:!0,height:"15rem",minHeight:"5rem",placeholder:"Enter text here...",translate:"no",defaultParagraphSeparator:"p",defaultFontName:"Arial",toolbarHiddenButtons:[["bold"]]}}ngOnInit(){this.getPostsByUserId()}ngOnDestroy(){this.subscription.unsubscribe()}getPostsByUserId(){this.subscription=this.postsService.getPostsByUserId(this.userId).subscribe(e=>{this.posts=e,""==this.postInFocus.id&&this.isInFocus(e[e.length-1])})}openDialog(e){return this.dialog.open(tJ,{data:e}).afterClosed()}isInFocus(e){this.postInFocus.id!==e.id&&(this.isEdit&&this.postWasChanged()?this.openDialog({title:"Warning",message:"Changes to your post have not been saved. If you move to another post the changes will be lost.",firstButtonText:"Cancel",secondButtonText:"Continue"}).subscribe(r=>{r&&(this.postInFocus=e,this.postInFocusPosition=this.posts.findIndex(i=>i.id==e.id),this.toogleIsEdit(!1))}):(this.postInFocus=e,this.postInFocusPosition=this.posts.findIndex(r=>r.id==e.id),this.toogleIsEdit(!1)))}addPost(){this.postsService.createPost({id:"",title:"New post title",category:"New post category",content:"New post content",authorId:this.userId}).then(()=>{this.isInFocus(this.posts[this.posts.length-1]),this.toogleIsEdit(!0)})}deletePost(e){this.openDialog({title:"Delete post",message:"This post and its content will be deleted. You won't be able to resume this post.",firstButtonText:"Cancel",secondButtonText:"Delete"}).subscribe(r=>{r&&(this.postsService.deletePost(e.id),this.isInFocus(this.posts[this.postInFocusPosition-1]))})}toogleIsEdit(e){this.isEdit=e,this.postCopy=Object.assign({},this.postInFocus)}nextPost(){this.isInFocus(this.posts[this.postInFocusPosition+1])}prevPost(){this.isInFocus(this.posts[this.postInFocusPosition-1])}postSaved(e){this.toogleIsEdit(!1)}postWasChanged(){return!(this.postCopy.title==this.postInFocus.title&&this.postCopy.category==this.postInFocus.category&&this.postCopy.content==this.postInFocus.content)}}return n.\u0275fac=function(e){return new(e||n)(l.Y36(m$),l.Y36(RP))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-user-posts"]],decls:15,vars:5,consts:[[1,"container"],[1,"navigation-group"],["class","navigation-group__item",4,"ngFor","ngForOf"],[1,"mat-divider__navigation"],[1,"create-btn",3,"click"],[1,"create-btn__icon"],[1,"create-btn__text"],[1,"content-group"],[3,"post",4,"ngIf"],[3,"post","postSaved",4,"ngIf"],[1,"btn-group"],[3,"ngClass","click",4,"ngIf"],[1,"navigation-group__item"],[1,"post-item",3,"ngClass","click"],[1,"post-item__content"],[1,"post-item__title"],[1,"post-item__menu"],[1,"post-item__menu-icon",3,"matMenuTriggerFor"],[1,"mat-menu"],["menu","matMenu"],["mat-menu-item","",1,"mat-menu__item",3,"click"],[1,"mat-icon"],[3,"post"],[3,"post","postSaved"],[3,"ngClass","click"],[1,"btn-prev__icon"],[1,"btn-next__icon"]],template:function(e,r){1&e&&(l.TgZ(0,"div",0),l.TgZ(1,"div",1),l.YNc(2,BJ,21,5,"div",2),l._UZ(3,"mat-divider",3),l.TgZ(4,"button",4),l.NdJ("click",function(){return r.addPost()}),l.TgZ(5,"mat-icon",5),l._uU(6," post_add "),l.qZA(),l.TgZ(7,"span",6),l._uU(8,"New post"),l.qZA(),l.qZA(),l.qZA(),l.TgZ(9,"div",7),l.YNc(10,UJ,1,1,"app-post-view",8),l.YNc(11,HJ,1,1,"app-post-form",9),l.TgZ(12,"div",10),l.YNc(13,zJ,5,3,"button",11),l.YNc(14,$J,5,3,"button",11),l.qZA(),l.qZA(),l.qZA()),2&e&&(l.xp6(2),l.Q6J("ngForOf",r.posts),l.xp6(8),l.Q6J("ngIf",!r.isEdit),l.xp6(1),l.Q6J("ngIf",r.isEdit),l.xp6(2),l.Q6J("ngIf",0!==r.postInFocusPosition),l.xp6(1),l.Q6J("ngIf",r.postInFocusPosition!==r.posts.length-1))},directives:[$t,_$,bb,Nr,Eo,T$,E$,vM,_J,LJ],styles:['.container[_ngcontent-%COMP%]{display:flex;min-height:100vh}.navigation-group[_ngcontent-%COMP%]{flex-basis:25%;background-color:#f3f5f6;padding-left:24px;padding-top:16px;padding-bottom:16px}.navigation-group__item[_ngcontent-%COMP%]{align-items:center;cursor:pointer}.navigation-group[_ngcontent-%COMP%]   .post-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;line-height:22px;font-family:"Open Sans",sans-serif;font-weight:500;font-size:14px;padding:8px 16px;color:#5c6975}.navigation-group[_ngcontent-%COMP%]   .post-item__content[_ngcontent-%COMP%]{overflow:hidden}.navigation-group[_ngcontent-%COMP%]   .post-item.inFocus[_ngcontent-%COMP%]{background-color:#fff;color:#7199e6;border:1px solid #d3dce4}.navigation-group[_ngcontent-%COMP%]   .post-item.inFocus[_ngcontent-%COMP%]:hover{background-color:#fff}.navigation-group[_ngcontent-%COMP%]   .post-item__menu-icon[_ngcontent-%COMP%]{background-color:inherit;border:none;cursor:pointer;width:10px;margin-right:16px;padding-top:6px}.navigation-group[_ngcontent-%COMP%]   .post-item__menu-icon[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#5c6975}.navigation-group[_ngcontent-%COMP%]   .post-item[_ngcontent-%COMP%]:hover{background-color:#dce2ed}.navigation-group[_ngcontent-%COMP%]   .create-btn[_ngcontent-%COMP%]{display:block;border:none;width:100%;padding:14px 16px;color:#8899a8;line-height:22px;font-weight:500;font-size:14px;font-family:"Open Sans",sans-serif;display:flex;align-items:center;justify-content:flex-start;background-color:inherit}.navigation-group[_ngcontent-%COMP%]   .create-btn[_ngcontent-%COMP%]:hover{background-color:#dce2ed}.navigation-group[_ngcontent-%COMP%]   .create-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:inline-block;margin-left:10px}.content-group[_ngcontent-%COMP%]{flex-basis:75%;background-color:#fff;border:1px solid #f3f5f6}.btn-group[_ngcontent-%COMP%]{display:flex;max-width:1000px;margin:0 auto;padding:0 90px;flex-direction:row}.btn-group__item[_ngcontent-%COMP%]{display:block;width:100%;box-shadow:#0000001f 0 1px 2px;margin-bottom:8px;margin-right:0;flex-shrink:1;flex-grow:1;flex-basis:0%;cursor:pointer;background-color:#fff;padding:14px;border-color:#e3e8ed;border-radius:4px;border-width:1px;color:#3b454e;line-height:24px;font-size:16px;font-weight:500;font-family:"Open Sans",sans-serif;position:relative}.btn-group__item[_ngcontent-%COMP%]:hover{color:#7199e6;border-color:#7199e6}.btn-group[_ngcontent-%COMP%]   .btn-prev[_ngcontent-%COMP%]{margin-right:6px}.btn-group[_ngcontent-%COMP%]   .btn-prev__icon[_ngcontent-%COMP%]{position:absolute;top:16px;left:10px}.btn-group[_ngcontent-%COMP%]   .btn-next[_ngcontent-%COMP%]{margin-left:6px}.btn-group[_ngcontent-%COMP%]   .btn-next__icon[_ngcontent-%COMP%]{position:absolute;top:16px;right:10px}.mat-divider__navigation[_ngcontent-%COMP%]{margin:10px 0}  .mat-menu{background-color:#2d323a}  .mat-menu .mat-icon{color:#346ddb}  .mat-menu span{color:#fff}']}),n})(),WJ=(()=>{class n{constructor(){this.title="inventor-wiki"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(e,r){1&e&&l._UZ(0,"app-user-posts")},directives:[qJ],styles:[""]}),n})(),ZJ=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[WJ]}),n.\u0275inj=l.cJS({providers:[],imports:[[dd,$8,ck,EA,bD,cm,gm,Nk,sI,HW,oI,IZ,BZ,ao.hO.initializeApp(KH_firebase),p8,VQ,eJ,mJ,RJ,Kk,nJ]]}),n})();(0,l.G48)(),vs().bootstrapModule(ZJ).catch(n=>console.error(n))},3394:(qe,ye,V)=>{"use strict";V.d(ye,{Z:()=>Ne});var l=V(3854),ne=V(3910),B=V(8026),ae=V(5422);class re{constructor(de,se){this._delegate=de,this.firebase=se,(0,B._addComponent)(de,new ne.wA("app-compat",()=>this,"PUBLIC")),this.container=de.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(de){this._delegate.automaticDataCollectionEnabled=de}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(de=>{this._delegate.checkDestroyed(),de()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,B.deleteApp)(this._delegate)))}_getService(de,se=B._DEFAULT_ENTRY_NAME){var Me;this._delegate.checkDestroyed();const ke=this._delegate.container.getProvider(de);return!ke.isInitialized()&&"EXPLICIT"===(null===(Me=ke.getComponent())||void 0===Me?void 0:Me.instantiationMode)&&ke.initialize(),ke.getImmediate({identifier:se})}_removeServiceInstance(de,se=B._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(de).clearInstance(se)}_addComponent(de){(0,B._addComponent)(this._delegate,de)}_addOrOverwriteComponent(de){(0,B._addOrOverwriteComponent)(this._delegate,de)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const K=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),U=function Q(){const Ee=function(Ee){const de={},se={__esModule:!0,initializeApp:function(Ct,Cn={}){const wt=B.initializeApp(Ct,Cn);if((0,l.r3)(de,wt.name))return de[wt.name];const gt=new Ee(wt,se);return de[wt.name]=gt,gt},app:ke,registerVersion:B.registerVersion,setLogLevel:B.setLogLevel,onLog:B.onLog,apps:null,SDK_VERSION:B.SDK_VERSION,INTERNAL:{registerComponent:function(Ct){const Cn=Ct.name,wt=Cn.replace("-compat","");if(B._registerComponent(Ct)&&"PUBLIC"===Ct.type){const gt=(Zt=ke())=>{if("function"!=typeof Zt[wt])throw K.create("invalid-app-argument",{appName:Cn});return Zt[wt]()};void 0!==Ct.serviceProps&&(0,l.ZB)(gt,Ct.serviceProps),se[wt]=gt,Ee.prototype[wt]=function(...Zt){return this._getService.bind(this,Cn).apply(this,Ct.multipleInstances?Zt:[])}}return"PUBLIC"===Ct.type?se[wt]:null},removeApp:function(Ct){delete de[Ct]},useAsService:function(Ct,Cn){return"serverAuth"===Cn?null:Cn},modularAPIs:B}};function ke(Ct){if(!(0,l.r3)(de,Ct=Ct||B._DEFAULT_ENTRY_NAME))throw K.create("no-app",{appName:Ct});return de[Ct]}return se.default=se,Object.defineProperty(se,"apps",{get:function(){return Object.keys(de).map(Ct=>de[Ct])}}),ke.App=Ee,se}(re);return Ee.INTERNAL=Object.assign(Object.assign({},Ee.INTERNAL),{createFirebaseNamespace:Q,extendNamespace:function(se){(0,l.ZB)(Ee,se)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),Ee}(),H=new ae.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ee=self.firebase.SDK_VERSION;Ee&&Ee.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ne=U;(0,B.registerVersion)("@firebase/app-compat","0.1.10",undefined)},8026:(qe,ye,V)=>{"use strict";V.r(ye),V.d(ye,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Da,_DEFAULT_ENTRY_NAME:()=>Ho,_addComponent:()=>jo,_addOrOverwriteComponent:()=>hs,_apps:()=>jt,_clearComponents:()=>wn,_components:()=>zt,_getProvider:()=>dn,_registerComponent:()=>Co,_removeServiceInstance:()=>Ma,deleteApp:()=>fr,getApp:()=>wo,getApps:()=>De,initializeApp:()=>Zi,onLog:()=>Gt,registerVersion:()=>Ye,setLogLevel:()=>Yi});var l=V(8239),ne=V(3910),B=V(5422),ae=V(3854);class re{constructor(at){this.container=at}getPlatformInfoString(){return this.container.getProviders().map(It=>{if(function(rt){const at=rt.getComponent();return"VERSION"===(null==at?void 0:at.type)}(It)){const St=It.getImmediate();return`${St.library}/${St.version}`}return null}).filter(It=>It).join(" ")}}const K="@firebase/app",Z="0.7.9",Q=new B.Yd("@firebase/app"),Ho="[DEFAULT]",Ml={[K]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},jt=new Map,zt=new Map;function jo(rt,at){try{rt.container.addComponent(at)}catch(It){Q.debug(`Component ${at.name} failed to register with FirebaseApp ${rt.name}`,It)}}function hs(rt,at){rt.container.addOrOverwriteComponent(at)}function Co(rt){const at=rt.name;if(zt.has(at))return Q.debug(`There were multiple attempts to register component ${at}.`),!1;zt.set(at,rt);for(const It of jt.values())jo(It,rt);return!0}function dn(rt,at){return rt.container.getProvider(at)}function Ma(rt,at,It=Ho){dn(rt,at).clearInstance(It)}function wn(){zt.clear()}const Ut=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class En{constructor(at,It,St){this._isDeleted=!1,this._options=Object.assign({},at),this._config=Object.assign({},It),this._name=It.name,this._automaticDataCollectionEnabled=It.automaticDataCollectionEnabled,this._container=St,this.container.addComponent(new ne.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(at){this.checkDestroyed(),this._automaticDataCollectionEnabled=at}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(at){this._isDeleted=at}checkDestroyed(){if(this.isDeleted)throw Ut.create("app-deleted",{appName:this._name})}}const Da="9.5.0";function Zi(rt,at={}){"object"!=typeof at&&(at={name:at});const It=Object.assign({name:Ho,automaticDataCollectionEnabled:!1},at),St=It.name;if("string"!=typeof St||!St)throw Ut.create("bad-app-name",{appName:String(St)});const qr=jt.get(St);if(qr){if((0,ae.vZ)(rt,qr.options)&&(0,ae.vZ)(It,qr.config))return qr;throw Ut.create("duplicate-app",{appName:St})}const Wt=new ne.H0(St);for(const nt of zt.values())Wt.addComponent(nt);const Re=new En(rt,It,Wt);return jt.set(St,Re),Re}function wo(rt=Ho){const at=jt.get(rt);if(!at)throw Ut.create("no-app",{appName:rt});return at}function De(){return Array.from(jt.values())}function fr(rt){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,l.Z)(function*(rt){const at=rt.name;jt.has(at)&&(jt.delete(at),yield Promise.all(rt.container.getProviders().map(It=>It.delete())),rt.isDeleted=!0)})).apply(this,arguments)}function Ye(rt,at,It){var St;let qr=null!==(St=Ml[rt])&&void 0!==St?St:rt;It&&(qr+=`-${It}`);const Wt=qr.match(/\s|\//),Re=at.match(/\s|\//);if(Wt||Re){const nt=[`Unable to register library "${qr}" with version "${at}":`];return Wt&&nt.push(`library name "${qr}" contains illegal characters (whitespace or "/")`),Wt&&Re&&nt.push("and"),Re&&nt.push(`version name "${at}" contains illegal characters (whitespace or "/")`),void Q.warn(nt.join(" "))}Co(new ne.wA(`${qr}-version`,()=>({library:qr,version:at}),"VERSION"))}function Gt(rt,at){if(null!==rt&&"function"!=typeof rt)throw Ut.create("invalid-log-argument");(0,B.Am)(rt,at)}function Yi(rt){(0,B.Ub)(rt)}Co(new ne.wA("platform-logger",at=>new re(at),"PRIVATE")),Ye(K,Z,""),Ye(K,Z,"esm2017"),Ye("fire-js","")},3910:(qe,ye,V)=>{"use strict";V.d(ye,{wA:()=>B,H0:()=>Z,zt:()=>re});var l=V(8239),ne=V(3854);class B{constructor(U,H,$){this.name=U,this.instanceFactory=H,this.type=$,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(U){return this.instantiationMode=U,this}setMultipleInstances(U){return this.multipleInstances=U,this}setServiceProps(U){return this.serviceProps=U,this}setInstanceCreatedCallback(U){return this.onInstanceCreated=U,this}}const ae="[DEFAULT]";class re{constructor(U,H){this.name=U,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(U){const H=this.normalizeInstanceIdentifier(U);if(!this.instancesDeferred.has(H)){const $=new ne.BH;if(this.instancesDeferred.set(H,$),this.isInitialized(H)||this.shouldAutoInitialize())try{const ue=this.getOrInitializeService({instanceIdentifier:H});ue&&$.resolve(ue)}catch(ue){}}return this.instancesDeferred.get(H).promise}getImmediate(U){var H;const $=this.normalizeInstanceIdentifier(null==U?void 0:U.identifier),ue=null!==(H=null==U?void 0:U.optional)&&void 0!==H&&H;if(!this.isInitialized($)&&!this.shouldAutoInitialize()){if(ue)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:$})}catch(me){if(ue)return null;throw me}}getComponent(){return this.component}setComponent(U){if(U.name!==this.name)throw Error(`Mismatching Component ${U.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=U,this.shouldAutoInitialize()){if("EAGER"===U.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ae})}catch(H){}for(const[H,$]of this.instancesDeferred.entries()){const ue=this.normalizeInstanceIdentifier(H);try{const me=this.getOrInitializeService({instanceIdentifier:ue});$.resolve(me)}catch(me){}}}}clearInstance(U=ae){this.instancesDeferred.delete(U),this.instancesOptions.delete(U),this.instances.delete(U)}delete(){var U=this;return(0,l.Z)(function*(){const H=Array.from(U.instances.values());yield Promise.all([...H.filter($=>"INTERNAL"in $).map($=>$.INTERNAL.delete()),...H.filter($=>"_delete"in $).map($=>$._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(U=ae){return this.instances.has(U)}getOptions(U=ae){return this.instancesOptions.get(U)||{}}initialize(U={}){const{options:H={}}=U,$=this.normalizeInstanceIdentifier(U.instanceIdentifier);if(this.isInitialized($))throw Error(`${this.name}(${$}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ue=this.getOrInitializeService({instanceIdentifier:$,options:H});for(const[me,Ne]of this.instancesDeferred.entries())$===this.normalizeInstanceIdentifier(me)&&Ne.resolve(ue);return ue}onInit(U,H){var $;const ue=this.normalizeInstanceIdentifier(H),me=null!==($=this.onInitCallbacks.get(ue))&&void 0!==$?$:new Set;me.add(U),this.onInitCallbacks.set(ue,me);const Ne=this.instances.get(ue);return Ne&&U(Ne,ue),()=>{me.delete(U)}}invokeOnInitCallbacks(U,H){const $=this.onInitCallbacks.get(H);if($)for(const ue of $)try{ue(U,H)}catch(me){}}getOrInitializeService({instanceIdentifier:U,options:H={}}){let $=this.instances.get(U);if(!$&&this.component&&($=this.component.instanceFactory(this.container,{instanceIdentifier:(Q=U,Q===ae?void 0:Q),options:H}),this.instances.set(U,$),this.instancesOptions.set(U,H),this.invokeOnInitCallbacks($,U),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,U,$)}catch(ue){}var Q;return $||null}normalizeInstanceIdentifier(U=ae){return this.component?this.component.multipleInstances?U:ae:U}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Z{constructor(U){this.name=U,this.providers=new Map}addComponent(U){const H=this.getProvider(U.name);if(H.isComponentSet())throw new Error(`Component ${U.name} has already been registered with ${this.name}`);H.setComponent(U)}addOrOverwriteComponent(U){this.getProvider(U.name).isComponentSet()&&this.providers.delete(U.name),this.addComponent(U)}getProvider(U){if(this.providers.has(U))return this.providers.get(U);const H=new re(U,this);return this.providers.set(U,H),H}getProviders(){return Array.from(this.providers.values())}}},5422:(qe,ye,V)=>{"use strict";V.d(ye,{in:()=>ne,Yd:()=>K,Ub:()=>Z,Am:()=>Q});const l=[];var ne=(()=>{return(U=ne||(ne={}))[U.DEBUG=0]="DEBUG",U[U.VERBOSE=1]="VERBOSE",U[U.INFO=2]="INFO",U[U.WARN=3]="WARN",U[U.ERROR=4]="ERROR",U[U.SILENT=5]="SILENT",ne;var U})();const B={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},ae=ne.INFO,re={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},ee=(U,H,...$)=>{if(H<U.logLevel)return;const ue=(new Date).toISOString(),me=re[H];if(!me)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[me](`[${ue}]  ${U.name}:`,...$)};class K{constructor(H){this.name=H,this._logLevel=ae,this._logHandler=ee,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in ne))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?B[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...H),this._logHandler(this,ne.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...H),this._logHandler(this,ne.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...H),this._logHandler(this,ne.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...H),this._logHandler(this,ne.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...H),this._logHandler(this,ne.ERROR,...H)}}function Z(U){l.forEach(H=>{H.setLogLevel(U)})}function Q(U,H){for(const $ of l){let ue=null;H&&H.level&&(ue=B[H.level]),$.userLogHandler=null===U?null:(me,Ne,...Ee)=>{const de=Ee.map(se=>{if(null==se)return null;if("string"==typeof se)return se;if("number"==typeof se||"boolean"==typeof se)return se.toString();if(se instanceof Error)return se.message;try{return JSON.stringify(se)}catch(Me){return null}}).filter(se=>se).join(" ");Ne>=(null!=ue?ue:me.logLevel)&&U({level:ne[Ne].toLowerCase(),message:de,args:Ee,type:me.name})}}}},8239:(qe,ye,V)=>{"use strict";function l(B,ae,re,ee,K,Z,Q){try{var U=B[Z](Q),H=U.value}catch($){return void re($)}U.done?ae(H):Promise.resolve(H).then(ee,K)}function ne(B){return function(){var ae=this,re=arguments;return new Promise(function(ee,K){var Z=B.apply(ae,re);function Q(H){l(Z,ee,K,Q,U,"next",H)}function U(H){l(Z,ee,K,Q,U,"throw",H)}Q(void 0)})}}V.d(ye,{Z:()=>ne})}},qe=>{qe(qe.s=8705)}]);